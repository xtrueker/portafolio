var xA=Object.defineProperty,MA=Object.defineProperties;var NA=Object.getOwnPropertyDescriptors;var DI=Object.getOwnPropertySymbols;var PA=Object.prototype.hasOwnProperty,OA=Object.prototype.propertyIsEnumerable;var CI=(n,e,t)=>e in n?xA(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,j=(n,e)=>{for(var t in e||={})PA.call(e,t)&&CI(n,t,e[t]);if(DI)for(var t of DI(e))OA.call(e,t)&&CI(n,t,e[t]);return n},Ie=(n,e)=>MA(n,NA(e));var T=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});var TI=null;var Lh=1,Uh=Symbol("SIGNAL");function ve(n){let e=TI;return TI=n,e}var SI={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function kA(n){if(!($h(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Lh)){if(!n.producerMustRecompute(n)&&!jh(n)){n.dirty=!1,n.lastCleanEpoch=Lh;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Lh}}function AI(n){return n&&(n.nextProducerIndex=0),ve(n)}function RI(n,e){if(ve(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if($h(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Bh(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function jh(n){jc(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(kA(t),r!==t.version))return!0}return!1}function xI(n){if(jc(n),$h(n))for(let e=0;e<n.producerNode.length;e++)Bh(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Bh(n,e){if(FA(n),jc(n),n.liveConsumerNode.length===1)for(let r=0;r<n.producerNode.length;r++)Bh(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];jc(i),i.producerIndexOfThis[r]=e}}function $h(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function jc(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function FA(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function VA(){throw new Error}var LA=VA;function MI(n){LA=n}function oe(n){return typeof n=="function"}function Wi(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Bc=Wi(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Xr(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Be=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(oe(r))try{r()}catch(o){e=o instanceof Bc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{NI(o)}catch(s){e=e??[],s instanceof Bc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Bc(e)}}add(e){var t;if(e&&e!==this)if(this.closed)NI(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Xr(t,e)}remove(e){let{_finalizers:t}=this;t&&Xr(t,e),e instanceof n&&e._removeParent(this)}};Be.EMPTY=(()=>{let n=new Be;return n.closed=!0,n})();var Hh=Be.EMPTY;function $c(n){return n instanceof Be||n&&"closed"in n&&oe(n.remove)&&oe(n.add)&&oe(n.unsubscribe)}function NI(n){oe(n)?n():n.unsubscribe()}var nn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ki={setTimeout(n,e,...t){let{delegate:r}=Ki;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Ki;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Hc(n){Ki.setTimeout(()=>{let{onUnhandledError:e}=nn;if(e)e(n);else throw n})}function Ls(){}var PI=qh("C",void 0,void 0);function OI(n){return qh("E",void 0,n)}function kI(n){return qh("N",n,void 0)}function qh(n,e,t){return{kind:n,value:e,error:t}}var ei=null;function Qi(n){if(nn.useDeprecatedSynchronousErrorHandling){let e=!ei;if(e&&(ei={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=ei;if(ei=null,t)throw r}}else n()}function FI(n){nn.useDeprecatedSynchronousErrorHandling&&ei&&(ei.errorThrown=!0,ei.error=n)}var ti=class extends Be{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,$c(e)&&e.add(this)):this.destination=BA}static create(e,t,r){return new Yi(e,t,r)}next(e){this.isStopped?Gh(kI(e),this):this._next(e)}error(e){this.isStopped?Gh(OI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Gh(PI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},UA=Function.prototype.bind;function zh(n,e){return UA.call(n,e)}var Wh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){qc(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){qc(r)}else qc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){qc(t)}}},Yi=class extends ti{constructor(e,t,r){super();let i;if(oe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&nn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&zh(e.next,o),error:e.error&&zh(e.error,o),complete:e.complete&&zh(e.complete,o)}):i=e}this.destination=new Wh(i)}};function qc(n){nn.useDeprecatedSynchronousErrorHandling?FI(n):Hc(n)}function jA(n){throw n}function Gh(n,e){let{onStoppedNotification:t}=nn;t&&Ki.setTimeout(()=>t(n,e))}var BA={closed:!0,next:Ls,error:jA,complete:Ls};var Ji=typeof Symbol=="function"&&Symbol.observable||"@@observable";function kt(n){return n}function zc(...n){return Kh(n)}function Kh(n){return n.length===0?kt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var de=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=HA(t)?t:new Yi(t,r,i);return Qi(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=VI(r),new r((i,o)=>{let s=new Yi({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Ji](){return this}pipe(...t){return Kh(t)(this)}toPromise(t){return t=VI(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function VI(n){var e;return(e=n??nn.Promise)!==null&&e!==void 0?e:Promise}function $A(n){return n&&oe(n.next)&&oe(n.error)&&oe(n.complete)}function HA(n){return n&&n instanceof ti||$A(n)&&$c(n)}function Qh(n){return oe(n?.lift)}function ge(n){return e=>{if(Qh(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function he(n,e,t,r,i){return new Yh(n,e,t,r,i)}var Yh=class extends ti{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Zi(){return ge((n,e)=>{let t=null;n._refCount++;let r=he(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Xi=class extends de{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Qh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Be;let t=this.getSubject();e.add(this.source.subscribe(he(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Be.EMPTY)}return e}refCount(){return Zi()(this)}};var LI=Wi(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _t=(()=>{class n extends de{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Gc(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new LI}next(t){Qi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Qi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Qi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Hh:(this.currentObservers=null,o.push(t),new Be(()=>{this.currentObservers=null,Xr(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new de;return t.source=this,t}}return n.create=(e,t)=>new Gc(e,t),n})(),Gc=class extends _t{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Hh}};var st=class extends _t{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Jh={now(){return(Jh.delegate||Date).now()},delegate:void 0};var Wc=class extends Be{constructor(e,t){super()}schedule(e,t=0){return this}};var Us={setInterval(n,e,...t){let{delegate:r}=Us;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Us;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var eo=class extends Wc{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Us.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Us.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Xr(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var to=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};to.now=Jh.now;var no=class extends to{constructor(e,t=to.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Zh=new no(eo);var Kc=class extends eo{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Qc=class extends no{};var Xh=new Qc(Kc);var Ft=new de(n=>n.complete());function UI(n){return n&&oe(n.schedule)}function jI(n){return n[n.length-1]}function Yc(n){return oe(jI(n))?n.pop():void 0}function mr(n){return UI(jI(n))?n.pop():void 0}function ef(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function $I(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(f){try{l(r.next(f))}catch(p){s(p)}}function u(f){try{l(r.throw(f))}catch(p){s(p)}}function l(f){f.done?o(f.value):i(f.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function BI(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ni(n){return this instanceof ni?(this.v=n,this):new ni(n)}function HI(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(y){r[y]&&(i[y]=function(w){return new Promise(function(A,M){o.push([y,w,A,M])>1||a(y,w)})})}function a(y,w){try{u(r[y](w))}catch(A){p(o[0][3],A)}}function u(y){y.value instanceof ni?Promise.resolve(y.value.v).then(l,f):p(o[0][2],y)}function l(y){a("next",y)}function f(y){a("throw",y)}function p(y,w){y(w),o.shift(),o.length&&a(o[0][0],o[0][1])}}function qI(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof BI=="function"?BI(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Jc=n=>n&&typeof n.length=="number"&&typeof n!="function";function Zc(n){return oe(n?.then)}function Xc(n){return oe(n[Ji])}function eu(n){return Symbol.asyncIterator&&oe(n?.[Symbol.asyncIterator])}function tu(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function qA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var nu=qA();function ru(n){return oe(n?.[nu])}function iu(n){return HI(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield ni(t.read());if(i)return yield ni(void 0);yield yield ni(r)}}finally{t.releaseLock()}})}function ou(n){return oe(n?.getReader)}function He(n){if(n instanceof de)return n;if(n!=null){if(Xc(n))return zA(n);if(Jc(n))return GA(n);if(Zc(n))return WA(n);if(eu(n))return zI(n);if(ru(n))return KA(n);if(ou(n))return QA(n)}throw tu(n)}function zA(n){return new de(e=>{let t=n[Ji]();if(oe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function GA(n){return new de(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function WA(n){return new de(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Hc)})}function KA(n){return new de(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function zI(n){return new de(e=>{YA(n,e).catch(t=>e.error(t))})}function QA(n){return zI(iu(n))}function YA(n,e){var t,r,i,o;return $I(this,void 0,void 0,function*(){try{for(t=qI(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Ct(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function gr(n,e=0){return ge((t,r)=>{t.subscribe(he(r,i=>Ct(r,n,()=>r.next(i),e),()=>Ct(r,n,()=>r.complete(),e),i=>Ct(r,n,()=>r.error(i),e)))})}function yr(n,e=0){return ge((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function GI(n,e){return He(n).pipe(yr(e),gr(e))}function WI(n,e){return He(n).pipe(yr(e),gr(e))}function KI(n,e){return new de(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function QI(n,e){return new de(t=>{let r;return Ct(t,e,()=>{r=n[nu](),Ct(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>oe(r?.return)&&r.return()})}function su(n,e){if(!n)throw new Error("Iterable cannot be null");return new de(t=>{Ct(t,e,()=>{let r=n[Symbol.asyncIterator]();Ct(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function YI(n,e){return su(iu(n),e)}function JI(n,e){if(n!=null){if(Xc(n))return GI(n,e);if(Jc(n))return KI(n,e);if(Zc(n))return WI(n,e);if(eu(n))return su(n,e);if(ru(n))return QI(n,e);if(ou(n))return YI(n,e)}throw tu(n)}function Me(n,e){return e?JI(n,e):He(n)}function q(...n){let e=mr(n);return Me(n,e)}function ro(n,e){let t=oe(n)?n:()=>n,r=i=>i.error(t());return new de(e?i=>e.schedule(r,0,i):r)}function tf(n){return!!n&&(n instanceof de||oe(n.lift)&&oe(n.subscribe))}var Ln=Wi(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function X(n,e){return ge((t,r)=>{let i=0;t.subscribe(he(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:JA}=Array;function ZA(n,e){return JA(e)?n(...e):n(e)}function au(n){return X(e=>ZA(n,e))}var{isArray:XA}=Array,{getPrototypeOf:eR,prototype:tR,keys:nR}=Object;function cu(n){if(n.length===1){let e=n[0];if(XA(e))return{args:e,keys:null};if(rR(e)){let t=nR(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function rR(n){return n&&typeof n=="object"&&eR(n)===tR}function uu(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function js(...n){let e=mr(n),t=Yc(n),{args:r,keys:i}=cu(n);if(r.length===0)return Me([],e);let o=new de(iR(r,e,i?s=>uu(i,s):kt));return t?o.pipe(au(t)):o}function iR(n,e,t=kt){return r=>{ZI(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)ZI(e,()=>{let l=Me(n[u],e),f=!1;l.subscribe(he(r,p=>{o[u]=p,f||(f=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function ZI(n,e,t){n?Ct(t,n,e):e()}function XI(n,e,t,r,i,o,s,a){let u=[],l=0,f=0,p=!1,y=()=>{p&&!u.length&&!l&&e.complete()},w=M=>l<r?A(M):u.push(M),A=M=>{o&&e.next(M),l++;let x=!1;He(t(M,f++)).subscribe(he(e,U=>{i?.(U),o?w(U):e.next(U)},()=>{x=!0},void 0,()=>{if(x)try{for(l--;u.length&&l<r;){let U=u.shift();s?Ct(e,s,()=>A(U)):A(U)}y()}catch(U){e.error(U)}}))};return n.subscribe(he(e,w,()=>{p=!0,y()})),()=>{a?.()}}function qe(n,e,t=1/0){return oe(e)?qe((r,i)=>X((o,s)=>e(r,o,i,s))(He(n(r,i))),t):(typeof e=="number"&&(t=e),ge((r,i)=>XI(r,i,n,t)))}function io(n=1/0){return qe(kt,n)}function ew(){return io(1)}function oo(...n){return ew()(Me(n,mr(n)))}function lu(n){return new de(e=>{He(n()).subscribe(e)})}function nf(...n){let e=Yc(n),{args:t,keys:r}=cu(n),i=new de(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let f=0;f<s;f++){let p=!1;He(t[f]).subscribe(he(o,y=>{p||(p=!0,l--),a[f]=y},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?uu(r,a):a),o.complete())}))}});return e?i.pipe(au(e)):i}function Vt(n,e){return ge((t,r)=>{let i=0;t.subscribe(he(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Lt(n){return ge((e,t)=>{let r=null,i=!1,o;r=e.subscribe(he(t,void 0,void 0,s=>{o=He(n(s,Lt(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function tw(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(he(s,f=>{let p=l++;u=a?n(u,f,p):(a=!0,f),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function ri(n,e){return oe(e)?qe(n,e,1):qe(n,1)}function vr(n){return ge((e,t)=>{let r=!1;e.subscribe(he(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Un(n){return n<=0?()=>Ft:ge((e,t)=>{let r=0;e.subscribe(he(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function rf(n){return X(()=>n)}function du(n=oR){return ge((e,t)=>{let r=!1;e.subscribe(he(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function oR(){return new Ln}function Bs(n){return ge((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function hn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Vt((i,o)=>n(i,o,r)):kt,Un(1),t?vr(e):du(()=>new Ln))}function so(n){return n<=0?()=>Ft:ge((e,t)=>{let r=[];e.subscribe(he(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function of(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Vt((i,o)=>n(i,o,r)):kt,so(1),t?vr(e):du(()=>new Ln))}function hu(n,e){return ge(tw(n,e,arguments.length>=2,!0))}function fu(...n){let e=mr(n);return ge((t,r)=>{(e?oo(n,t,e):oo(n,t)).subscribe(r)})}function zt(n,e){return ge((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(he(r,u=>{i?.unsubscribe();let l=0,f=o++;He(n(u,f)).subscribe(i=he(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function sf(n){return ge((e,t)=>{He(n).subscribe(he(t,()=>t.complete(),Ls)),!t.closed&&e.subscribe(t)})}function Ye(n,e,t){let r=oe(n)||e||t?{next:n,error:e,complete:t}:n;return r?ge((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(he(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):kt}var Uw="https://g.co/ng/security#xss",z=class extends Error{constructor(e,t){super(dp(e,t)),this.code=e}};function dp(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function ea(n){return{toString:n}.toString()}var pu="__parameters__";function sR(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function jw(n,e,t){return ea(()=>{let r=sR(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,f){let p=u.hasOwnProperty(pu)?u[pu]:Object.defineProperty(u,pu,{value:[]})[pu];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(s),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var $s=globalThis;function Re(n){for(let e in n)if(n[e]===Re)return e;throw Error("Could not find renamed property on target object.")}function aR(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function wt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(wt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function nw(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var cR=Re({__forward_ref__:Re});function $n(n){return n.__forward_ref__=$n,n.toString=function(){return wt(this())},n}function It(n){return Bw(n)?n():n}function Bw(n){return typeof n=="function"&&n.hasOwnProperty(cR)&&n.__forward_ref__===$n}function K(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Hn(n){return{providers:n.providers||[],imports:n.imports||[]}}function qu(n){return rw(n,Hw)||rw(n,qw)}function $w(n){return qu(n)!==null}function rw(n,e){return n.hasOwnProperty(e)?n[e]:null}function uR(n){let e=n&&(n[Hw]||n[qw]);return e||null}function iw(n){return n&&(n.hasOwnProperty(ow)||n.hasOwnProperty(lR))?n[ow]:null}var Hw=Re({\u0275prov:Re}),ow=Re({\u0275inj:Re}),qw=Re({ngInjectableDef:Re}),lR=Re({ngInjectorDef:Re}),Q=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=K({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function zw(n){return n&&!!n.\u0275providers}var dR=Re({\u0275cmp:Re}),hR=Re({\u0275dir:Re}),fR=Re({\u0275pipe:Re}),pR=Re({\u0275mod:Re}),Eu=Re({\u0275fac:Re}),Hs=Re({__NG_ELEMENT_ID__:Re}),sw=Re({__NG_ENV_ID__:Re});function zu(n){return typeof n=="string"?n:n==null?"":String(n)}function mR(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():zu(n)}function gR(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new z(-200,n)}function hp(n,e){throw new z(-201,!1)}var ue=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ue||{}),Ef;function Gw(){return Ef}function Tt(n){let e=Ef;return Ef=n,e}function Ww(n,e,t){let r=qu(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ue.Optional)return null;if(e!==void 0)return e;hp(n,"Injector")}var yR={},qs=yR,bf="__NG_DI_FLAG__",bu="ngTempTokenPath",vR="ngTokenPath",_R=/\n/gm,IR="\u0275",aw="__source",ho;function wR(){return ho}function _r(n){let e=ho;return ho=n,e}function ER(n,e=ue.Default){if(ho===void 0)throw new z(-203,!1);return ho===null?Ww(n,void 0,e):ho.get(n,e&ue.Optional?null:void 0,e)}function re(n,e=ue.Default){return(Gw()||ER)(It(n),e)}function O(n,e=ue.Default){return re(n,Gu(e))}function Gu(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Df(n){let e=[];for(let t=0;t<n.length;t++){let r=It(n[t]);if(Array.isArray(r)){if(r.length===0)throw new z(900,!1);let i,o=ue.Default;for(let s=0;s<r.length;s++){let a=r[s],u=bR(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(re(i,o))}else e.push(re(r))}return e}function Kw(n,e){return n[bf]=e,n.prototype[bf]=e,n}function bR(n){return n[bf]}function DR(n,e,t,r){let i=n[bu];throw e[aw]&&i.unshift(e[aw]),n.message=CR(`
`+n.message,i,t,r),n[vR]=i,n[bu]=null,n}function CR(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==IR?n.slice(2):n;let i=wt(e);if(Array.isArray(e))i=e.map(wt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):wt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(_R,`
  `)}`}var nt=Kw(jw("Optional"),8);var Wu=Kw(jw("SkipSelf"),4);function si(n,e){let t=n.hasOwnProperty(Eu);return t?n[Eu]:null}function fp(n,e){n.forEach(t=>Array.isArray(t)?fp(t,e):e(t))}function Qw(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Du(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function TR(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function SR(n,e,t){let r=ta(n,e);return r>=0?n[r|1]=t:(r=~r,TR(n,r,e,t)),r}function af(n,e){let t=ta(n,e);if(t>=0)return n[t|1]}function ta(n,e){return AR(n,e,1)}function AR(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var po={},Gt=[],mo=new Q(""),Yw=new Q("",-1),Jw=new Q(""),Cu=class{get(e,t=qs){if(t===qs){let r=new Error(`NullInjectorError: No provider for ${wt(e)}!`);throw r.name="NullInjectorError",r}return t}},Zw=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Zw||{}),mn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(mn||{}),tt=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(tt||{});function RR(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function Cf(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];MR(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function xR(n){return n===3||n===4||n===6}function MR(n){return n.charCodeAt(0)===64}function zs(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?cw(n,t,i,null,e[++r]):cw(n,t,i,null,null))}}return n}function cw(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var Xw="ng-template";function NR(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&RR(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(pp(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function pp(n){return n.type===4&&n.value!==Xw}function PR(n,e,t){let r=n.type===4&&!t?Xw:n.value;return e===r}function OR(n,e,t){let r=4,i=n.attrs,o=i!==null?VR(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!rn(r)&&!rn(u))return!1;if(s&&rn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!PR(n,u,t)||u===""&&e.length===1){if(rn(r))return!1;s=!0}}else if(r&8){if(i===null||!NR(n,i,u,t)){if(rn(r))return!1;s=!0}}else{let l=e[++a],f=kR(u,i,pp(n),t);if(f===-1){if(rn(r))return!1;s=!0;continue}if(l!==""){let p;if(f>o?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(rn(r))return!1;s=!0}}}}return rn(r)||s}function rn(n){return(n&1)===0}function kR(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return LR(e,n)}function FR(n,e,t=!1){for(let r=0;r<e.length;r++)if(OR(n,e[r],t))return!0;return!1}function VR(n){for(let e=0;e<n.length;e++){let t=n[e];if(xR(t))return e}return n.length}function LR(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function uw(n,e){return n?":not("+e.trim()+")":e}function UR(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!rn(s)&&(e+=uw(o,i),i=""),r=s,o=o||!rn(r);t++}return i!==""&&(e+=uw(o,i)),e}function jR(n){return n.map(UR).join(",")}function BR(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!rn(i))break;i=o}r++}return{attrs:e,classes:t}}function ze(n){return ea(()=>{let e=iE(n),t=Ie(j({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Zw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||mn.Emulated,styles:n.styles||Gt,_:null,schemas:n.schemas||null,tView:null,id:""});oE(t);let r=n.dependencies;return t.directiveDefs=dw(r,!1),t.pipeDefs=dw(r,!0),t.id=qR(t),t})}function $R(n){return wr(n)||eE(n)}function HR(n){return n!==null}function qn(n){return ea(()=>({type:n.type,bootstrap:n.bootstrap||Gt,declarations:n.declarations||Gt,imports:n.imports||Gt,exports:n.exports||Gt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function lw(n,e){if(n==null)return po;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=tt.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==tt.None?[r,a]:r,e[o]=s):t[o]=r}return t}function Je(n){return ea(()=>{let e=iE(n);return oE(e),e})}function mp(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function wr(n){return n[dR]||null}function eE(n){return n[hR]||null}function tE(n){return n[fR]||null}function nE(n){let e=wr(n)||eE(n)||tE(n);return e!==null?e.standalone:!1}function rE(n,e){let t=n[pR]||null;if(!t&&e===!0)throw new Error(`Type ${wt(n)} does not have '\u0275mod' property.`);return t}function iE(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||po,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Gt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:lw(n.inputs,e),outputs:lw(n.outputs),debugInfo:null}}function oE(n){n.features?.forEach(e=>e(n))}function dw(n,e){if(!n)return null;let t=e?tE:$R;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(HR)}function qR(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function _n(n){return{\u0275providers:n}}function zR(...n){return{\u0275providers:sE(!0,n),\u0275fromNgModule:!0}}function sE(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return fp(e,s=>{let a=s;Tf(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&aE(i,o),t}function aE(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];gp(i,o=>{e(o,r)})}}function Tf(n,e,t,r){if(n=It(n),!n)return!1;let i=null,o=iw(n),s=!o&&wr(n);if(!o&&!s){let u=n.ngModule;if(o=iw(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Tf(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{fp(o.imports,f=>{Tf(f,e,t,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&aE(l,e)}if(!a){let l=si(i)||(()=>new i);e({provide:i,useFactory:l,deps:Gt},i),e({provide:Jw,useValue:i,multi:!0},i),e({provide:mo,useValue:()=>re(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;gp(u,f=>{e(f,l)})}}else return!1;return i!==n&&n.providers!==void 0}function gp(n,e){for(let t of n)zw(t)&&(t=t.\u0275providers),Array.isArray(t)?gp(t,e):e(t)}var GR=Re({provide:String,useValue:Re});function cE(n){return n!==null&&typeof n=="object"&&GR in n}function WR(n){return!!(n&&n.useExisting)}function KR(n){return!!(n&&n.useFactory)}function go(n){return typeof n=="function"}function QR(n){return!!n.useClass}var Ku=new Q(""),yu={},YR={},cf;function yp(){return cf===void 0&&(cf=new Cu),cf}var St=class{},Gs=class extends St{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Af(e,s=>this.processProvider(s)),this.records.set(Yw,ao(void 0,this)),i.has("environment")&&this.records.set(St,ao(void 0,this));let o=this.records.get(Ku);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Jw,Gt,ue.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ve(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ve(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=_r(this),r=Tt(void 0),i;try{return e()}finally{_r(t),Tt(r)}}get(e,t=qs,r=ue.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(sw))return e[sw](this);r=Gu(r);let i,o=_r(this),s=Tt(void 0);try{if(!(r&ue.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=tx(e)&&qu(e);l&&this.injectableDefInScope(l)?u=ao(Sf(e),yu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ue.Self?yp():this.parent;return t=r&ue.Optional&&t===qs?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[bu]=a[bu]||[]).unshift(wt(e)),o)throw a;return DR(a,e,"R3InjectorError",this.source)}else throw a}finally{Tt(s),_r(o)}}resolveInjectorInitializers(){let e=ve(null),t=_r(this),r=Tt(void 0),i;try{let o=this.get(mo,Gt,ue.Self);for(let s of o)s()}finally{_r(t),Tt(r),ve(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(wt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new z(205,!1)}processProvider(e){e=It(e);let t=go(e)?e:It(e&&e.provide),r=ZR(e);if(!go(e)&&e.multi===!0){let i=this.records.get(t);i||(i=ao(void 0,yu,!0),i.factory=()=>Df(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=ve(null);try{return t.value===yu&&(t.value=YR,t.value=t.factory()),typeof t.value=="object"&&t.value&&ex(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ve(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=It(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Sf(n){let e=qu(n),t=e!==null?e.factory:si(n);if(t!==null)return t;if(n instanceof Q)throw new z(204,!1);if(n instanceof Function)return JR(n);throw new z(204,!1)}function JR(n){if(n.length>0)throw new z(204,!1);let t=uR(n);return t!==null?()=>t.factory(n):()=>new n}function ZR(n){if(cE(n))return ao(void 0,n.useValue);{let e=uE(n);return ao(e,yu)}}function uE(n,e,t){let r;if(go(n)){let i=It(n);return si(i)||Sf(i)}else if(cE(n))r=()=>It(n.useValue);else if(KR(n))r=()=>n.useFactory(...Df(n.deps||[]));else if(WR(n))r=()=>re(It(n.useExisting));else{let i=It(n&&(n.useClass||n.provide));if(XR(n))r=()=>new i(...Df(n.deps));else return si(i)||Sf(i)}return r}function ao(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function XR(n){return!!n.deps}function ex(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function tx(n){return typeof n=="function"||typeof n=="object"&&n instanceof Q}function Af(n,e){for(let t of n)Array.isArray(t)?Af(t,e):t&&zw(t)?Af(t.\u0275providers,e):e(t)}function zn(n,e){n instanceof Gs&&n.assertNotDestroyed();let t,r=_r(n),i=Tt(void 0);try{return e()}finally{_r(r),Tt(i)}}function lE(){return Gw()!==void 0||wR()!=null}function nx(n){if(!lE())throw new z(-203,!1)}function rx(n){return typeof n=="function"}var Gn=0,fe=1,ee=2,ft=3,on=4,cn=5,Tu=6,Ws=7,sn=8,yo=9,an=10,$e=11,Ks=12,hw=13,bo=14,gn=15,Qu=16,co=17,vo=18,Yu=19,dE=20,Ir=21,uf=22,ai=23,Kt=25,hE=1;var ci=7,Su=8,Au=9,Wt=10,vp=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(vp||{});function ii(n){return Array.isArray(n)&&typeof n[hE]=="object"}function Wn(n){return Array.isArray(n)&&n[hE]===!0}function _p(n){return(n.flags&4)!==0}function Ju(n){return n.componentOffset>-1}function Zu(n){return(n.flags&1)===1}function Er(n){return!!n.template}function ix(n){return(n[ee]&512)!==0}var Rf=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function fE(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function Kn(){return pE}function pE(n){return n.type.prototype.ngOnChanges&&(n.setInput=sx),ox}Kn.ngInherit=!0;function ox(){let n=gE(this),e=n?.current;if(e){let t=n.previous;if(t===po)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function sx(n,e,t,r,i){let o=this.declaredInputs[r],s=gE(n)||ax(n,{previous:po,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Rf(l&&l.currentValue,t,u===po),fE(n,e,i,t)}var mE="__ngSimpleChanges__";function gE(n){return n[mE]||null}function ax(n,e){return n[mE]=e}var fw=null;var fn=function(n,e,t){fw?.(n,e,t)},cx="svg",ux="math",lx=!1;function dx(){return lx}function yn(n){for(;Array.isArray(n);)n=n[Gn];return n}function yE(n,e){return yn(e[n])}function Qt(n,e){return yn(e[n.index])}function vE(n,e){return n.data[e]}function _E(n,e){return n[e]}function Cr(n,e){let t=e[n];return ii(t)?t:t[Gn]}function Ip(n){return(n[ee]&128)===128}function hx(n){return Wn(n[ft])}function _o(n,e){return e==null?null:n[e]}function IE(n){n[co]=0}function fx(n){n[ee]&1024||(n[ee]|=1024,Ip(n)&&Qs(n))}function px(n,e){for(;n>0;)e=e[bo],n--;return e}function wp(n){return!!(n[ee]&9216||n[ai]?.dirty)}function xf(n){n[an].changeDetectionScheduler?.notify(1),wp(n)?Qs(n):n[ee]&64&&(dx()?(n[ee]|=1024,Qs(n)):n[an].changeDetectionScheduler?.notify())}function Qs(n){n[an].changeDetectionScheduler?.notify();let e=Ys(n);for(;e!==null&&!(e[ee]&8192||(e[ee]|=8192,!Ip(e)));)e=Ys(e)}function wE(n,e){if((n[ee]&256)===256)throw new z(911,!1);n[Ir]===null&&(n[Ir]=[]),n[Ir].push(e)}function mx(n,e){if(n[Ir]===null)return;let t=n[Ir].indexOf(e);t!==-1&&n[Ir].splice(t,1)}function Ys(n){let e=n[ft];return Wn(e)?e[ft]:e}var le={lFrame:RE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function gx(){return le.lFrame.elementDepthCount}function yx(){le.lFrame.elementDepthCount++}function vx(){le.lFrame.elementDepthCount--}function EE(){return le.bindingsEnabled}function _x(){return le.skipHydrationRootTNode!==null}function Ix(n){return le.skipHydrationRootTNode===n}function wx(){le.skipHydrationRootTNode=null}function De(){return le.lFrame.lView}function at(){return le.lFrame.tView}function na(n){return le.lFrame.contextLView=n,n[sn]}function ra(n){return le.lFrame.contextLView=null,n}function At(){let n=bE();for(;n!==null&&n.type===64;)n=n.parent;return n}function bE(){return le.lFrame.currentTNode}function Ex(){let n=le.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function fi(n,e){let t=le.lFrame;t.currentTNode=n,t.isParent=e}function Ep(){return le.lFrame.isParent}function DE(){le.lFrame.isParent=!1}function bx(){return le.lFrame.contextLView}function CE(){let n=le.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Dx(n){return le.lFrame.bindingIndex=n}function Xu(){return le.lFrame.bindingIndex++}function Cx(n){let e=le.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Tx(){return le.lFrame.inI18n}function Sx(n,e){let t=le.lFrame;t.bindingIndex=t.bindingRootIndex=n,Mf(e)}function Ax(){return le.lFrame.currentDirectiveIndex}function Mf(n){le.lFrame.currentDirectiveIndex=n}function Rx(n){let e=le.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function TE(n){le.lFrame.currentQueryIndex=n}function xx(n){let e=n[fe];return e.type===2?e.declTNode:e.type===1?n[cn]:null}function SE(n,e,t){if(t&ue.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&ue.Host);)if(i=xx(o),i===null||(o=o[bo],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=le.lFrame=AE();return r.currentTNode=e,r.lView=n,!0}function bp(n){let e=AE(),t=n[fe];le.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function AE(){let n=le.lFrame,e=n===null?null:n.child;return e===null?RE(n):e}function RE(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function xE(){let n=le.lFrame;return le.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var ME=xE;function Dp(){let n=xE();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Mx(n){return(le.lFrame.contextLView=px(n,le.lFrame.contextLView))[sn]}function Do(){return le.lFrame.selectedIndex}function ui(n){le.lFrame.selectedIndex=n}function el(){let n=le.lFrame;return vE(n.tView,n.selectedIndex)}function Nx(){return le.lFrame.currentNamespace}var NE=!0;function tl(){return NE}function nl(n){NE=n}function Px(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=pE(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function rl(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),f!=null&&(n.destroyHooks??=[]).push(t,f)}}function vu(n,e,t){PE(n,e,3,t)}function _u(n,e,t,r){(n[ee]&3)===t&&PE(n,e,t,r)}function lf(n,e){let t=n[ee];(t&3)===e&&(t&=16383,t+=1,n[ee]=t)}function PE(n,e,t,r){let i=r!==void 0?n[co]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[co]+=65536),(a<o||o==-1)&&(Ox(n,t,e,u),n[co]=(n[co]&4294901760)+u+2),u++}function pw(n,e){fn(4,n,e);let t=ve(null);try{e.call(n)}finally{ve(t),fn(5,n,e)}}function Ox(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ee]>>14<n[co]>>16&&(n[ee]&3)===e&&(n[ee]+=16384,pw(a,o)):pw(a,o)}var fo=-1,li=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function kx(n){return n instanceof li}function Fx(n){return(n.flags&8)!==0}function Vx(n){return(n.flags&16)!==0}function OE(n){return n!==fo}function Ru(n){return n&32767}function Lx(n){return n>>16}function xu(n,e){let t=Lx(n),r=e;for(;t>0;)r=r[bo],t--;return r}var Nf=!0;function Mu(n){let e=Nf;return Nf=n,e}var Ux=256,kE=Ux-1,FE=5,jx=0,pn={};function Bx(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Hs)&&(r=t[Hs]),r==null&&(r=t[Hs]=jx++);let i=r&kE,o=1<<i;e.data[n+(i>>FE)]|=o}function Nu(n,e){let t=VE(n,e);if(t!==-1)return t;let r=e[fe];r.firstCreatePass&&(n.injectorIndex=e.length,df(r.data,n),df(e,null),df(r.blueprint,null));let i=Cp(n,e),o=n.injectorIndex;if(OE(i)){let s=Ru(i),a=xu(i,e),u=a[fe].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function df(n,e){n.push(0,0,0,0,0,0,0,0,e)}function VE(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Cp(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=$E(i),r===null)return fo;if(t++,i=i[bo],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return fo}function Pf(n,e,t){Bx(n,e,t)}function LE(n,e,t){if(t&ue.Optional||n!==void 0)return n;hp(e,"NodeInjector")}function UE(n,e,t,r){if(t&ue.Optional&&r===void 0&&(r=null),!(t&(ue.Self|ue.Host))){let i=n[yo],o=Tt(void 0);try{return i?i.get(e,r,t&ue.Optional):Ww(e,r,t&ue.Optional)}finally{Tt(o)}}return LE(r,e,t)}function jE(n,e,t,r=ue.Default,i){if(n!==null){if(e[ee]&2048&&!(r&ue.Self)){let s=Gx(n,e,t,r,pn);if(s!==pn)return s}let o=BE(n,e,t,r,pn);if(o!==pn)return o}return UE(e,t,r,i)}function BE(n,e,t,r,i){let o=qx(t);if(typeof o=="function"){if(!SE(e,n,r))return r&ue.Host?LE(i,t,r):UE(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&ue.Optional))hp(t);else return s}finally{ME()}}else if(typeof o=="number"){let s=null,a=VE(n,e),u=fo,l=r&ue.Host?e[gn][cn]:null;for((a===-1||r&ue.SkipSelf)&&(u=a===-1?Cp(n,e):e[a+8],u===fo||!gw(r,!1)?a=-1:(s=e[fe],a=Ru(u),e=xu(u,e)));a!==-1;){let f=e[fe];if(mw(o,a,f.data)){let p=$x(a,e,t,s,r,l);if(p!==pn)return p}u=e[a+8],u!==fo&&gw(r,e[fe].data[a+8]===l)&&mw(o,a,e)?(s=f,a=Ru(u),e=xu(u,e)):a=-1}}return i}function $x(n,e,t,r,i,o){let s=e[fe],a=s.data[n+8],u=r==null?Ju(a)&&Nf:r!=s&&(a.type&3)!==0,l=i&ue.Host&&o===a,f=Hx(a,s,t,u,l);return f!==null?Io(e,s,f,a):pn}function Hx(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,f=o>>20,p=r?a:a+f,y=i?a+f:l;for(let w=p;w<y;w++){let A=s[w];if(w<u&&t===A||w>=u&&A.type===t)return w}if(i){let w=s[u];if(w&&Er(w)&&w.type===t)return u}return null}function Io(n,e,t,r){let i=n[t],o=e.data;if(kx(i)){let s=i;s.resolving&&gR(mR(o[t]));let a=Mu(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Tt(s.injectImpl):null,f=SE(n,r,ue.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&Px(t,o[t],e)}finally{l!==null&&Tt(l),Mu(a),s.resolving=!1,ME()}}return i}function qx(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Hs)?n[Hs]:void 0;return typeof e=="number"?e>=0?e&kE:zx:e}function mw(n,e,t){let r=1<<n;return!!(t[e+(n>>FE)]&r)}function gw(n,e){return!(n&ue.Self)&&!(n&ue.Host&&e)}var oi=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return jE(this._tNode,this._lView,e,Gu(r),t)}};function zx(){return new oi(At(),De())}function Co(n){return ea(()=>{let e=n.prototype.constructor,t=e[Eu]||Of(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Eu]||Of(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Of(n){return Bw(n)?()=>{let e=Of(It(n));return e&&e()}:si(n)}function Gx(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ee]&2048&&!(s[ee]&512);){let a=BE(o,s,t,r|ue.Self,pn);if(a!==pn)return a;let u=o.parent;if(!u){let l=s[dE];if(l){let f=l.get(t,pn,r);if(f!==pn)return f}u=$E(s),s=s[bo]}o=u}return i}function $E(n){let e=n[fe],t=e.type;return t===2?e.declTNode:t===1?n[cn]:null}function yw(n,e=null,t=null,r){let i=HE(n,e,t,r);return i.resolveInjectorInitializers(),i}function HE(n,e=null,t=null,r,i=new Set){let o=[t||Gt,zR(n)];return r=r||(typeof n=="object"?void 0:wt(n)),new Gs(o,e||yp(),r||null,i)}var Et=(()=>{class n{static{this.THROW_IF_NOT_FOUND=qs}static{this.NULL=new Cu}static create(t,r){if(Array.isArray(t))return yw({name:""},r,t,"");{let i=t.name??"";return yw({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=K({token:n,providedIn:"any",factory:()=>re(Yw)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();var Wx="ngOriginalError";function hf(n){return n[Wx]}var vn=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&hf(e);for(;t&&hf(t);)t=hf(t);return t||null}},qE=new Q("",{providedIn:"root",factory:()=>O(vn).handleError.bind(void 0)}),Tp=(()=>{class n{static{this.__NG_ELEMENT_ID__=Kx}static{this.__NG_ENV_ID__=t=>t}}return n})(),kf=class extends Tp{constructor(e){super(),this._lView=e}onDestroy(e){return wE(this._lView,e),()=>mx(this._lView,e)}};function Kx(){return new kf(De())}function Qx(){return il(At(),De())}function il(n,e){return new Tr(Qt(n,e))}var Tr=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=Qx}}return n})();var Ff=class extends _t{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,lE()&&(this.destroyRef=O(Tp,{optional:!0})??void 0)}emit(e){let t=ve(null);try{super.next(e)}finally{ve(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=ff(o),i&&(i=ff(i)),s&&(s=ff(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Be&&e.add(a),a}};function ff(n){return e=>{setTimeout(n,void 0,e)}}var et=Ff;function zE(n){return(n.flags&128)===128}var GE=new Map,Yx=0;function Jx(){return Yx++}function Zx(n){GE.set(n[Yu],n)}function Xx(n){GE.delete(n[Yu])}var vw="__ngContext__";function br(n,e){ii(e)?(n[vw]=e[Yu],Zx(e)):n[vw]=e}function WE(n){return QE(n[Ks])}function KE(n){return QE(n[on])}function QE(n){for(;n!==null&&!Wn(n);)n=n[on];return n}var Vf;function YE(n){Vf=n}function eM(){if(Vf!==void 0)return Vf;if(typeof document<"u")return document;throw new z(210,!1)}var Sp=new Q("",{providedIn:"root",factory:()=>tM}),tM="ng",Ap=new Q(""),Yt=new Q("",{providedIn:"platform",factory:()=>"unknown"});var Rp=new Q("",{providedIn:"root",factory:()=>eM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var nM="h",rM="b";var iM=()=>null;function xp(n,e,t=!1){return iM(n,e,t)}var JE=!1,oM=new Q("",{providedIn:"root",factory:()=>JE});var Pu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Uw})`}};function ol(n){return n instanceof Pu?n.changingThisBreaksApplicationSecurity:n}function ZE(n,e){let t=sM(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Uw})`)}return t===e}function sM(n){return n instanceof Pu&&n.getTypeName()||null}var aM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function XE(n){return n=String(n),n.match(aM)?n:"unsafe:"+n}var Mp=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Mp||{});function Sr(n){let e=cM();return e?e.sanitize(Mp.URL,n)||"":ZE(n,"URL")?ol(n):XE(zu(n))}function cM(){let n=De();return n&&n[an].sanitizer}var uM=/^>|^->|<!--|-->|--!>|<!-$/g,lM=/(<|>)/g,dM="\u200B$1\u200B";function hM(n){return n.replace(uM,e=>e.replace(lM,dM))}function e0(n){return n instanceof Function?n():n}function fM(n){return(n??O(Et)).get(Yt)==="browser"}var jn=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(jn||{}),pM;function Np(n,e){return pM(n,e)}function uo(n,e,t,r,i){if(r!=null){let o,s=!1;Wn(r)?o=r:ii(r)&&(s=!0,r=r[Gn]);let a=yn(r);n===0&&t!==null?i==null?o0(e,t,a):Ou(e,t,a,i||null,!0):n===1&&t!==null?Ou(e,t,a,i||null,!0):n===2?NM(e,a,s):n===3&&e.destroyNode(a),o!=null&&OM(e,n,o,t,i)}}function mM(n,e){return n.createText(e)}function gM(n,e,t){n.setValue(e,t)}function yM(n,e){return n.createComment(hM(e))}function t0(n,e,t){return n.createElement(e,t)}function vM(n,e){n0(n,e),e[Gn]=null,e[cn]=null}function _M(n,e,t,r,i,o){r[Gn]=i,r[cn]=e,al(n,r,t,1,i,o)}function n0(n,e){e[an].changeDetectionScheduler?.notify(1),al(n,e,e[$e],2,null,null)}function IM(n){let e=n[Ks];if(!e)return pf(n[fe],n);for(;e;){let t=null;if(ii(e))t=e[Ks];else{let r=e[Wt];r&&(t=r)}if(!t){for(;e&&!e[on]&&e!==n;)ii(e)&&pf(e[fe],e),e=e[ft];e===null&&(e=n),ii(e)&&pf(e[fe],e),t=e&&e[on]}e=t}}function wM(n,e,t,r){let i=Wt+r,o=t.length;r>0&&(t[i-1][on]=e),r<o-Wt?(e[on]=t[i],Qw(t,Wt+r,e)):(t.push(e),e[on]=null),e[ft]=t;let s=e[Qu];s!==null&&t!==s&&EM(s,e);let a=e[vo];a!==null&&a.insertView(n),xf(e),e[ee]|=128}function EM(n,e){let t=n[Au],i=e[ft][ft][gn];e[gn]!==i&&(n[ee]|=vp.HasTransplantedViews),t===null?n[Au]=[e]:t.push(e)}function r0(n,e){let t=n[Au],r=t.indexOf(e);t.splice(r,1)}function Lf(n,e){if(n.length<=Wt)return;let t=Wt+e,r=n[t];if(r){let i=r[Qu];i!==null&&i!==n&&r0(i,r),e>0&&(n[t-1][on]=r[on]);let o=Du(n,Wt+e);vM(r[fe],r);let s=o[vo];s!==null&&s.detachView(o[fe]),r[ft]=null,r[on]=null,r[ee]&=-129}return r}function i0(n,e){if(!(e[ee]&256)){let t=e[$e];t.destroyNode&&al(n,e,t,3,null,null),IM(e)}}function pf(n,e){if(e[ee]&256)return;let t=ve(null);try{e[ee]&=-129,e[ee]|=256,e[ai]&&xI(e[ai]),DM(n,e),bM(n,e),e[fe].type===1&&e[$e].destroy();let r=e[Qu];if(r!==null&&Wn(e[ft])){r!==e[ft]&&r0(r,e);let i=e[vo];i!==null&&i.detachView(n)}Xx(e)}finally{ve(t)}}function bM(n,e){let t=n.cleanup,r=e[Ws];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[Ws]=null);let i=e[Ir];if(i!==null){e[Ir]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function DM(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof li)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];fn(4,a,u);try{u.call(a)}finally{fn(5,a,u)}}else{fn(4,i,o);try{o.call(i)}finally{fn(5,i,o)}}}}}function CM(n,e,t){return TM(n,e.parent,t)}function TM(n,e,t){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return t[Gn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===mn.None||o===mn.Emulated)return null}return Qt(r,t)}}function Ou(n,e,t,r,i){n.insertBefore(e,t,r,i)}function o0(n,e,t){n.appendChild(e,t)}function _w(n,e,t,r,i){r!==null?Ou(n,e,t,r,i):o0(n,e,t)}function SM(n,e,t,r){n.removeChild(e,t,r)}function Pp(n,e){return n.parentNode(e)}function AM(n,e){return n.nextSibling(e)}function RM(n,e,t){return MM(n,e,t)}function xM(n,e,t){return n.type&40?Qt(n,t):null}var MM=xM,Iw;function sl(n,e,t,r){let i=CM(n,r,e),o=e[$e],s=r.parent||e[cn],a=RM(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)_w(o,i,t[u],a,!1);else _w(o,i,t,a,!1);Iw!==void 0&&Iw(o,r,e,t,i)}function Iu(n,e){if(e!==null){let t=e.type;if(t&3)return Qt(e,n);if(t&4)return Uf(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Iu(n,r);{let i=n[e.index];return Wn(i)?Uf(-1,i):yn(i)}}else{if(t&32)return Np(e,n)()||yn(n[e.index]);{let r=s0(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ys(n[gn]);return Iu(i,r)}else return Iu(n,e.next)}}}return null}function s0(n,e){if(e!==null){let r=n[gn][cn],i=e.projection;return r.projection[i]}return null}function Uf(n,e){let t=Wt+n+1;if(t<e.length){let r=e[t],i=r[fe].firstChild;if(i!==null)return Iu(r,i)}return e[ci]}function NM(n,e,t){let r=Pp(n,e);r&&SM(n,r,e,t)}function Op(n,e,t,r,i,o,s){for(;t!=null;){let a=r[t.index],u=t.type;if(s&&e===0&&(a&&br(yn(a),r),t.flags|=2),(t.flags&32)!==32)if(u&8)Op(n,e,t.child,r,i,o,!1),uo(e,n,i,a,o);else if(u&32){let l=Np(t,r),f;for(;f=l();)uo(e,n,i,f,o);uo(e,n,i,a,o)}else u&16?PM(n,e,r,t,i,o):uo(e,n,i,a,o);t=s?t.projectionNext:t.next}}function al(n,e,t,r,i,o){Op(t,r,n.firstChild,e,i,o,!1)}function PM(n,e,t,r,i,o){let s=t[gn],u=s[cn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];uo(e,n,i,f,o)}else{let l=u,f=s[ft];zE(r)&&(l.flags|=128),Op(n,e,l,f,i,o,!0)}}function OM(n,e,t,r,i){let o=t[ci],s=yn(t);o!==s&&uo(e,n,r,o,i);for(let a=Wt;a<t.length;a++){let u=t[a];al(u[fe],u,n,e,r,o)}}function kM(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:jn.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=jn.Important),n.setStyle(t,r,i,o))}}function FM(n,e,t){n.setAttribute(e,"style",t)}function a0(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function c0(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&Cf(n,e,r),i!==null&&a0(n,e,i),o!==null&&FM(n,e,o)}var Ar={};function F(n=1){u0(at(),De(),Do()+n,!1)}function u0(n,e,t,r){if(!r)if((e[ee]&3)===3){let o=n.preOrderCheckHooks;o!==null&&vu(e,o,t)}else{let o=n.preOrderHooks;o!==null&&_u(e,o,0,t)}ui(t)}function ce(n,e=ue.Default){let t=De();if(t===null)return re(n,e);let r=At();return jE(r,t,It(n),e)}function l0(){let n="invalid";throw new Error(n)}function d0(n,e,t,r,i,o){let s=ve(null);try{let a=null;i&tt.SignalBased&&(a=e[r][Uh]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&tt.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):fE(e,a,r,o)}finally{ve(s)}}function VM(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)ui(~i);else{let o=i,s=t[++r],a=t[++r];Sx(s,o);let u=e[o];a(2,u)}}}finally{ui(-1)}}function cl(n,e,t,r,i,o,s,a,u,l,f){let p=e.blueprint.slice();return p[Gn]=i,p[ee]=r|4|128|8|64,(l!==null||n&&n[ee]&2048)&&(p[ee]|=2048),IE(p),p[ft]=p[bo]=n,p[sn]=t,p[an]=s||n&&n[an],p[$e]=a||n&&n[$e],p[yo]=u||n&&n[yo]||null,p[cn]=o,p[Yu]=Jx(),p[Tu]=f,p[dE]=l,p[gn]=e.type==2?n[gn]:p,p}function ia(n,e,t,r,i){let o=n.data[e];if(o===null)o=LM(n,e,t,r,i),Tx()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=Ex();o.injectorIndex=s===null?-1:s.injectorIndex}return fi(o,!0),o}function LM(n,e,t,r,i){let o=bE(),s=Ep(),a=s?o:o&&o.parent,u=n.data[e]=HM(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function h0(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function f0(n,e,t,r,i){let o=Do(),s=r&2;try{ui(-1),s&&e.length>Kt&&u0(n,e,Kt,!1),fn(s?2:0,i),t(r,i)}finally{ui(o),fn(s?3:1,i)}}function kp(n,e,t){if(_p(e)){let r=ve(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{ve(r)}}}function Fp(n,e,t){EE()&&(QM(n,e,t,Qt(t,e)),(t.flags&64)===64&&g0(n,e,t))}function Vp(n,e,t=Qt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function p0(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Lp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Lp(n,e,t,r,i,o,s,a,u,l,f){let p=Kt+r,y=p+i,w=UM(p,y),A=typeof l=="function"?l():l;return w[fe]={type:n,blueprint:w,template:t,queries:null,viewQuery:a,declTNode:e,data:w.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:f}}function UM(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Ar);return t}function jM(n,e,t,r){let o=r.get(oM,JE)||t===mn.ShadowDom,s=n.selectRootElement(e,o);return BM(s),s}function BM(n){$M(n)}var $M=()=>null;function HM(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return _x()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ww(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=tt.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}n===0?Ew(r,t,l,a,u):Ew(r,t,l,a)}return r}function Ew(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function qM(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],u=null,l=null;for(let f=r;f<i;f++){let p=o[f],y=t?t.get(p):null,w=y?y.inputs:null,A=y?y.outputs:null;u=ww(0,p.inputs,f,u,w),l=ww(1,p.outputs,f,l,A);let M=u!==null&&s!==null&&!pp(e)?sN(u,f,s):null;a.push(M)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function zM(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Up(n,e,t,r,i,o,s,a){let u=Qt(e,t),l=e.inputs,f;!a&&l!=null&&(f=l[r])?(Bp(n,t,f,r,i),Ju(e)&&GM(t,e.index)):e.type&3?(r=zM(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function GM(n,e){let t=Cr(e,n);t[ee]&16||(t[ee]|=64)}function jp(n,e,t,r){if(EE()){let i=r===null?null:{"":-1},o=JM(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&m0(n,e,t,s,i,a),i&&ZM(t,r,i)}t.mergedAttrs=zs(t.mergedAttrs,t.attrs)}function m0(n,e,t,r,i,o){for(let l=0;l<r.length;l++)Pf(Nu(t,e),n,r[l].type);eN(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let f=r[l];f.providersResolver&&f.providersResolver(f)}let s=!1,a=!1,u=h0(n,e,r.length,null);for(let l=0;l<r.length;l++){let f=r[l];t.mergedAttrs=zs(t.mergedAttrs,f.hostAttrs),tN(n,t,e,u,f),XM(u,f,i),f.contentQueries!==null&&(t.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(t.flags|=64);let p=f.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),u++}qM(n,t,o)}function WM(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;KM(s)!=a&&s.push(a),s.push(t,r,o)}}function KM(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function QM(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;Ju(t)&&nN(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Nu(t,e),br(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let u=n.data[a],l=Io(e,n,a,t);if(br(l,e),s!==null&&oN(e,a-i,l,u,t,s),Er(u)){let f=Cr(t.index,e);f[sn]=Io(e,n,a,t)}}}function g0(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=Ax();try{ui(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];Mf(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&YM(u,l)}}finally{ui(-1),Mf(s)}}function YM(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function JM(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(FR(e,s.selectors,!1))if(r||(r=[]),Er(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;jf(n,e,u)}else r.unshift(s),jf(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function jf(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function ZM(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new z(-301,!1);r.push(e[i],o)}}}function XM(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Er(e)&&(t[""]=n)}}function eN(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function tN(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=si(i.type,!0)),s=new li(o,Er(i),ce);n.blueprint[r]=s,t[r]=s,WM(n,e,r,h0(n,t,i.hostVars,Ar),i)}function nN(n,e,t){let r=Qt(e,n),i=p0(t),o=n[an].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=ul(n,cl(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function rN(n,e,t,r,i,o){let s=Qt(n,e);iN(e[$e],s,o,n.value,t,r,i)}function iN(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?zu(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function oN(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],f=s[a++],p=s[a++];d0(r,t,u,l,f,p)}}function sN(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function y0(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function v0(n,e){let t=n.contentQueries;if(t!==null){let r=ve(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];TE(o),a.contentQueries(2,e[s],s)}}}finally{ve(r)}}}function ul(n,e){return n[Ks]?n[hw][on]=e:n[Ks]=e,n[hw]=e,e}function Bf(n,e,t){TE(0);let r=ve(null);try{e(n,t)}finally{ve(r)}}function aN(n){return n[Ws]||(n[Ws]=[])}function cN(n){return n.cleanup||(n.cleanup=[])}function _0(n,e){let t=n[yo],r=t?t.get(vn,null):null;r&&r.handleError(e)}function Bp(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],u=t[o++],l=e[s],f=n.data[s];d0(f,l,r,a,u,i)}}function uN(n,e,t){let r=yE(e,n);gM(n[$e],r,t)}function lN(n,e){let t=Cr(e,n),r=t[fe];dN(r,t);let i=t[Gn];i!==null&&t[Tu]===null&&(t[Tu]=xp(i,t[yo])),$p(r,t,t[sn])}function dN(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function $p(n,e,t){bp(e);try{let r=n.viewQuery;r!==null&&Bf(1,r,t);let i=n.template;i!==null&&f0(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[vo]?.finishViewCreation(n),n.staticContentQueries&&v0(n,e),n.staticViewQueries&&Bf(2,n.viewQuery,t);let o=n.components;o!==null&&hN(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ee]&=-5,Dp()}}function hN(n,e){for(let t=0;t<e.length;t++)lN(n,e[t])}function fN(n,e,t,r){let i=ve(null);try{let o=e.tView,a=n[ee]&4096?4096:16,u=cl(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Qu]=l;let f=n[vo];return f!==null&&(u[vo]=f.createEmbeddedView(o)),$p(o,u,t),u}finally{ve(i)}}function bw(n,e){return!e||e.firstChild===null||zE(n)}function pN(n,e,t,r=!0){let i=e[fe];if(wM(i,e,n,t),r){let s=Uf(t,n),a=e[$e],u=Pp(a,n[ci]);u!==null&&_M(i,n[cn],a,e,u,s)}let o=e[Tu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function ku(n,e,t,r,i=!1){for(;t!==null;){let o=e[t.index];o!==null&&r.push(yn(o)),Wn(o)&&mN(o,r);let s=t.type;if(s&8)ku(n,e,t.child,r);else if(s&32){let a=Np(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=s0(e,t);if(Array.isArray(a))r.push(...a);else{let u=Ys(e[gn]);ku(u[fe],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function mN(n,e){for(let t=Wt;t<n.length;t++){let r=n[t],i=r[fe].firstChild;i!==null&&ku(r[fe],r,i,e)}n[ci]!==n[Gn]&&e.push(n[ci])}var I0=[];function gN(n){return n[ai]??yN(n)}function yN(n){let e=I0.pop()??Object.create(_N);return e.lView=n,e}function vN(n){n.lView[ai]!==n&&(n.lView=null,I0.push(n))}var _N=Ie(j({},SI),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Qs(n.lView)},consumerOnSignalRead(){this.lView[ai]=this}}),w0=100;function E0(n,e=!0,t=0){let r=n[an],i=r.rendererFactory,o=!1;o||i.begin?.();try{IN(n,t)}catch(s){throw e&&_0(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function IN(n,e){$f(n,e);let t=0;for(;wp(n);){if(t===w0)throw new z(103,!1);t++,$f(n,1)}}function wN(n,e,t,r){let i=e[ee];if((i&256)===256)return;let o=!1;!o&&e[an].inlineEffectRunner?.flush(),bp(e);let s=null,a=null;!o&&EN(n)&&(a=gN(e),s=AI(a));try{IE(e),Dx(n.bindingStartIndex),t!==null&&f0(n,e,t,2,r);let u=(i&3)===3;if(!o)if(u){let p=n.preOrderCheckHooks;p!==null&&vu(e,p,null)}else{let p=n.preOrderHooks;p!==null&&_u(e,p,0,null),lf(e,0)}if(bN(e),b0(e,0),n.contentQueries!==null&&v0(n,e),!o)if(u){let p=n.contentCheckHooks;p!==null&&vu(e,p)}else{let p=n.contentHooks;p!==null&&_u(e,p,1),lf(e,1)}VM(n,e);let l=n.components;l!==null&&C0(e,l,0);let f=n.viewQuery;if(f!==null&&Bf(2,f,r),!o)if(u){let p=n.viewCheckHooks;p!==null&&vu(e,p)}else{let p=n.viewHooks;p!==null&&_u(e,p,2),lf(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[uf]){for(let p of e[uf])p();e[uf]=null}o||(e[ee]&=-73)}catch(u){throw Qs(e),u}finally{a!==null&&(RI(a,s),vN(a)),Dp()}}function EN(n){return n.type!==2}function b0(n,e){for(let t=WE(n);t!==null;t=KE(t))for(let r=Wt;r<t.length;r++){let i=t[r];D0(i,e)}}function bN(n){for(let e=WE(n);e!==null;e=KE(e)){if(!(e[ee]&vp.HasTransplantedViews))continue;let t=e[Au];for(let r=0;r<t.length;r++){let i=t[r],o=i[ft];fx(i)}}}function DN(n,e,t){let r=Cr(e,n);D0(r,t)}function D0(n,e){Ip(n)&&$f(n,e)}function $f(n,e){let r=n[fe],i=n[ee],o=n[ai],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&jh(o)),o&&(o.dirty=!1),n[ee]&=-9217,s)wN(r,n,r.template,n[sn]);else if(i&8192){b0(n,1);let a=r.components;a!==null&&C0(n,a,1)}}function C0(n,e,t){for(let r=0;r<e.length;r++)DN(n,e[r],t)}function Hp(n){for(n[an].changeDetectionScheduler?.notify();n;){n[ee]|=64;let e=Ys(n);if(ix(n)&&!e)return n;n=e}return null}var di=class{get rootNodes(){let e=this._lView,t=e[fe];return ku(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[sn]}set context(e){this._lView[sn]=e}get destroyed(){return(this._lView[ee]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ft];if(Wn(e)){let t=e[Su],r=t?t.indexOf(this):-1;r>-1&&(Lf(e,r),Du(t,r))}this._attachedToViewContainer=!1}i0(this._lView[fe],this._lView)}onDestroy(e){wE(this._lView,e)}markForCheck(){Hp(this._cdRefInjectingView||this._lView)}detach(){this._lView[ee]&=-129}reattach(){xf(this._lView),this._lView[ee]|=128}detectChanges(){this._lView[ee]|=1024,E0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,n0(this._lView[fe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=e,xf(this._lView)}},ll=(()=>{class n{static{this.__NG_ELEMENT_ID__=SN}}return n})(),CN=ll,TN=class extends CN{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=fN(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new di(i)}};function SN(){return T0(At(),De())}function T0(n,e){return n.type&4?new TN(e,n,il(n,e)):null}var w3=new RegExp(`^(\\d+)*(${rM}|${nM})*(.*)`);var AN=()=>null;function Dw(n,e){return AN(n,e)}var Fu=class{},Hf=class{},Vu=class{};function RN(n){let e=Error(`No component factory found for ${wt(n)}.`);return e[xN]=n,e}var xN="ngComponent";var qf=class{resolveComponentFactory(e){throw RN(e)}},dl=(()=>{class n{static{this.NULL=new qf}}return n})(),Js=class{},pi=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>MN()}}return n})();function MN(){let n=De(),e=At(),t=Cr(e.index,n);return(ii(t)?t:n)[$e]}var NN=(()=>{class n{static{this.\u0275prov=K({token:n,providedIn:"root",factory:()=>null})}}return n})(),mf={};var Cw=new Set;function qp(n){Cw.has(n)||(Cw.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function Tw(...n){}function PN(){let n=typeof $s.requestAnimationFrame=="function",e=$s[n?"requestAnimationFrame":"setTimeout"],t=$s[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}var Ee=class n{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new et(!1),this.onMicrotaskEmpty=new et(!1),this.onStable=new et(!1),this.onError=new et(!1),typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=PN().nativeRequestAnimationFrame,FN(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new z(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,ON,Tw,Tw);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},ON={};function zp(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function kN(n){n.isCheckStableRunning||n.lastRequestAnimationFrameId!==-1||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call($s,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,zf(n),n.isCheckStableRunning=!0,zp(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),zf(n))}function FN(n){let e=()=>{kN(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{if(VN(a))return t.invokeTask(i,o,s,a);try{return Sw(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Aw(n)}},onInvoke:(t,r,i,o,s,a,u)=>{try{return Sw(n),t.invoke(i,o,s,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),Aw(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,zf(n),zp(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function zf(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.lastRequestAnimationFrameId!==-1?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Sw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Aw(n){n._nesting--,zp(n)}function VN(n){return!Array.isArray(n)||n.length!==1?!1:n[0].data?.__ignore_ng_zone__===!0}var lo=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(lo||{}),LN={destroy(){}};function hl(n,e){!e&&nx(hl);let t=e?.injector??O(Et);if(!fM(t))return LN;qp("NgAfterNextRender");let r=t.get(Gp),i=r.handler??=new Wf,o=e?.phase??lo.MixedReadWrite,s=()=>{i.unregister(u),a()},a=t.get(Tp).onDestroy(s),u=zn(t,()=>new Gf(o,()=>{s(),n()}));return i.register(u),{destroy:s}}var Gf=class{constructor(e,t){this.phase=e,this.callbackFn=t,this.zone=O(Ee),this.errorHandler=O(vn,{optional:!0}),O(Fu,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Wf=class{constructor(){this.executingCallbacks=!1,this.buckets={[lo.EarlyRead]:new Set,[lo.Write]:new Set,[lo.MixedReadWrite]:new Set,[lo.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let t of e)t.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Gp=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of t)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=K({token:n,providedIn:"root",factory:()=>new n})}}return n})();function Lu(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=nw(i,a);else if(o==2){let u=a,l=e[++s];r=nw(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var Uu=class extends dl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=wr(e);return new wo(t,this.ngModule)}};function Rw(n){let e=[];for(let t in n){if(!n.hasOwnProperty(t))continue;let r=n[t];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:t})}return e}function UN(n){let e=n.toLowerCase();return e==="svg"?cx:e==="math"?ux:null}var Kf=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Gu(r);let i=this.injector.get(e,mf,r);return i!==mf||t===mf?i:this.parentInjector.get(e,t,r)}},wo=class extends Vu{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=Rw(e.inputs);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return Rw(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=jR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=ve(null);try{i=i||this.ngModule;let s=i instanceof St?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Kf(e,s):e,u=a.get(Js,null);if(u===null)throw new z(407,!1);let l=a.get(NN,null),f=a.get(Gp,null),p=a.get(Fu,null),y={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:f,changeDetectionScheduler:p},w=u.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",M=r?jM(w,r,this.componentDef.encapsulation,a):t0(w,A,UN(A)),x=512;this.componentDef.signals?x|=4096:this.componentDef.onPush||(x|=16);let U=null;M!==null&&(U=xp(M,a,!0));let te=Lp(0,null,null,1,0,null,null,null,null,null,null),H=cl(null,te,null,x,null,null,y,w,a,null,U);bp(H);let J,Se;try{let ne=this.componentDef,E,g=null;ne.findHostDirectiveDefs?(E=[],g=new Map,ne.findHostDirectiveDefs(ne,E,g),E.push(ne)):E=[ne];let v=jN(H,M),I=BN(v,M,ne,E,H,y,w);Se=vE(te,Kt),M&&qN(w,ne,M,r),t!==void 0&&zN(Se,this.ngContentSelectors,t),J=HN(I,ne,E,g,H,[GN]),$p(te,H,null)}finally{Dp()}return new Qf(this.componentType,J,il(Se,H),H,Se)}finally{ve(o)}}},Qf=class extends Hf{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new di(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;Bp(o[fe],o,i,e,t),this.previousInputValues.set(e,t);let s=Cr(this._tNode.index,o);Hp(s)}}get injector(){return new oi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function jN(n,e){let t=n[fe],r=Kt;return n[r]=e,ia(t,r,2,"#host",null)}function BN(n,e,t,r,i,o,s){let a=i[fe];$N(r,n,e,s);let u=null;e!==null&&(u=xp(e,i[yo]));let l=o.rendererFactory.createRenderer(e,t),f=16;t.signals?f=4096:t.onPush&&(f=64);let p=cl(i,p0(t),null,f,i[n.index],n,o,l,null,null,u);return a.firstCreatePass&&jf(a,n,r.length-1),ul(i,p),i[n.index]=p}function $N(n,e,t,r){for(let i of n)e.mergedAttrs=zs(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Lu(e,e.mergedAttrs,!0),t!==null&&c0(r,t,e))}function HN(n,e,t,r,i,o){let s=At(),a=i[fe],u=Qt(s,i);m0(a,i,s,t,null,r);for(let f=0;f<t.length;f++){let p=s.directiveStart+f,y=Io(i,a,p,s);br(y,i)}g0(a,i,s),u&&br(u,i);let l=Io(i,a,s.directiveStart+s.componentOffset,s);if(n[sn]=i[sn]=l,o!==null)for(let f of o)f(l,e);return kp(a,s,i),l}function qN(n,e,t,r){if(r)Cf(n,t,["ng-version","17.3.12"]);else{let{attrs:i,classes:o}=BR(e.selectors[0]);i&&Cf(n,t,i),o&&o.length>0&&a0(n,t,o.join(" "))}}function zN(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function GN(){let n=At();rl(De()[fe],n)}var To=(()=>{class n{static{this.__NG_ELEMENT_ID__=WN}}return n})();function WN(){let n=At();return QN(n,De())}var KN=To,S0=class extends KN{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return il(this._hostTNode,this._hostLView)}get injector(){return new oi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Cp(this._hostTNode,this._hostLView);if(OE(e)){let t=xu(e,this._hostLView),r=Ru(e),i=t[fe].data[r+8];return new oi(i,t)}else return new oi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=xw(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Wt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Dw(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,bw(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!rx(e),a;if(s)a=t;else{let A=t||{};a=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef}let u=s?e:new wo(wr(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let M=(s?l:this.parentInjector).get(St,null);M&&(o=M)}let f=wr(u.componentType??{}),p=Dw(this._lContainer,f?.id??null),y=p?.firstChild??null,w=u.create(l,i,y,o);return this.insertImpl(w.hostView,a,bw(this._hostTNode,p)),w}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(hx(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[ft],l=new S0(u,u[cn],u[ft]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return pN(s,i,o,r),e.attachToViewContainerRef(),Qw(gf(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=xw(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Lf(this._lContainer,t);r&&(Du(gf(this._lContainer),t),i0(r[fe],r))}detach(e){let t=this._adjustIndex(e,-1),r=Lf(this._lContainer,t);return r&&Du(gf(this._lContainer),t)!=null?new di(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function xw(n){return n[Su]}function gf(n){return n[Su]||(n[Su]=[])}function QN(n,e){let t,r=e[n.index];return Wn(r)?t=r:(t=y0(r,e,null,n),e[n.index]=t,ul(e,t)),JN(t,e,n,r),new S0(t,n,e)}function YN(n,e){let t=n[$e],r=t.createComment(""),i=Qt(e,n),o=Pp(t,i);return Ou(t,o,r,AM(t,i),!1),r}var JN=eP,ZN=()=>!1;function XN(n,e,t){return ZN(n,e,t)}function eP(n,e,t,r){if(n[ci])return;let i;t.type&8?i=yn(r):i=YN(e,t),n[ci]=i}function tP(n){return typeof n=="function"&&n[Uh]!==void 0}function A0(n){return tP(n)&&typeof n.set=="function"}function nP(n){return Object.getPrototypeOf(n.prototype).constructor}function un(n){let e=nP(n.type),t=!0,r=[n];for(;e;){let i;if(Er(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new z(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=mu(n.inputs),s.inputTransforms=mu(n.inputTransforms),s.declaredInputs=mu(n.declaredInputs),s.outputs=mu(n.outputs);let a=i.hostBindings;a&&aP(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&oP(n,u),l&&sP(n,l),rP(n,i),aR(n.outputs,i.outputs),Er(i)&&i.data.animation){let f=n.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===un&&(t=!1)}}e=Object.getPrototypeOf(e)}iP(r)}function rP(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function iP(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=zs(i.hostAttrs,t=zs(t,i.hostAttrs))}}function mu(n){return n===po?{}:n===Gt?[]:n}function oP(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function sP(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function aP(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}var Dr=class{},Zs=class{};var Yf=class extends Dr{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Uu(this);let i=rE(e);this._bootstrapComponents=e0(i.bootstrap),this._r3Injector=HE(e,t,[{provide:Dr,useValue:this},{provide:dl,useValue:this.componentFactoryResolver},...r],wt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Jf=class extends Zs{constructor(e){super(),this.moduleType=e}create(e){return new Yf(this.moduleType,e,[])}};var ju=class extends Dr{constructor(e){super(),this.componentFactoryResolver=new Uu(this),this.instance=null;let t=new Gs([...e.providers,{provide:Dr,useValue:this},{provide:dl,useValue:this.componentFactoryResolver}],e.parent||yp(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function fl(n,e,t=null){return new ju({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var pl=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new st(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function R0(n){return Wp(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function cP(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function Wp(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function uP(n,e,t){return n[e]=t}function So(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function lP(n){return(n.flags&32)===32}function dP(n,e,t,r,i,o,s,a,u){let l=e.consts,f=ia(e,n,4,s||null,_o(l,a));jp(e,t,f,_o(l,u)),rl(e,f);let p=f.tView=Lp(2,f,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),p.queries=e.queries.embeddedTView(f)),f}function G(n,e,t,r,i,o,s,a){let u=De(),l=at(),f=n+Kt,p=l.firstCreatePass?dP(f,l,u,e,t,r,i,o,s):l.data[f];fi(p,!1);let y=hP(l,u,p,n);tl()&&sl(l,u,y,p),br(y,u);let w=y0(y,u,y,p);return u[f]=w,ul(u,w),XN(w,p,u),Zu(p)&&Fp(l,u,p),s!=null&&Vp(u,p,a),G}var hP=fP;function fP(n,e,t,r){return nl(!0),e[$e].createComment("")}function ml(n,e,t,r){let i=De(),o=Xu();if(So(i,o,e)){let s=at(),a=el();rN(a,i,n,e,t,r)}return ml}function x0(n,e,t,r){return So(n,Xu(),t)?e+zu(t)+r:Ar}function gu(n,e){return n<<17|e<<2}function hi(n){return n>>17&32767}function pP(n){return(n&2)==2}function mP(n,e){return n&131071|e<<17}function Zf(n){return n|2}function Eo(n){return(n&131068)>>2}function yf(n,e){return n&-131069|e<<2}function gP(n){return(n&1)===1}function Xf(n){return n|1}function yP(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=hi(s),u=Eo(s);n[r]=t;let l=!1,f;if(Array.isArray(t)){let p=t;f=p[1],(f===null||ta(p,f)>0)&&(l=!0)}else f=t;if(i)if(u!==0){let y=hi(n[a+1]);n[r+1]=gu(y,a),y!==0&&(n[y+1]=yf(n[y+1],r)),n[a+1]=mP(n[a+1],r)}else n[r+1]=gu(a,0),a!==0&&(n[a+1]=yf(n[a+1],r)),a=r;else n[r+1]=gu(u,0),a===0?a=r:n[u+1]=yf(n[u+1],r),u=r;l&&(n[r+1]=Zf(n[r+1])),Mw(n,f,r,!0),Mw(n,f,r,!1),vP(e,f,n,r,o),s=gu(a,u),o?e.classBindings=s:e.styleBindings=s}function vP(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&ta(o,e)>=0&&(t[r+1]=Xf(t[r+1]))}function Mw(n,e,t,r){let i=n[t+1],o=e===null,s=r?hi(i):Eo(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];_P(u,e)&&(a=!0,n[s+1]=r?Xf(l):Zf(l)),s=r?hi(l):Eo(l)}a&&(n[t+1]=r?Zf(i):Xf(i))}function _P(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?ta(n,e)>=0:!1}function B(n,e,t){let r=De(),i=Xu();if(So(r,i,e)){let o=at(),s=el();Up(o,s,r,n,e,r[$e],t,!1)}return B}function Nw(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";Bp(n,t,o[s],s,r)}function gl(n,e){return IP(n,e,null,!0),gl}function IP(n,e,t,r){let i=De(),o=at(),s=Cx(2);if(o.firstUpdatePass&&EP(o,n,s,r),e!==Ar&&So(i,s,e)){let a=o.data[Do()];SP(o,a,i,i[$e],n,i[s+1]=AP(e,t),r,s)}}function wP(n,e){return e>=n.expandoStartIndex}function EP(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Do()],s=wP(n,t);RP(o,r)&&e===null&&!s&&(e=!1),e=bP(i,o,e,r),yP(i,o,e,t,s,r)}}function bP(n,e,t,r){let i=Rx(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=vf(null,n,e,t,r),t=Xs(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=vf(i,n,e,t,r),o===null){let u=DP(n,e,r);u!==void 0&&Array.isArray(u)&&(u=vf(null,n,e,u[1],r),u=Xs(u,e.attrs,r),CP(n,e,r,u))}else o=TP(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function DP(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Eo(r)!==0)return n[hi(r)]}function CP(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[hi(i)]=r}function TP(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Xs(r,s,t)}return Xs(r,e.attrs,t)}function vf(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Xs(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Xs(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),SR(n,s,t?!0:e[++o]))}return n===void 0?null:n}function SP(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],f=gP(l)?Pw(u,e,t,i,Eo(l),s):void 0;if(!Bu(f)){Bu(o)||pP(l)&&(o=Pw(u,null,t,i,a,s));let p=yE(Do(),t);kM(r,s,p,i,o)}}function Pw(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),f=l?u[1]:u,p=f===null,y=t[i+1];y===Ar&&(y=p?Gt:void 0);let w=p?af(y,r):f===r?y:void 0;if(l&&!Bu(w)&&(w=af(u,r)),Bu(w)&&(a=w,s))return a;let A=n[i+1];i=s?hi(A):Eo(A)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=af(u,r))}return a}function Bu(n){return n!==void 0}function AP(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=wt(ol(n)))),n}function RP(n,e){return(n.flags&(e?8:16))!==0}function xP(n,e,t,r,i,o){let s=e.consts,a=_o(s,i),u=ia(e,n,2,r,a);return jp(e,t,u,_o(s,o)),u.attrs!==null&&Lu(u,u.attrs,!1),u.mergedAttrs!==null&&Lu(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function N(n,e,t,r){let i=De(),o=at(),s=Kt+n,a=i[$e],u=o.firstCreatePass?xP(s,o,i,e,t,r):o.data[s],l=MP(o,i,u,a,e,n);i[s]=l;let f=Zu(u);return fi(u,!0),c0(a,l,u),!lP(u)&&tl()&&sl(o,i,l,u),gx()===0&&br(l,i),yx(),f&&(Fp(o,i,u),kp(o,u,i)),r!==null&&Vp(i,u),N}function R(){let n=At();Ep()?DE():(n=n.parent,fi(n,!1));let e=n;Ix(e)&&wx(),vx();let t=at();return t.firstCreatePass&&(rl(t,n),_p(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&Fx(e)&&Nw(t,e,De(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Vx(e)&&Nw(t,e,De(),e.stylesWithoutHost,!1),R}function Rt(n,e,t,r){return N(n,e,t,r),R(),Rt}var MP=(n,e,t,r,i,o)=>(nl(!0),t0(r,i,Nx()));function NP(n,e,t,r,i){let o=e.consts,s=_o(o,r),a=ia(e,n,8,"ng-container",s);s!==null&&Lu(a,s,!0);let u=_o(o,i);return jp(e,t,a,u),e.queries!==null&&e.queries.elementStart(e,a),a}function Ao(n,e,t){let r=De(),i=at(),o=n+Kt,s=i.firstCreatePass?NP(o,i,r,e,t):i.data[o];fi(s,!0);let a=PP(i,r,s,n);return r[o]=a,tl()&&sl(i,r,a,s),br(a,r),Zu(s)&&(Fp(i,r,s),kp(i,s,r)),t!=null&&Vp(r,s),Ao}function Ro(){let n=At(),e=at();return Ep()?DE():(n=n.parent,fi(n,!1)),e.firstCreatePass&&(rl(e,n),_p(n)&&e.queries.elementEnd(n)),Ro}var PP=(n,e,t,r)=>(nl(!0),yM(e[$e],""));function M0(){return De()}var $u="en-US";var OP=$u;function kP(n){typeof n=="string"&&(OP=n.toLowerCase().replace(/_/g,"-"))}function In(n,e,t,r){let i=De(),o=at(),s=At();return N0(o,i,i[$e],s,n,e,r),In}function FP(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Ws],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function N0(n,e,t,r,i,o,s){let a=Zu(r),l=n.firstCreatePass&&cN(n),f=e[sn],p=aN(e),y=!0;if(r.type&3||s){let M=Qt(r,e),x=s?s(M):M,U=p.length,te=s?J=>s(yn(J[r.index])):r.index,H=null;if(!s&&a&&(H=FP(n,e,i,r.index)),H!==null){let J=H.__ngLastListenerFn__||H;J.__ngNextListenerFn__=o,H.__ngLastListenerFn__=o,y=!1}else{o=kw(r,e,f,o,!1);let J=t.listen(x,i,o);p.push(o,J),l&&l.push(i,te,U,U+1)}}else o=kw(r,e,f,o,!1);let w=r.outputs,A;if(y&&w!==null&&(A=w[i])){let M=A.length;if(M)for(let x=0;x<M;x+=2){let U=A[x],te=A[x+1],Se=e[U][te].subscribe(o),ne=p.length;p.push(o,Se),l&&l.push(i,r.index,ne,-(ne+1))}}}function Ow(n,e,t,r){let i=ve(null);try{return fn(6,e,t),t(r)!==!1}catch(o){return _0(n,o),!1}finally{fn(7,e,t),ve(i)}}function kw(n,e,t,r,i){return function o(s){if(s===Function)return r;let a=n.componentOffset>-1?Cr(n.index,e):e;Hp(a);let u=Ow(e,t,r,s),l=o.__ngNextListenerFn__;for(;l;)u=Ow(e,t,l,s)&&u,l=l.__ngNextListenerFn__;return i&&u===!1&&s.preventDefault(),u}}function Pe(n=1){return Mx(n)}function Kp(n,e,t,r,i){let o=De(),s=x0(o,e,t,r);if(s!==Ar){let a=at(),u=el();Up(a,u,o,n,s,o[$e],i,!1)}return Kp}function VP(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Ge(n){let e=bx();return _E(e,Kt+n)}function L(n,e=""){let t=De(),r=at(),i=n+Kt,o=r.firstCreatePass?ia(r,i,1,e,null):r.data[i],s=LP(r,t,o,e,n);t[i]=s,tl()&&sl(r,t,s,o),fi(o,!1)}var LP=(n,e,t,r,i)=>(nl(!0),mM(e[$e],r));function Ut(n){return Oe("",n,""),Ut}function Oe(n,e,t){let r=De(),i=x0(r,n,e,t);return i!==Ar&&uN(r,Do(),i),Oe}function oa(n,e,t){A0(e)&&(e=e());let r=De(),i=Xu();if(So(r,i,e)){let o=at(),s=el();Up(o,s,r,n,e,r[$e],t,!1)}return oa}function yl(n,e){let t=A0(n);return t&&n.set(e),t}function sa(n,e){let t=De(),r=at(),i=At();return N0(r,t,t[$e],i,n,e),sa}function UP(n,e,t){let r=at();if(r.firstCreatePass){let i=Er(n);ep(t,r.data,r.blueprint,i,!0),ep(e,r.data,r.blueprint,i,!1)}}function ep(n,e,t,r,i){if(n=It(n),Array.isArray(n))for(let o=0;o<n.length;o++)ep(n[o],e,t,r,i);else{let o=at(),s=De(),a=At(),u=go(n)?n:It(n.provide),l=uE(n),f=a.providerIndexes&1048575,p=a.directiveStart,y=a.providerIndexes>>20;if(go(n)||!n.multi){let w=new li(l,i,ce),A=If(u,e,i?f:f+y,p);A===-1?(Pf(Nu(a,s),o,u),_f(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(w),s.push(w)):(t[A]=w,s[A]=w)}else{let w=If(u,e,f+y,p),A=If(u,e,f,f+y),M=w>=0&&t[w],x=A>=0&&t[A];if(i&&!x||!i&&!M){Pf(Nu(a,s),o,u);let U=$P(i?BP:jP,t.length,i,r,l);!i&&x&&(t[A].providerFactory=U),_f(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(U),s.push(U)}else{let U=P0(t[i?A:w],l,!i&&r);_f(o,n,w>-1?w:A,U)}!i&&r&&x&&t[A].componentProviders++}}}function _f(n,e,t,r){let i=go(e),o=QR(e);if(i||o){let u=(o?It(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let f=l.indexOf(t);f===-1?l.push(t,[r,u]):l[f+1].push(r,u)}else l.push(t,u)}}}function P0(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function If(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function jP(n,e,t,r){return tp(this.multi,[])}function BP(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Io(t,t[fe],this.providerFactory.index,r);o=a.slice(0,s),tp(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],tp(i,o);return o}function tp(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function $P(n,e,t,r,i){let o=new li(n,t,ce);return o.multi=[],o.index=e,o.componentProviders=0,P0(o,i,r&&!t),o}function mi(n,e=[]){return t=>{t.providersResolver=(r,i)=>UP(r,i?i(n):n,e)}}var HP=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=sE(!1,t.type),i=r.length>0?fl([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=K({token:n,providedIn:"environment",factory:()=>new n(re(St))})}}return n})();function We(n){qp("NgStandalone"),n.getStandaloneInjector=e=>e.get(HP).getOrCreateStandaloneInjector(n)}function vl(n,e,t,r){return O0(De(),CE(),n,e,t,r)}function qP(n,e){let t=n[e];return t===Ar?void 0:t}function O0(n,e,t,r,i,o){let s=e+t;return So(n,s,i)?uP(n,s+1,o?r.call(o,i):r(i)):qP(n,s+1)}function ke(n,e){let t=at(),r,i=n+Kt;t.firstCreatePass?(r=zP(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=si(r.type,!0)),s,a=Tt(ce);try{let u=Mu(!1),l=o();return Mu(u),VP(t,De(),i,l),l}finally{Tt(a)}}function zP(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function Fe(n,e,t){let r=n+Kt,i=De(),o=_E(i,r);return GP(i,r)?O0(i,CE(),e,o.transform,t,o):o.transform(t)}function GP(n,e){return n[fe].data[e].pure}function Ze(n,e){return T0(n,e)}var Bn=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},k0=new Bn("17.3.12"),_l=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var F0=new Q("");function Rr(n){return!!n&&typeof n.then=="function"}function Qp(n){return!!n&&typeof n.subscribe=="function"}var Il=new Q(""),V0=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=O(Il,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(Rr(o))t.push(o);else if(Qp(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),wl=new Q("");function WP(){MI(()=>{throw new z(600,!1)})}function KP(n){return n.isBoundToModule}function QP(n,e,t){try{let r=t();return Rr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var aa=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=O(qE),this.afterRenderEffectManager=O(Gp),this.externalTestViews=new Set,this.beforeRender=new _t,this.afterTick=new _t,this.componentTypes=[],this.components=[],this.isStable=O(pl).hasPendingTasks.pipe(X(t=>!t)),this._injector=O(St)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Vu;if(!this._injector.get(V0).done){let y=!i&&nE(t),w=!1;throw new z(405,w)}let s;i?s=t:s=this._injector.get(dl).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=KP(s)?void 0:this._injector.get(Dr),u=r||s.selector,l=s.create(Et.NULL,[],u,a),f=l.location.nativeElement,p=l.injector.get(F0,null);return p?.registerApplication(f),l.onDestroy(()=>{this.detachView(l.hostView),wf(this.components,l),p?.unregisterApplication(f)}),this._loadComponent(l),l}tick(){this._tick(!0)}_tick(t){if(this._runningTick)throw new z(101,!1);let r=ve(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(t)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,ve(r)}}detectChangesInAttachedViews(t){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===w0)throw new z(103,!1);if(t){let o=r===0;this.beforeRender.next(o);for(let{_lView:s,notifyErrorHandler:a}of this._views)YP(s,o,a)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>np(o))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>np(o))))break}}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;wf(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(wl,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>wf(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new z(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function wf(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function YP(n,e,t){!e&&!np(n)||JP(n,t,e)}function np(n){return wp(n)}function JP(n,e,t){let r;t?(r=0,n[ee]|=1024):n[ee]&64?r=0:r=1,E0(n,e,r)}var rp=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},El=(()=>{class n{compileModuleSync(t){return new Jf(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=rE(t),o=e0(i.declarations).reduce((s,a)=>{let u=wr(a);return u&&s.push(new wo(u)),s},[]);return new rp(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ZP=(()=>{class n{constructor(){this.zone=O(Ee),this.applicationRef=O(aa)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function XP(n){return[{provide:Ee,useFactory:n},{provide:mo,multi:!0,useFactory:()=>{let e=O(ZP,{optional:!0});return()=>e.initialize()}},{provide:mo,multi:!0,useFactory:()=>{let e=O(rO);return()=>{e.initialize()}}},{provide:qE,useFactory:eO}]}function eO(){let n=O(Ee),e=O(vn);return t=>n.runOutsideAngular(()=>e.handleError(t))}function tO(n){let e=XP(()=>new Ee(nO(n)));return _n([[],e])}function nO(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var rO=(()=>{class n{constructor(){this.subscription=new Be,this.initialized=!1,this.zone=O(Ee),this.pendingTasks=O(pl)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function iO(){return typeof $localize<"u"&&$localize.locale||$u}var Yp=new Q("",{providedIn:"root",factory:()=>O(Yp,ue.Optional|ue.SkipSelf)||iO()});var L0=new Q("");var wu=null;function oO(n=[],e){return Et.create({name:e,providers:[{provide:Ku,useValue:"platform"},{provide:L0,useValue:new Set([()=>wu=null])},...n]})}function sO(n=[]){if(wu)return wu;let e=oO(n);return wu=e,WP(),aO(e),e}function aO(n){n.get(Ap,null)?.forEach(t=>t())}var xr=(()=>{class n{static{this.__NG_ELEMENT_ID__=cO}}return n})();function cO(n){return uO(At(),De(),(n&16)===16)}function uO(n,e,t){if(Ju(n)&&!t){let r=Cr(n.index,e);return new di(r,r)}else if(n.type&47){let r=e[gn];return new di(r,e)}return null}var ip=class{constructor(){}supports(e){return R0(e)}create(e){return new op(e)}},lO=(n,e)=>e,op=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||lO}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<Fw(r,i,o)?t:r,a=Fw(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,f=u-i;if(l!=f){for(let y=0;y<l;y++){let w=y<o.length?o[y]:o[y]=0,A=w+y;f<=A&&A<l&&(o[y]=w+1)}let p=s.previousIndex;o[p]=f-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!R0(e))throw new z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,cP(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new sp(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Hu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Hu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},sp=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},ap=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Hu=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new ap,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Fw(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}var cp=class{constructor(){}supports(e){return e instanceof Map||Wp(e)}create(){return new up}},up=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||Wp(e)))throw new z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new lp(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},lp=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function Vw(){return new Jp([new ip])}var Jp=(()=>{class n{static{this.\u0275prov=K({token:n,providedIn:"root",factory:Vw})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Vw()),deps:[[n,new Wu,new nt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new z(901,!1)}}return n})();function Lw(){return new Zp([new cp])}var Zp=(()=>{class n{static{this.\u0275prov=K({token:n,providedIn:"root",factory:Lw})}constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Lw()),deps:[[n,new Wu,new nt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new z(901,!1)}}return n})();function U0(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=sO(r),o=[tO(),...t||[]],a=new ju({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(Ee);return u.run(()=>{a.resolveInjectorInitializers();let l=a.get(vn,null),f;u.runOutsideAngular(()=>{f=u.onError.subscribe({next:w=>{l.handleError(w)}})});let p=()=>a.destroy(),y=i.get(L0);return y.add(p),a.onDestroy(()=>{f.unsubscribe(),y.delete(p)}),QP(l,u,()=>{let w=a.get(V0);return w.runInitializers(),w.donePromise.then(()=>{let A=a.get(Yp,$u);kP(A||$u);let M=a.get(aa);return e!==void 0&&M.bootstrap(e),M})})})}catch(e){return Promise.reject(e)}}function ca(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Xp(n){let e=ve(null);try{return n()}finally{ve(e)}}function j0(n){let e=wr(n);if(!e)return null;let t=new wo(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var W0=null;function Yn(){return W0}function K0(n){W0??=n}var bl=class{};var xt=new Q(""),am=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:()=>O(fO),providedIn:"platform"})}}return n})(),Q0=new Q(""),fO=(()=>{class n extends am{constructor(){super(),this._doc=O(xt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Yn().getBaseHref(this._doc)}onPopState(t){let r=Yn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Yn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function cm(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function B0(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Qn(n){return n&&n[0]!=="?"?"?"+n:n}var gi=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:()=>O(um),providedIn:"root"})}}return n})(),Y0=new Q(""),um=(()=>{class n extends gi{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??O(xt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return cm(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Qn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Qn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Qn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(re(am),re(Y0,8))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),J0=(()=>{class n extends gi{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=cm(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Qn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Qn(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(re(am),re(Y0,8))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})(),xo=(()=>{class n{constructor(t){this._subject=new et,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=gO(B0($0(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Qn(r))}normalize(t){return n.stripTrailingSlash(mO(this._basePath,$0(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Qn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Qn}static{this.joinWithSlash=cm}static{this.stripTrailingSlash=B0}static{this.\u0275fac=function(r){return new(r||n)(re(gi))}}static{this.\u0275prov=K({token:n,factory:()=>pO(),providedIn:"root"})}}return n})();function pO(){return new xo(re(gi))}function mO(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function $0(n){return n.replace(/\/index.html$/,"")}function gO(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function Z0(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var em=/\s+/,H0=[],X0=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=H0,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(em):H0}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(em):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(em).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(ce(Tr),ce(pi))}}static{this.\u0275dir=Je({type:n,selectors:[["","ngClass",""]],inputs:{klass:[tt.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var tm=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},wn=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new tm(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),q0(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);q0(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(ce(To),ce(ll),ce(Jp))}}static{this.\u0275dir=Je({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function q0(n,e){n.context.$implicit=e.item}var Jt=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new nm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){z0("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){z0("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(ce(To),ce(ll))}}static{this.\u0275dir=Je({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),nm=class{constructor(){this.$implicit=null,this.ngIf=null}};function z0(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${wt(e)}'.`)}function yO(n,e){return new z(2100,!1)}var rm=class{createSubscription(e,t){return Xp(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){Xp(()=>e.unsubscribe())}},im=class{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}},vO=new im,_O=new rm,En=(()=>{class n{constructor(t){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Rr(t))return vO;if(Qp(t))return _O;throw yO(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(r){return new(r||n)(ce(xr,16))}}static{this.\u0275pipe=mp({name:"async",type:n,pure:!1,standalone:!0})}}return n})();function IO(n,e){return{key:n,value:e}}var Mr=(()=>{class n{constructor(t){this.differs=t,this.keyValues=[],this.compareFn=G0}transform(t,r=G0){if(!t||!(t instanceof Map)&&typeof t!="object")return null;this.differ??=this.differs.find(t).create();let i=this.differ.diff(t),o=r!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(s=>{this.keyValues.push(IO(s.key,s.currentValue))})),(i||o)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}static{this.\u0275fac=function(r){return new(r||n)(ce(Zp,16))}}static{this.\u0275pipe=mp({name:"keyvalue",type:n,pure:!1,standalone:!0})}}return n})();function G0(n,e){let t=n.key,r=e.key;if(t===r)return 0;if(t===void 0)return 1;if(r===void 0)return-1;if(t===null)return 1;if(r===null)return-1;if(typeof t=="string"&&typeof r=="string")return t<r?-1:1;if(typeof t=="number"&&typeof r=="number")return t-r;if(typeof t=="boolean"&&typeof r=="boolean")return t<r?-1:1;let i=String(t),o=String(r);return i==o?0:i<o?-1:1}var Dt=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=qn({type:n})}static{this.\u0275inj=Hn({})}}return n})(),lm="browser",wO="server";function Nr(n){return n===lm}function dm(n){return n===wO}var eb=(()=>{class n{static{this.\u0275prov=K({token:n,providedIn:"root",factory:()=>Nr(O(Yt))?new om(O(xt),window):new sm})}}return n})(),om=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=EO(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function EO(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var sm=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Dl=class{};var pm=class extends bl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},mm=class n extends pm{static makeCurrent(){K0(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=bO();return t==null?null:DO(t)}resetBaseElement(){ua=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Z0(document.cookie,e)}},ua=null;function bO(){return ua=ua||document.querySelector("base"),ua?ua.getAttribute("href"):null}function DO(n){return new URL(n,document.baseURI).pathname}var CO=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})(),gm=new Q(""),ib=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new z(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(re(gm),re(Ee))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})(),Cl=class{constructor(e){this._doc=e}},hm="ng-app-id",ob=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=dm(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${hm}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(hm),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(hm,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(re(xt),re(Sp),re(Rp,8),re(Yt))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})(),fm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},vm=/%COMP%/g,sb="%COMP%",TO=`_nghost-${sb}`,SO=`_ngcontent-${sb}`,AO=!0,RO=new Q("",{providedIn:"root",factory:()=>AO});function xO(n){return SO.replace(vm,n)}function MO(n){return TO.replace(vm,n)}function ab(n,e){return e.map(t=>t.replace(vm,n))}var tb=(()=>{class n{constructor(t,r,i,o,s,a,u,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=dm(a),this.defaultRenderer=new la(t,s,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===mn.ShadowDom&&(r=Ie(j({},r),{encapsulation:mn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Tl?i.applyToHost(t):i instanceof da&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case mn.Emulated:o=new Tl(u,l,r,this.appId,f,s,a,p);break;case mn.ShadowDom:return new ym(u,l,t,r,s,a,this.nonce,p);default:o=new da(u,l,r,f,s,a,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(re(ib),re(ob),re(Sp),re(RO),re(xt),re(Yt),re(Ee),re(Rp))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})(),la=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(fm[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(nb(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(nb(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new z(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=fm[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=fm[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(jn.DashCase|jn.Important)?e.style.setProperty(t,r,i&jn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&jn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=Yn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function nb(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var ym=class extends la{constructor(e,t,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=ab(i.id,i.styles);for(let f of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},da=class extends la{constructor(e,t,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?ab(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Tl=class extends da{constructor(e,t,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,t,r,o,s,a,u,l),this.contentAttr=xO(l),this.hostAttr=MO(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},NO=(()=>{class n extends Cl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(re(xt))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})(),rb=["alt","control","meta","shift"],PO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},OO={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},kO=(()=>{class n extends Cl{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Yn().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),rb.forEach(l=>{let f=r.indexOf(l);f>-1&&(r.splice(f,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=PO[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),rb.forEach(s=>{if(s!==i){let a=OO[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(re(xt))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})();function cb(n,e){return U0(j({rootComponent:n},FO(e)))}function FO(n){return{appProviders:[...BO,...n?.providers??[]],platformProviders:jO}}function VO(){mm.makeCurrent()}function LO(){return new vn}function UO(){return YE(document),document}var jO=[{provide:Yt,useValue:lm},{provide:Ap,useValue:VO,multi:!0},{provide:xt,useFactory:UO,deps:[]}];var BO=[{provide:Ku,useValue:"root"},{provide:vn,useFactory:LO,deps:[]},{provide:gm,useClass:NO,multi:!0,deps:[xt,Ee,Yt]},{provide:gm,useClass:kO,multi:!0,deps:[xt]},tb,ob,ib,{provide:Js,useExisting:tb},{provide:Dl,useClass:CO,deps:[]},[]];var ub=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(re(xt))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ae="primary",Sa=Symbol("RouteTitle"),bm=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Fo(n){return new bm(n)}function HO(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function qO(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!bn(n[t],e[t]))return!1;return!0}function bn(n,e){let t=n?Dm(n):void 0,r=e?Dm(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!vb(n[i],e[i]))return!1;return!0}function Dm(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function vb(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function _b(n){return n.length>0?n[n.length-1]:null}function Vr(n){return tf(n)?n:Rr(n)?Me(Promise.resolve(n)):q(n)}var zO={exact:wb,subset:Eb},Ib={exact:GO,subset:WO,ignored:()=>!0};function lb(n,e,t){return zO[t.paths](n.root,e.root,t.matrixParams)&&Ib[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function GO(n,e){return bn(n,e)}function wb(n,e,t){if(!vi(n.segments,e.segments)||!Rl(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!wb(n.children[r],e.children[r],t))return!1;return!0}function WO(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>vb(n[t],e[t]))}function Eb(n,e,t){return bb(n,e,e.segments,t)}function bb(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!vi(i,t)||e.hasChildren()||!Rl(i,t,r))}else if(n.segments.length===t.length){if(!vi(n.segments,t)||!Rl(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!Eb(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!vi(n.segments,i)||!Rl(n.segments,i,r)||!n.children[ae]?!1:bb(n.children[ae],e,o,r)}}function Rl(n,e,t){return e.every((r,i)=>Ib[t](n[i].parameters,r.parameters))}var Pr=class{constructor(e=new Ce([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Fo(this.queryParams),this._queryParamMap}toString(){return YO.serialize(this)}},Ce=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xl(this)}},yi=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Fo(this.parameters),this._parameterMap}toString(){return Cb(this)}};function KO(n,e){return vi(n,e)&&n.every((t,r)=>bn(t.parameters,e[r].parameters))}function vi(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function QO(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ae&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ae&&(t=t.concat(e(i,r)))}),t}var Aa=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:()=>new va,providedIn:"root"})}}return n})(),va=class{parse(e){let t=new Tm(e);return new Pr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${ha(e.root,!0)}`,r=XO(e.queryParams),i=typeof e.fragment=="string"?`#${JO(e.fragment)}`:"";return`${t}${r}${i}`}},YO=new va;function xl(n){return n.segments.map(e=>Cb(e)).join("/")}function ha(n,e){if(!n.hasChildren())return xl(n);if(e){let t=n.children[ae]?ha(n.children[ae],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ae&&r.push(`${i}:${ha(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=QO(n,(r,i)=>i===ae?[ha(n.children[ae],!1)]:[`${i}:${ha(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ae]!=null?`${xl(n)}/${t[0]}`:`${xl(n)}/(${t.join("//")})`}}function Db(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sl(n){return Db(n).replace(/%3B/gi,";")}function JO(n){return encodeURI(n)}function Cm(n){return Db(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ml(n){return decodeURIComponent(n)}function db(n){return Ml(n.replace(/\+/g,"%20"))}function Cb(n){return`${Cm(n.path)}${ZO(n.parameters)}`}function ZO(n){return Object.entries(n).map(([e,t])=>`;${Cm(e)}=${Cm(t)}`).join("")}function XO(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Sl(t)}=${Sl(i)}`).join("&"):`${Sl(t)}=${Sl(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var e1=/^[^\/()?;#]+/;function _m(n){let e=n.match(e1);return e?e[0]:""}var t1=/^[^\/()?;=#]+/;function n1(n){let e=n.match(t1);return e?e[0]:""}var r1=/^[^=?&#]+/;function i1(n){let e=n.match(r1);return e?e[0]:""}var o1=/^[^&#]+/;function s1(n){let e=n.match(o1);return e?e[0]:""}var Tm=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ce([],{}):new Ce([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ae]=new Ce(e,t)),r}parseSegment(){let e=_m(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new z(4009,!1);return this.capture(e),new yi(Ml(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=n1(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=_m(this.remaining);i&&(r=i,this.capture(r))}e[Ml(t)]=Ml(r)}parseQueryParam(e){let t=i1(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=s1(this.remaining);s&&(r=s,this.capture(r))}let i=db(t),o=db(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=_m(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new z(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ae);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ae]:new Ce([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new z(4011,!1)}};function Tb(n){return n.segments.length>0?new Ce([],{[ae]:n}):n}function Sb(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=Sb(i);if(r===ae&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Ce(n.segments,e);return a1(t)}function a1(n){if(n.numberOfChildren===1&&n.children[ae]){let e=n.children[ae];return new Ce(n.segments.concat(e.segments),e.children)}return n}function Vo(n){return n instanceof Pr}function c1(n,e,t=null,r=null){let i=Ab(n);return Rb(i,e,t,r)}function Ab(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new Ce(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=Tb(r);return e??i}function Rb(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Im(i,i,i,t,r);let o=u1(e);if(o.toRoot())return Im(i,i,new Ce([],{}),t,r);let s=l1(o,i,n),a=s.processChildren?ma(s.segmentGroup,s.index,o.commands):Mb(s.segmentGroup,s.index,o.commands);return Im(i,s.segmentGroup,a,t,r)}function Nl(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function _a(n){return typeof n=="object"&&n!=null&&n.outlets}function Im(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let s;n===e?s=t:s=xb(n,e,t);let a=Tb(Sb(s));return new Pr(a,o,i)}function xb(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=xb(o,e,t)}),new Ce(n.segments,r)}var Pl=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Nl(r[0]))throw new z(4003,!1);let i=r.find(_a);if(i&&i!==_b(r))throw new z(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function u1(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Pl(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Pl(t,e,r)}var Oo=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function l1(n,e,t){if(n.isAbsolute)return new Oo(e,!0,0);if(!t)return new Oo(e,!1,NaN);if(t.parent===null)return new Oo(t,!0,0);let r=Nl(n.commands[0])?0:1,i=t.segments.length-1+r;return d1(t,i,n.numberOfDoubleDots)}function d1(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new z(4005,!1);i=r.segments.length}return new Oo(r,!1,i-o)}function h1(n){return _a(n[0])?n[0].outlets:{[ae]:n}}function Mb(n,e,t){if(n??=new Ce([],{}),n.segments.length===0&&n.hasChildren())return ma(n,e,t);let r=f1(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Ce(n.segments.slice(0,r.pathIndex),{});return o.children[ae]=new Ce(n.segments.slice(r.pathIndex),n.children),ma(o,0,i)}else return r.match&&i.length===0?new Ce(n.segments,{}):r.match&&!n.hasChildren()?Sm(n,e,t):r.match?ma(n,0,i):Sm(n,e,t)}function ma(n,e,t){if(t.length===0)return new Ce(n.segments,{});{let r=h1(t),i={};if(Object.keys(r).some(o=>o!==ae)&&n.children[ae]&&n.numberOfChildren===1&&n.children[ae].segments.length===0){let o=ma(n.children[ae],e,t);return new Ce(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Mb(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ce(n.segments,i)}}function f1(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(_a(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!fb(u,l,s))return o;r+=2}else{if(!fb(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Sm(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(_a(o)){let u=p1(o.outlets);return new Ce(r,u)}if(i===0&&Nl(t[0])){let u=n.segments[e];r.push(new yi(u.path,hb(t[0]))),i++;continue}let s=_a(o)?o.outlets[ae]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Nl(a)?(r.push(new yi(s,hb(a))),i+=2):(r.push(new yi(s,{})),i++)}return new Ce(r,{})}function p1(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Sm(new Ce([],{}),0,r))}),e}function hb(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function fb(n,e,t){return n==t.path&&bn(e,t.parameters)}var ga="imperative",rt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(rt||{}),Zt=class{constructor(e,t){this.id=e,this.url=t}},Lo=class extends Zt{constructor(e,t,r="imperative",i=null){super(e,t),this.type=rt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Jn=class extends Zt{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=rt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Bt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Bt||{}),Ol=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Ol||{}),Or=class extends Zt{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=rt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},kr=class extends Zt{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=rt.NavigationSkipped}},Ia=class extends Zt{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=rt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},kl=class extends Zt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=rt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Am=class extends Zt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=rt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rm=class extends Zt{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=rt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},xm=class extends Zt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=rt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Mm=class extends Zt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=rt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nm=class{constructor(e){this.route=e,this.type=rt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Pm=class{constructor(e){this.route=e,this.type=rt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Om=class{constructor(e){this.snapshot=e,this.type=rt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},km=class{constructor(e){this.snapshot=e,this.type=rt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fm=class{constructor(e){this.snapshot=e,this.type=rt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vm=class{constructor(e){this.snapshot=e,this.type=rt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fl=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=rt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},wa=class{},Ea=class{constructor(e){this.url=e}};var Lm=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ra,this.attachRef=null}},Ra=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Lm,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Vl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Um(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Um(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=jm(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return jm(e,this._root).map(t=>t.value)}};function Um(n,e){if(n===e.value)return e;for(let t of e.children){let r=Um(n,t);if(r)return r}return null}function jm(n,e){if(n===e.value)return[e];for(let t of e.children){let r=jm(n,t);if(r.length)return r.unshift(e),r}return[]}var jt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Po(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Ll=class extends Vl{constructor(e,t){super(e),this.snapshot=t,Ym(this,e)}toString(){return this.snapshot.toString()}};function Nb(n){let e=m1(n),t=new st([new yi("",{})]),r=new st({}),i=new st({}),o=new st({}),s=new st(""),a=new _i(t,r,o,s,i,ae,n,e.root);return a.snapshot=e.root,new Ll(new jt(a,[]),e)}function m1(n){let e={},t={},r={},i="",o=new ba([],e,r,i,t,ae,n,null,{});return new Ul("",new jt(o,[]))}var _i=class{constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(X(l=>l[Sa]))??q(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(X(e=>Fo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(X(e=>Fo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Qm(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:j(j({},e.params),n.params),data:j(j({},e.data),n.data),resolve:j(j(j(j({},n.data),e.data),i?.data),n._resolvedData)}:r={params:j({},n.params),data:j({},n.data),resolve:j(j({},n.data),n._resolvedData??{})},i&&Ob(i)&&(r.resolve[Sa]=i.title),r}var ba=class{get title(){return this.data?.[Sa]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Fo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Fo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Ul=class extends Vl{constructor(e,t){super(t),this.url=e,Ym(this,t)}toString(){return Pb(this._root)}};function Ym(n,e){e.value._routerState=n,e.children.forEach(t=>Ym(n,t))}function Pb(n){let e=n.children.length>0?` { ${n.children.map(Pb).join(", ")} } `:"";return`${n.value}${e}`}function wm(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,bn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),bn(e.params,t.params)||n.paramsSubject.next(t.params),qO(e.url,t.url)||n.urlSubject.next(t.url),bn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Bm(n,e){let t=bn(n.params,e.params)&&KO(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Bm(n.parent,e.parent))}function Ob(n){return typeof n.title=="string"||n.title===null}var Jm=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ae,this.activateEvents=new et,this.deactivateEvents=new et,this.attachEvents=new et,this.detachEvents=new et,this.parentContexts=O(Ra),this.location=O(To),this.changeDetector=O(xr),this.environmentInjector=O(St),this.inputBinder=O(Hl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new z(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new z(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new $m(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Je({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Kn]})}}return n})(),$m=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===_i?this.route:e===Ra?this.childContexts:this.parent.get(e,t)}},Hl=new Q(""),pb=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=js([r.queryParams,r.params,r.data]).pipe(zt(([o,s,a],u)=>(a=j(j(j({},o),s),a),u===0?q(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=j0(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})();function g1(n,e,t){let r=Da(n,e._root,t?t._root:void 0);return new Ll(r,e)}function Da(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=y1(n,e,t);return new jt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Da(n,a)),s}}let r=v1(e.value),i=e.children.map(o=>Da(n,o));return new jt(r,i)}}function y1(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Da(n,r,i);return Da(n,r)})}function v1(n){return new _i(new st(n.url),new st(n.params),new st(n.queryParams),new st(n.fragment),new st(n.data),n.outlet,n.component,n)}var kb="ngNavigationCancelingError";function Fb(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Vo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Vb(!1,Bt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function Vb(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[kb]=!0,t.cancellationCode=e,t}function _1(n){return Lb(n)&&Vo(n.url)}function Lb(n){return!!n&&n[kb]}var I1=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ze({type:n,selectors:[["ng-component"]],standalone:!0,features:[We],decls:1,vars:0,template:function(r,i){r&1&&Rt(0,"router-outlet")},dependencies:[Jm],encapsulation:2})}}return n})();function w1(n,e){return n.providers&&!n._injector&&(n._injector=fl(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Zm(n){let e=n.children&&n.children.map(Zm),t=e?Ie(j({},n),{children:e}):j({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ae&&(t.component=I1),t}function Dn(n){return n.outlet||ae}function E1(n,e){let t=n.filter(r=>Dn(r)===e);return t.push(...n.filter(r=>Dn(r)!==e)),t}function xa(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var b1=(n,e,t,r)=>X(i=>(new Hm(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Hm=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),wm(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Po(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Po(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Po(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Po(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Vm(o.value.snapshot))}),e.children.length&&this.forwardEvent(new km(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(wm(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),wm(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=xa(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},jl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ko=class{constructor(e,t){this.component=e,this.route=t}};function D1(n,e,t){let r=n._root,i=e?e._root:null;return fa(r,i,t,[r.value])}function C1(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function jo(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!$w(n)?n:e.get(n):r}function fa(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Po(e);return n.children.forEach(s=>{T1(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ya(a,t.getContext(s),i)),i}function T1(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=S1(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new jl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?fa(n,e,a?a.children:null,r,i):fa(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ko(a.outlet.component,s))}else s&&ya(e,a,i),i.canActivateChecks.push(new jl(r)),o.component?fa(n,null,a?a.children:null,r,i):fa(n,null,t,r,i);return i}function S1(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!vi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!vi(n.url,e.url)||!bn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bm(n,e)||!bn(n.queryParams,e.queryParams);case"paramsChange":default:return!Bm(n,e)}}function ya(n,e,t){let r=Po(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ya(s,e.children.getContext(o),t):ya(s,null,t):ya(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new ko(e.outlet.component,i)):t.canDeactivateChecks.push(new ko(null,i)):t.canDeactivateChecks.push(new ko(null,i))}function Ma(n){return typeof n=="function"}function A1(n){return typeof n=="boolean"}function R1(n){return n&&Ma(n.canLoad)}function x1(n){return n&&Ma(n.canActivate)}function M1(n){return n&&Ma(n.canActivateChild)}function N1(n){return n&&Ma(n.canDeactivate)}function P1(n){return n&&Ma(n.canMatch)}function Ub(n){return n instanceof Ln||n?.name==="EmptyError"}var Al=Symbol("INITIAL_VALUE");function Uo(){return zt(n=>js(n.map(e=>e.pipe(Un(1),fu(Al)))).pipe(X(e=>{for(let t of e)if(t!==!0){if(t===Al)return Al;if(t===!1||t instanceof Pr)return t}return!0}),Vt(e=>e!==Al),Un(1)))}function O1(n,e){return qe(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?q(Ie(j({},t),{guardsResult:!0})):k1(s,r,i,n).pipe(qe(a=>a&&A1(a)?F1(r,o,n,e):q(a)),X(a=>Ie(j({},t),{guardsResult:a})))})}function k1(n,e,t,r){return Me(n).pipe(qe(i=>B1(i.component,i.route,t,e,r)),hn(i=>i!==!0,!0))}function F1(n,e,t,r){return Me(e).pipe(ri(i=>oo(L1(i.route.parent,r),V1(i.route,r),j1(n,i.path,t),U1(n,i.route,t))),hn(i=>i!==!0,!0))}function V1(n,e){return n!==null&&e&&e(new Fm(n)),q(!0)}function L1(n,e){return n!==null&&e&&e(new Om(n)),q(!0)}function U1(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return q(!0);let i=r.map(o=>lu(()=>{let s=xa(e)??t,a=jo(o,s),u=x1(a)?a.canActivate(e,n):zn(s,()=>a(e,n));return Vr(u).pipe(hn())}));return q(i).pipe(Uo())}function j1(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>C1(s)).filter(s=>s!==null).map(s=>lu(()=>{let a=s.guards.map(u=>{let l=xa(s.node)??t,f=jo(u,l),p=M1(f)?f.canActivateChild(r,n):zn(l,()=>f(r,n));return Vr(p).pipe(hn())});return q(a).pipe(Uo())}));return q(o).pipe(Uo())}function B1(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return q(!0);let s=o.map(a=>{let u=xa(e)??i,l=jo(a,u),f=N1(l)?l.canDeactivate(n,e,t,r):zn(u,()=>l(n,e,t,r));return Vr(f).pipe(hn())});return q(s).pipe(Uo())}function $1(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return q(!0);let o=i.map(s=>{let a=jo(s,n),u=R1(a)?a.canLoad(e,t):zn(n,()=>a(e,t));return Vr(u)});return q(o).pipe(Uo(),jb(r))}function jb(n){return zc(Ye(e=>{if(Vo(e))throw Fb(n,e)}),X(e=>e===!0))}function H1(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return q(!0);let o=i.map(s=>{let a=jo(s,n),u=P1(a)?a.canMatch(e,t):zn(n,()=>a(e,t));return Vr(u)});return q(o).pipe(Uo(),jb(r))}var Ca=class{constructor(e){this.segmentGroup=e||null}},Bl=class extends Error{constructor(e){super(),this.urlTree=e}};function No(n){return ro(new Ca(n))}function q1(n){return ro(new z(4e3,!1))}function z1(n){return ro(Vb(!1,Bt.GuardRejected))}var qm=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return q(r);if(i.numberOfChildren>1||!i.children[ae])return q1(e.redirectTo);i=i.children[ae]}}applyRedirectCommands(e,t,r){let i=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t.startsWith("/"))throw new Bl(i);return i}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Pr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Ce(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new z(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},zm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function G1(n,e,t,r,i){let o=Xm(n,e,t);return o.matched?(r=w1(e,r),H1(r,e,t,i).pipe(X(s=>s===!0?o:j({},zm)))):q(o)}function Xm(n,e,t){if(e.path==="**")return W1(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?j({},zm):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||HO)(t,n,e);if(!i)return j({},zm);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?j(j({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function W1(n){return{matched:!0,parameters:n.length>0?_b(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function mb(n,e,t,r){return t.length>0&&Y1(n,t,r)?{segmentGroup:new Ce(e,Q1(r,new Ce(t,n.children))),slicedSegments:[]}:t.length===0&&J1(n,t,r)?{segmentGroup:new Ce(n.segments,K1(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ce(n.segments,n.children),slicedSegments:t}}function K1(n,e,t,r){let i={};for(let o of t)if(ql(n,e,o)&&!r[Dn(o)]){let s=new Ce([],{});i[Dn(o)]=s}return j(j({},r),i)}function Q1(n,e){let t={};t[ae]=e;for(let r of n)if(r.path===""&&Dn(r)!==ae){let i=new Ce([],{});t[Dn(r)]=i}return t}function Y1(n,e,t){return t.some(r=>ql(n,e,r)&&Dn(r)!==ae)}function J1(n,e,t){return t.some(r=>ql(n,e,r))}function ql(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Z1(n,e,t,r){return Dn(n)!==r&&(r===ae||!ql(e,t,n))?!1:Xm(e,n,t).matched}function X1(n,e,t){return e.length===0&&!n.children[t]}var Gm=class{};function ek(n,e,t,r,i,o,s="emptyOnly"){return new Wm(n,e,t,r,i,s,o).recognize()}var tk=31,Wm=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new qm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new z(4002,`'${e.segmentGroup}'`)}recognize(){let e=mb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(X(t=>{let r=new ba([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,{},ae,this.rootComponentType,null,{}),i=new jt(r,t),o=new Ul("",i),s=c1(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ae).pipe(Lt(r=>{if(r instanceof Bl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ca?this.noMatchError(r):r}))}inheritParamsAndData(e,t){let r=e.value,i=Qm(r,t,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,t,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0).pipe(X(o=>o instanceof jt?[o]:[]))}processChildren(e,t,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return Me(i).pipe(ri(o=>{let s=r.children[o],a=E1(t,o);return this.processSegmentGroup(e,a,s,o)}),hu((o,s)=>(o.push(...s),o)),vr(null),of(),qe(o=>{if(o===null)return No(r);let s=Bb(o);return nk(s),q(s)}))}processSegment(e,t,r,i,o,s){return Me(t).pipe(ri(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,o,s).pipe(Lt(u=>{if(u instanceof Ca)return q(null);throw u}))),hn(a=>!!a),Lt(a=>{if(Ub(a))return X1(r,i,o)?q(new Gm):No(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,o,s,a){return Z1(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s):No(i):No(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){let{matched:a,consumedSegments:u,positionalParamSegments:l,remainingSegments:f}=Xm(t,i,o);if(!a)return No(t);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>tk&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,p).pipe(qe(y=>this.processSegment(e,r,t,y.concat(f),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){let s=G1(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),s.pipe(zt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(zt(({routes:u})=>{let l=r._loadedInjector??e,{consumedSegments:f,remainingSegments:p,parameters:y}=a,w=new ba(f,y,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,ik(r),Dn(r),r.component??r._loadedComponent??null,r,ok(r)),{segmentGroup:A,slicedSegments:M}=mb(t,f,p,u);if(M.length===0&&A.hasChildren())return this.processChildren(l,u,A).pipe(X(U=>U===null?null:new jt(w,U)));if(u.length===0&&M.length===0)return q(new jt(w,[]));let x=Dn(r)===o;return this.processSegment(l,u,A,M,x?ae:o,!0).pipe(X(U=>new jt(w,U instanceof jt?[U]:[])))}))):No(t)))}getChildConfig(e,t,r){return t.children?q({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?q({routes:t._loadedRoutes,injector:t._loadedInjector}):$1(e,t,r,this.urlSerializer).pipe(qe(i=>i?this.configLoader.loadChildren(e,t).pipe(Ye(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):z1(t))):q({routes:[],injector:e})}};function nk(n){n.sort((e,t)=>e.value.outlet===ae?-1:t.value.outlet===ae?1:e.value.outlet.localeCompare(t.value.outlet))}function rk(n){let e=n.value.routeConfig;return e&&e.path===""}function Bb(n){let e=[],t=new Set;for(let r of n){if(!rk(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=Bb(r.children);e.push(new jt(r.value,i))}return e.filter(r=>!t.has(r))}function ik(n){return n.data||{}}function ok(n){return n.resolve||{}}function sk(n,e,t,r,i,o){return qe(s=>ek(n,e,t,r,s.extractedUrl,i,o).pipe(X(({state:a,tree:u})=>Ie(j({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function ak(n,e){return qe(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return q(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of $b(u))s.add(l);let a=0;return Me(s).pipe(ri(u=>o.has(u)?ck(u,r,n,e):(u.data=Qm(u,u.parent,n).resolve,q(void 0))),Ye(()=>a++),so(1),qe(u=>a===s.size?q(t):Ft))})}function $b(n){let e=n.children.map(t=>$b(t)).flat();return[n,...e]}function ck(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!Ob(i)&&(o[Sa]=i.title),uk(o,n,e,r).pipe(X(s=>(n._resolvedData=s,n.data=Qm(n,n.parent,t).resolve,null)))}function uk(n,e,t,r){let i=Dm(n);if(i.length===0)return q({});let o={};return Me(i).pipe(qe(s=>lk(n[s],e,t,r).pipe(hn(),Ye(a=>{o[s]=a}))),so(1),rf(o),Lt(s=>Ub(s)?Ft:ro(s)))}function lk(n,e,t,r){let i=xa(e)??r,o=jo(n,i),s=o.resolve?o.resolve(e,t):zn(i,()=>o(e,t));return Vr(s)}function Em(n){return zt(e=>{let t=n(e);return t?Me(t).pipe(X(()=>e)):q(e)})}var Hb=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ae);return r}getResolvedTitleForRoute(t){return t.data[Sa]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:()=>O(dk),providedIn:"root"})}}return n})(),dk=(()=>{class n extends Hb{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(re(ub))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Na=new Q("",{providedIn:"root",factory:()=>({})}),Ta=new Q(""),eg=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=O(El)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return q(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Vr(t.loadComponent()).pipe(X(qb),Ye(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Bs(()=>{this.componentLoaders.delete(t)})),i=new Xi(r,()=>new _t).pipe(Zi());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=hk(r,this.compiler,t,this.onLoadEndListener).pipe(Bs(()=>{this.childrenLoaders.delete(r)})),s=new Xi(o,()=>new _t).pipe(Zi());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function hk(n,e,t,r){return Vr(n.loadChildren()).pipe(X(qb),qe(i=>i instanceof Zs||Array.isArray(i)?q(i):Me(e.compileModuleAsync(i))),X(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Ta,[],{optional:!0,self:!0}).flat()),{routes:s.map(Zm),injector:o}}))}function fk(n){return n&&typeof n=="object"&&"default"in n}function qb(n){return fk(n)?n.default:n}var tg=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:()=>O(pk),providedIn:"root"})}}return n})(),pk=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),zb=new Q(""),Gb=new Q("");function mk(n,e,t){let r=n.get(Gb),i=n.get(xt);return n.get(Ee).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),gk(n))),{onViewTransitionCreated:u}=r;return u&&zn(n,()=>u({transition:a,from:e,to:t})),s})}function gk(n){return new Promise(e=>{hl(e,{injector:n})})}var ng=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new _t,this.transitionAbortSubject=new _t,this.configLoader=O(eg),this.environmentInjector=O(St),this.urlSerializer=O(Aa),this.rootContexts=O(Ra),this.location=O(xo),this.inputBindingEnabled=O(Hl,{optional:!0})!==null,this.titleStrategy=O(Hb),this.options=O(Na,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=O(tg),this.createViewTransition=O(zb,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>q(void 0),this.rootComponentType=null;let t=i=>this.events.next(new Nm(i)),r=i=>this.events.next(new Pm(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(Ie(j(j({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new st({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ga,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Vt(o=>o.id!==0),X(o=>Ie(j({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),zt(o=>{let s=!1,a=!1;return q(o).pipe(zt(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Bt.SupersededByNewNavigation),Ft;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?Ie(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=u.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&f!=="reload"){let p="";return this.events.next(new kr(u.id,this.urlSerializer.serialize(u.rawUrl),p,Ol.IgnoredSameUrlNavigation)),u.resolve(null),Ft}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return q(u).pipe(zt(p=>{let y=this.transitions?.getValue();return this.events.next(new Lo(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),y!==this.transitions?.getValue()?Ft:Promise.resolve(p)}),sk(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ye(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=Ie(j({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let y=new kl(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(y)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:y,source:w,restoredState:A,extras:M}=u,x=new Lo(p,this.urlSerializer.serialize(y),w,A);this.events.next(x);let U=Nb(this.rootComponentType).snapshot;return this.currentTransition=o=Ie(j({},u),{targetSnapshot:U,urlAfterRedirects:y,extras:Ie(j({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,q(o)}else{let p="";return this.events.next(new kr(u.id,this.urlSerializer.serialize(u.extractedUrl),p,Ol.IgnoredByUrlHandlingStrategy)),u.resolve(null),Ft}}),Ye(u=>{let l=new Am(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),X(u=>(this.currentTransition=o=Ie(j({},u),{guards:D1(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),O1(this.environmentInjector,u=>this.events.next(u)),Ye(u=>{if(o.guardsResult=u.guardsResult,Vo(u.guardsResult))throw Fb(this.urlSerializer,u.guardsResult);let l=new Rm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Vt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Bt.GuardRejected),!1)),Em(u=>{if(u.guards.canActivateChecks.length)return q(u).pipe(Ye(l=>{let f=new xm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),zt(l=>{let f=!1;return q(l).pipe(ak(this.paramsInheritanceStrategy,this.environmentInjector),Ye({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(l,"",Bt.NoDataFromResolver)}}))}),Ye(l=>{let f=new Mm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}))}),Em(u=>{let l=f=>{let p=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(f.routeConfig).pipe(Ye(y=>{f.component=y}),X(()=>{})));for(let y of f.children)p.push(...l(y));return p};return js(l(u.targetSnapshot.root)).pipe(vr(null),Un(1))}),Em(()=>this.afterPreactivation()),zt(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,f=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return f?Me(f).pipe(X(()=>o)):q(o)}),X(u=>{let l=g1(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=Ie(j({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),Ye(()=>{this.events.next(new wa)}),b1(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Un(1),Ye({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Jn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),sf(this.transitionAbortSubject.pipe(Ye(u=>{throw u}))),Bs(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Bt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Lt(u=>{if(a=!0,Lb(u))this.events.next(new Or(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),_1(u)?this.events.next(new Ea(u.url)):o.resolve(!1);else{this.events.next(new Ia(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return Ft}))}))}cancelNavigationTransition(t,r,i){let o=new Or(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function yk(n){return n!==ga}var vk=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:()=>O(_k),providedIn:"root"})}}return n})(),Km=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},_k=(()=>{class n extends Km{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Co(n)))(i||n)}})()}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Wb=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:()=>O(Ik),providedIn:"root"})}}return n})(),Ik=(()=>{class n extends Wb{constructor(){super(...arguments),this.location=O(xo),this.urlSerializer=O(Aa),this.options=O(Na,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=O(tg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Pr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Nb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Lo)this.stateMemento=this.createStateMemento();else if(t instanceof kr)this.rawUrlTree=r.initialUrl;else if(t instanceof kl){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else t instanceof wa?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):t instanceof Or&&(t.code===Bt.GuardRejected||t.code===Bt.NoDataFromResolver)?this.restoreHistory(r):t instanceof Ia?this.restoreHistory(r,!0):t instanceof Jn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=j(j({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=j(j({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Co(n)))(i||n)}})()}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),pa=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(pa||{});function Kb(n,e){n.events.pipe(Vt(t=>t instanceof Jn||t instanceof Or||t instanceof Ia||t instanceof kr),X(t=>t instanceof Jn||t instanceof kr?pa.COMPLETE:(t instanceof Or?t.code===Bt.Redirect||t.code===Bt.SupersededByNewNavigation:!1)?pa.REDIRECTING:pa.FAILED),Vt(t=>t!==pa.REDIRECTING),Un(1)).subscribe(()=>{e()})}function wk(n){throw n}var Ek={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bk={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Fr=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=O(_l),this.stateManager=O(Wb),this.options=O(Na,{optional:!0})||{},this.pendingTasks=O(pl),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=O(ng),this.urlSerializer=O(Aa),this.location=O(xo),this.urlHandlingStrategy=O(tg),this._events=new _t,this.errorHandler=this.options.errorHandler||wk,this.navigated=!1,this.routeReuseStrategy=O(vk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=O(Ta,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!O(Hl,{optional:!0}),this.eventsSubscription=new Be,this.isNgZoneEnabled=O(Ee)instanceof Ee&&Ee.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Or&&r.code!==Bt.Redirect&&r.code!==Bt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Jn)this.navigated=!0;else if(r instanceof Ea){let s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||yk(i.source)};this.scheduleNavigation(s,ga,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Ck(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ga,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=j({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Zm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,f=null;switch(a){case"merge":f=j(j({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let y=i?i.snapshot:this.routerState.snapshot.root;p=Ab(y)}catch{(typeof t[0]!="string"||!t[0].startsWith("/"))&&(t=[]),p=this.currentUrlTree.root}return Rb(p,t,f,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Vo(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ga,null,r)}navigate(t,r={skipLocationChange:!1}){return Dk(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=j({},Ek):r===!1?i=j({},bk):i=r,Vo(t))return lb(this.currentUrlTree,t,i);let o=this.parseUrl(t);return lb(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,y)=>{a=p,u=y});let f=this.pendingTasks.add();return Kb(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Dk(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new z(4008,!1)}function Ck(n){return!(n instanceof wa)&&!(n instanceof Ea)}var $l=class{};var Tk=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Vt(t=>t instanceof Jn),ri(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=fl(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Me(i).pipe(io())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=q(null);let o=i.pipe(qe(s=>s===null?q(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Me([o,s]).pipe(io())}else return o})}static{this.\u0275fac=function(r){return new(r||n)(re(Fr),re(El),re(St),re($l),re(eg))}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Qb=new Q(""),Sk=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=O(St),s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Lo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Jn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof kr&&t.code===Ol.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Fl&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>T(this,null,function*(){yield new Promise(i=>{setTimeout(()=>{i()}),hl(()=>{i()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new Fl(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){l0()}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac})}}return n})();function Yb(n,...e){return _n([{provide:Ta,multi:!0,useValue:n},[],{provide:_i,useFactory:Jb,deps:[Fr]},{provide:wl,multi:!0,useFactory:Zb},e.map(t=>t.\u0275providers)])}function Jb(n){return n.routerState.root}function Pa(n,e){return{\u0275kind:n,\u0275providers:e}}function Zb(){let n=O(Et);return e=>{let t=n.get(aa);if(e!==t.components[0])return;let r=n.get(Fr),i=n.get(Xb);n.get(rg)===1&&r.initialNavigation(),n.get(eD,null,ue.Optional)?.setUpPreloading(),n.get(Qb,null,ue.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Xb=new Q("",{factory:()=>new _t}),rg=new Q("",{providedIn:"root",factory:()=>1});function Ak(){return Pa(2,[{provide:rg,useValue:0},{provide:Il,multi:!0,deps:[Et],useFactory:e=>{let t=e.get(Q0,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(Fr),o=e.get(Xb);Kb(i,()=>{r(!0)}),e.get(ng).afterPreactivation=()=>(r(!0),o.closed?q(void 0):o),i.initialNavigation()}))}}])}function Rk(){return Pa(3,[{provide:Il,multi:!0,useFactory:()=>{let e=O(Fr);return()=>{e.setUpLocationChangeListener()}}},{provide:rg,useValue:2}])}var eD=new Q("");function xk(n){return Pa(0,[{provide:eD,useExisting:Tk},{provide:$l,useExisting:n}])}function Mk(){return Pa(8,[pb,{provide:Hl,useExisting:pb}])}function Nk(n){let e=[{provide:zb,useValue:mk},{provide:Gb,useValue:j({skipNextTransition:!!n?.skipInitialTransition},n)}];return Pa(9,e)}var gb=new Q("ROUTER_FORROOT_GUARD"),Pk=[xo,{provide:Aa,useClass:va},Fr,Ra,{provide:_i,useFactory:Jb,deps:[Fr]},eg,[]],tD=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Pk,[],{provide:Ta,multi:!0,useValue:t},{provide:gb,useFactory:Vk,deps:[[Fr,new nt,new Wu]]},{provide:Na,useValue:r||{}},r?.useHash?kk():Fk(),Ok(),r?.preloadingStrategy?xk(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Lk(r):[],r?.bindToComponentInputs?Mk().\u0275providers:[],r?.enableViewTransitions?Nk().\u0275providers:[],Uk()]}}static forChild(t){return{ngModule:n,providers:[{provide:Ta,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(re(gb,8))}}static{this.\u0275mod=qn({type:n})}static{this.\u0275inj=Hn({})}}return n})();function Ok(){return{provide:Qb,useFactory:()=>{let n=O(eb),e=O(Ee),t=O(Na),r=O(ng),i=O(Aa);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Sk(i,r,n,e,t)}}}function kk(){return{provide:gi,useClass:J0}}function Fk(){return{provide:gi,useClass:um}}function Vk(n){return"guarded"}function Lk(n){return[n.initialNavigation==="disabled"?Rk().\u0275providers:[],n.initialNavigation==="enabledBlocking"?Ak().\u0275providers:[]]}var yb=new Q("");function Uk(){return[{provide:yb,useFactory:Zb},{provide:wl,multi:!0,useExisting:yb}]}var lD=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(ce(pi),ce(Tr))}}static{this.\u0275dir=Je({type:n})}}return n})(),Bk=(()=>{class n extends lD{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Co(n)))(i||n)}})()}static{this.\u0275dir=Je({type:n,features:[un]})}}return n})(),ag=new Q("");var $k={provide:ag,useExisting:$n(()=>qo),multi:!0};function Hk(){let n=Yn()?Yn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var qk=new Q(""),qo=(()=>{class n extends lD{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Hk())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(ce(pi),ce(Tr),ce(qk,8))}}static{this.\u0275dir=Je({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&In("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[mi([$k]),un]})}}return n})();function Lr(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function dD(n){return n!=null&&typeof n.length=="number"}var La=new Q(""),Xl=new Q(""),zk=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Zn=class{static min(e){return Gk(e)}static max(e){return Wk(e)}static required(e){return hD(e)}static requiredTrue(e){return Kk(e)}static email(e){return Qk(e)}static minLength(e){return Yk(e)}static maxLength(e){return Jk(e)}static pattern(e){return Zk(e)}static nullValidator(e){return Gl(e)}static compose(e){return vD(e)}static composeAsync(e){return _D(e)}};function Gk(n){return e=>{if(Lr(e.value)||Lr(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function Wk(n){return e=>{if(Lr(e.value)||Lr(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function hD(n){return Lr(n.value)?{required:!0}:null}function Kk(n){return n.value===!0?null:{required:!0}}function Qk(n){return Lr(n.value)||zk.test(n.value)?null:{email:!0}}function Yk(n){return e=>Lr(e.value)||!dD(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function Jk(n){return e=>dD(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function Zk(n){if(!n)return Gl;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Lr(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Gl(n){return null}function fD(n){return n!=null}function pD(n){return Rr(n)?Me(n):n}function mD(n){let e={};return n.forEach(t=>{e=t!=null?j(j({},e),t):e}),Object.keys(e).length===0?null:e}function gD(n,e){return e.map(t=>t(n))}function Xk(n){return!n.validate}function yD(n){return n.map(e=>Xk(e)?e:t=>e.validate(t))}function vD(n){if(!n)return null;let e=n.filter(fD);return e.length==0?null:function(t){return mD(gD(t,e))}}function cg(n){return n!=null?vD(yD(n)):null}function _D(n){if(!n)return null;let e=n.filter(fD);return e.length==0?null:function(t){let r=gD(t,e).map(pD);return nf(r).pipe(X(mD))}}function ug(n){return n!=null?_D(yD(n)):null}function nD(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function ID(n){return n._rawValidators}function wD(n){return n._rawAsyncValidators}function ig(n){return n?Array.isArray(n)?n:[n]:[]}function Wl(n,e){return Array.isArray(n)?n.includes(e):n===e}function rD(n,e){let t=ig(e);return ig(n).forEach(i=>{Wl(t,i)||t.push(i)}),t}function iD(n,e){return ig(e).filter(t=>!Wl(n,t))}var Kl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=cg(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ug(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Xn=class extends Kl{get formDirective(){return null}get path(){return null}},Ii=class extends Kl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Ql=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},eF={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},ZW=Ie(j({},eF),{"[class.ng-submitted]":"isSubmitted"}),ed=(()=>{class n extends Ql{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(ce(Ii,2))}}static{this.\u0275dir=Je({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&gl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[un]})}}return n})(),td=(()=>{class n extends Ql{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(ce(Xn,10))}}static{this.\u0275dir=Je({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&gl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[un]})}}return n})();var Oa="VALID",zl="INVALID",Bo="PENDING",ka="DISABLED";function lg(n){return(nd(n)?n.validators:n)||null}function tF(n){return Array.isArray(n)?cg(n):n||null}function dg(n,e){return(nd(e)?e.asyncValidators:n)||null}function nF(n){return Array.isArray(n)?ug(n):n||null}function nd(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function ED(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new z(1e3,"");if(!r[t])throw new z(1001,"")}function bD(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new z(1002,"")})}var $o=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Oa}get invalid(){return this.status===zl}get pending(){return this.status==Bo}get disabled(){return this.status===ka}get enabled(){return this.status!==ka}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(rD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(rD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(iD(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(iD(e,this._rawAsyncValidators))}hasValidator(e){return Wl(this._rawValidators,e)}hasAsyncValidator(e){return Wl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Bo,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=ka,this.errors=null,this._forEachChild(r=>{r.disable(Ie(j({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ie(j({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Oa,this._forEachChild(r=>{r.enable(Ie(j({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ie(j({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Oa||this.status===Bo)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ka:Oa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Bo,this._hasOwnPendingAsyncValidator=!0;let t=pD(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new et,this.statusChanges=new et}_calculateStatus(){return this._allControlsDisabled()?ka:this.errors?zl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Bo)?Bo:this._anyControlsHaveStatus(zl)?zl:Oa}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){nd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=tF(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=nF(this._rawAsyncValidators)}},Ho=class extends $o{constructor(e,t,r){super(lg(t),dg(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){bD(this,!0,e),Object.keys(e).forEach(r=>{ED(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var og=class extends Ho{};var Ua=new Q("CallSetDisabledState",{providedIn:"root",factory:()=>rd}),rd="always";function DD(n,e){return[...e.path,n]}function Yl(n,e,t=rd){hg(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),iF(n,e),sF(n,e),oF(n,e),rF(n,e)}function oD(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Zl(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Jl(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function rF(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function hg(n,e){let t=ID(n);e.validator!==null?n.setValidators(nD(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=wD(n);e.asyncValidator!==null?n.setAsyncValidators(nD(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Jl(e._rawValidators,i),Jl(e._rawAsyncValidators,i)}function Zl(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=ID(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=wD(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Jl(e._rawValidators,r),Jl(e._rawAsyncValidators,r),t}function iF(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&CD(n,e)})}function oF(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&CD(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function CD(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function sF(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function TD(n,e){n==null,hg(n,e)}function aF(n,e){return Zl(n,e)}function SD(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function cF(n){return Object.getPrototypeOf(n.constructor)===Bk}function AD(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function RD(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===qo?t=o:cF(o)?r=o:i=o}),i||r||t||null}function uF(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var lF={provide:Xn,useExisting:$n(()=>fg)},Fa=Promise.resolve(),fg=(()=>{class n extends Xn{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new et,this.form=new Ho({},cg(t),ug(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Fa.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Yl(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Fa.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Fa.then(()=>{let r=this._findContainer(t.path),i=new Ho({});TD(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Fa.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Fa.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,AD(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(ce(La,10),ce(Xl,10),ce(Ua,8))}}static{this.\u0275dir=Je({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&In("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[tt.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[mi([lF]),un]})}}return n})();function sD(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function aD(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Va=class extends $o{constructor(e=null,t,r){super(lg(t),dg(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),nd(t)&&(t.nonNullable||t.initialValueIsDefault)&&(aD(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){sD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){sD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){aD(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var dF=n=>n instanceof Va;var hF={provide:Ii,useExisting:$n(()=>pg)},cD=Promise.resolve(),pg=(()=>{class n extends Ii{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Va,this._registered=!1,this.name="",this.update=new et,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=RD(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),SD(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Yl(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){cD.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&ca(r);cD.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?DD(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(ce(Xn,9),ce(La,10),ce(Xl,10),ce(ag,10),ce(xr,8),ce(Ua,8))}}static{this.\u0275dir=Je({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[tt.None,"disabled","isDisabled"],model:[tt.None,"ngModel","model"],options:[tt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[mi([hF]),un,Kn]})}}return n})(),id=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Je({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();var xD=new Q("");var fF={provide:Xn,useExisting:$n(()=>mg)},mg=(()=>{class n extends Xn{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new et,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Zl(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Yl(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){oD(t.control||null,t,!1),uF(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,AD(this.form,this.directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(oD(r||null,t),dF(i)&&(Yl(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);TD(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&aF(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){hg(this.form,this),this._oldForm&&Zl(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(ce(La,10),ce(Xl,10),ce(Ua,8))}}static{this.\u0275dir=Je({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&In("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[tt.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[mi([fF]),un,Kn]})}}return n})();var pF={provide:Ii,useExisting:$n(()=>gg)},gg=(()=>{class n extends Ii{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new et,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=RD(this,o)}ngOnChanges(t){this._added||this._setUpControl(),SD(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return DD(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(ce(Xn,13),ce(La,10),ce(Xl,10),ce(ag,10),ce(xD,8))}}static{this.\u0275dir=Je({type:n,selectors:[["","formControlName",""]],inputs:{name:[tt.None,"formControlName","name"],isDisabled:[tt.None,"disabled","isDisabled"],model:[tt.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[mi([pF]),un,Kn]})}}return n})();var mF=(()=>{class n{constructor(){this._validator=Gl}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Gl,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Je({type:n,features:[Kn]})}}return n})();var gF={provide:La,useExisting:$n(()=>yg),multi:!0};var yg=(()=>{class n extends mF{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ca,this.createValidator=t=>hD}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Co(n)))(i||n)}})()}static{this.\u0275dir=Je({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&ml("required",i._enabled?"":null)},inputs:{required:"required"},features:[mi([gF]),un]})}}return n})();var MD=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=qn({type:n})}static{this.\u0275inj=Hn({})}}return n})(),sg=class extends $o{constructor(e,t,r){super(lg(t),dg(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){bD(this,!1,e),e.forEach((r,i)=>{ED(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function uD(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var ND=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return uD(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Ho(i,o)}record(t,r=null){let i=this._reduceControls(t);return new og(i,r)}control(t,r,i){let o={};return this.useNonNullable?(uD(r)?o=r:(o.validators=r,o.asyncValidators=i),new Va(t,Ie(j({},o),{nonNullable:!0}))):new Va(t,r,i)}array(t,r,i){let o=t.map(s=>this._createControl(s));return new sg(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Va)return t;if(t instanceof $o)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var PD=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Ua,useValue:t.callSetDisabledState??rd}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=qn({type:n})}static{this.\u0275inj=Hn({imports:[MD]})}}return n})(),OD=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:xD,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Ua,useValue:t.callSetDisabledState??rd}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=qn({type:n})}static{this.\u0275inj=Hn({imports:[MD]})}}return n})();var VD=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},yF=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},LD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,f=o>>2,p=(o&3)<<4|a>>4,y=(a&15)<<2|l>>6,w=l&63;u||(w=64,s||(y=64)),r.push(t[f],t[p],t[y],t[w])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(VD(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):yF(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new _g;let y=o<<2|a>>4;if(r.push(y),l!==64){let w=a<<4&240|l>>2;if(r.push(w),p!==64){let A=l<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},_g=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},vF=function(n){let e=VD(n);return LD.encodeByteArray(e,!0)},ja=function(n){return vF(n).replace(/\./g,"")},wg=function(n){try{return LD.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function _F(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var IF=()=>_F().__FIREBASE_DEFAULTS__,wF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},EF=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&wg(n[1]);return e&&JSON.parse(e)},sd=()=>{try{return IF()||wF()||EF()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},UD=n=>{var e,t;return(t=(e=sd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},ad=n=>{let e=UD(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Eg=()=>{var n;return(n=sd())===null||n===void 0?void 0:n.config},jD=n=>{var e;return(e=sd())===null||e===void 0?void 0:e[`_${n}`]};var od=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function cd(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ja(JSON.stringify(t)),ja(JSON.stringify(s)),""].join(".")}function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function bF(){var n;let e=(n=sd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $D(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HD(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function qD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zD(){return!bF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bg(){try{return typeof indexedDB=="object"}catch{return!1}}function GD(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var DF="FirebaseError",Mt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=DF,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,er.prototype.create)}},er=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?CF(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Mt(i,a,r)}};function CF(n,e){return n.replace(TF,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var TF=/\{\$([^}]+)}/g;function zo(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(FD(o)&&FD(s)){if(!zo(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function FD(n){return n!==null&&typeof n=="object"}function Dg(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function WD(n,e){let t=new Ig(n,e);return t.subscribe.bind(t)}var Ig=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");SF(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=vg),i.error===void 0&&(i.error=vg),i.complete===void 0&&(i.complete=vg);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function SF(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function vg(){}var t9=4*60*60*1e3;function Nt(n){return n&&n._delegate?n._delegate:n}var Pt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var wi="[DEFAULT]";var Cg=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new od;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RF(e))try{this.getOrInitializeService({instanceIdentifier:wi})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=wi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return T(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=wi){return this.instances.has(e)}getOptions(e=wi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:AF(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wi){return this.component?this.component.multipleInstances?e:wi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function AF(n){return n===wi?void 0:n}function RF(n){return n.instantiationMode==="EAGER"}var ud=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Cg(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var xF=[],pe=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(pe||{}),MF={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},NF=pe.INFO,PF={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},OF=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=PF[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ur=class{constructor(e){this.name=e,this._logLevel=NF,this._logHandler=OF,this._userLogHandler=null,xF.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}};var kF=(n,e)=>e.some(t=>n instanceof t),KD,QD;function FF(){return KD||(KD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VF(){return QD||(QD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var YD=new WeakMap,Sg=new WeakMap,JD=new WeakMap,Tg=new WeakMap,Rg=new WeakMap;function LF(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Cn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&YD.set(t,n)}).catch(()=>{}),Rg.set(e,n),e}function UF(n){if(Sg.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Sg.set(n,e)}var Ag={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Sg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||JD.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Cn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function ZD(n){Ag=n(Ag)}function jF(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(ld(this),e,...t);return JD.set(r,e.sort?e.sort():[e]),Cn(r)}:VF().includes(n)?function(...e){return n.apply(ld(this),e),Cn(YD.get(this))}:function(...e){return Cn(n.apply(ld(this),e))}}function BF(n){return typeof n=="function"?jF(n):(n instanceof IDBTransaction&&UF(n),kF(n,FF())?new Proxy(n,Ag):n)}function Cn(n){if(n instanceof IDBRequest)return LF(n);if(Tg.has(n))return Tg.get(n);let e=BF(n);return e!==n&&(Tg.set(n,e),Rg.set(e,n)),e}var ld=n=>Rg.get(n);function eC(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Cn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Cn(s.result),u.oldVersion,u.newVersion,Cn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var $F=["get","getKey","getAll","getAllKeys","count"],HF=["put","add","delete","clear"],xg=new Map;function XD(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(xg.get(e))return xg.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=HF.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||$F.includes(t)))return;let o=function(s,...a){return T(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return xg.set(e,o),o}ZD(n=>Ie(j({},n),{get:(e,t,r)=>XD(e,t)||n.get(e,t,r),has:(e,t)=>!!XD(e,t)||n.has(e,t)}));var Ng=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(qF(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function qF(n){let e=n.getComponent();return e?.type==="VERSION"}var Pg="@firebase/app",tC="0.10.13";var tr=new Ur("@firebase/app"),zF="@firebase/app-compat",GF="@firebase/analytics-compat",WF="@firebase/analytics",KF="@firebase/app-check-compat",QF="@firebase/app-check",YF="@firebase/auth",JF="@firebase/auth-compat",ZF="@firebase/database",XF="@firebase/data-connect",eV="@firebase/database-compat",tV="@firebase/functions",nV="@firebase/functions-compat",rV="@firebase/installations",iV="@firebase/installations-compat",oV="@firebase/messaging",sV="@firebase/messaging-compat",aV="@firebase/performance",cV="@firebase/performance-compat",uV="@firebase/remote-config",lV="@firebase/remote-config-compat",dV="@firebase/storage",hV="@firebase/storage-compat",fV="@firebase/firestore",pV="@firebase/vertexai-preview",mV="@firebase/firestore-compat",gV="firebase",yV="10.14.1";var Og="[DEFAULT]",vV={[Pg]:"fire-core",[zF]:"fire-core-compat",[WF]:"fire-analytics",[GF]:"fire-analytics-compat",[QF]:"fire-app-check",[KF]:"fire-app-check-compat",[YF]:"fire-auth",[JF]:"fire-auth-compat",[ZF]:"fire-rtdb",[XF]:"fire-data-connect",[eV]:"fire-rtdb-compat",[tV]:"fire-fn",[nV]:"fire-fn-compat",[rV]:"fire-iid",[iV]:"fire-iid-compat",[oV]:"fire-fcm",[sV]:"fire-fcm-compat",[aV]:"fire-perf",[cV]:"fire-perf-compat",[uV]:"fire-rc",[lV]:"fire-rc-compat",[dV]:"fire-gcs",[hV]:"fire-gcs-compat",[fV]:"fire-fst",[mV]:"fire-fst-compat",[pV]:"fire-vertex","fire-js":"fire-js",[gV]:"fire-js-all"};var Ba=new Map,_V=new Map,kg=new Map;function nC(n,e){try{n.container.addComponent(e)}catch(t){tr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Tn(n){let e=n.name;if(kg.has(e))return tr.debug(`There were multiple attempts to register component ${e}.`),!1;kg.set(e,n);for(let t of Ba.values())nC(t,n);for(let t of _V.values())nC(t,n);return!0}function Ha(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Go(n){return n.settings!==void 0}var IV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new er("app","Firebase",IV);var Fg=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}};var Br=yV;function Ug(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Og,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw jr.create("bad-app-name",{appName:String(i)});if(t||(t=Eg()),!t)throw jr.create("no-options");let o=Ba.get(i);if(o){if(zo(t,o.options)&&zo(r,o.config))return o;throw jr.create("duplicate-app",{appName:i})}let s=new ud(i);for(let u of kg.values())s.addComponent(u);let a=new Fg(t,r,s);return Ba.set(i,a),a}function Ei(n=Og){let e=Ba.get(n);if(!e&&n===Og&&Eg())return Ug();if(!e)throw jr.create("no-app",{appName:n});return e}function dd(){return Array.from(Ba.values())}function Ve(n,e,t){var r;let i=(r=vV[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),tr.warn(a.join(" "));return}Tn(new Pt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var wV="firebase-heartbeat-database",EV=1,$a="firebase-heartbeat-store",Mg=null;function sC(){return Mg||(Mg=eC(wV,EV,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore($a)}catch(t){console.warn(t)}}}}).catch(n=>{throw jr.create("idb-open",{originalErrorMessage:n.message})})),Mg}function bV(n){return T(this,null,function*(){try{let t=(yield sC()).transaction($a),r=yield t.objectStore($a).get(aC(n));return yield t.done,r}catch(e){if(e instanceof Mt)tr.warn(e.message);else{let t=jr.create("idb-get",{originalErrorMessage:e?.message});tr.warn(t.message)}}})}function rC(n,e){return T(this,null,function*(){try{let r=(yield sC()).transaction($a,"readwrite");yield r.objectStore($a).put(e,aC(n)),yield r.done}catch(t){if(t instanceof Mt)tr.warn(t.message);else{let r=jr.create("idb-set",{originalErrorMessage:t?.message});tr.warn(r.message)}}})}function aC(n){return`${n.name}!${n.options.appId}`}var DV=1024,CV=30*24*60*60*1e3,Vg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Lg(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return T(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=iC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=CV}),this._storage.overwrite(this._heartbeatsCache))}catch(r){tr.warn(r)}})}getHeartbeatsHeader(){return T(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=iC(),{heartbeatsToSend:r,unsentEntries:i}=TV(this._heartbeatsCache.heartbeats),o=ja(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return tr.warn(t),""}})}};function iC(){return new Date().toISOString().substring(0,10)}function TV(n,e=DV){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),oC(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),oC(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Lg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return T(this,null,function*(){return bg()?GD().then(()=>!0).catch(()=>!1):!1})}read(){return T(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield bV(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return T(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return rC(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return T(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return rC(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function oC(n){return ja(JSON.stringify({version:2,heartbeats:n})).length}function SV(n){Tn(new Pt("platform-logger",e=>new Ng(e),"PRIVATE")),Tn(new Pt("heartbeat",e=>new Vg(e),"PRIVATE")),Ve(Pg,tC,n),Ve(Pg,tC,"esm2017"),Ve("fire-js","")}SV("");var AV="firebase",RV="10.14.1";Ve(AV,RV,"app");var $r=new Bn("ANGULARFIRE2_VERSION");function qa(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Ci=(n,e)=>{let t=e?[e]:dd(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Di=class{constructor(){return Ci(xV)}},xV="app-check";function Wo(){}var hd=class{zone;delegate;constructor(e,t=Xh){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,r)}},jg=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wo,{},Wo,Wo)),t.pipe(Ye({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ti=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new hd(Zone.current)),this.insideAngular=t.run(()=>new hd(Zone.current,Zh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(re(Ee))};static \u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function fd(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function MV(n){return fd().ngZone.runOutsideAngular(()=>n())}function bi(n){return fd().ngZone.run(()=>n())}function NV(n){return PV(fd())(n)}function PV(n){return function(t){return t=t.lift(new jg(n.ngZone)),t.pipe(yr(n.outsideAngular),gr(n.insideAngular))}}var OV=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),bi(()=>n.apply(void 0,r))},Ht=(n,e)=>function(){let t,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(t||=bi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wo,{},Wo,Wo))),r[o]=OV(r[o],t));let i=MV(()=>n.apply(this,r));if(!e)if(i instanceof de){let o=fd();return i.pipe(yr(o.outsideAngular),gr(o.insideAngular))}else return bi(()=>i);return i instanceof de?i.pipe(NV):i instanceof Promise?bi(()=>new Promise((o,s)=>i.then(a=>bi(()=>o(a)),a=>bi(()=>s(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:bi(()=>i)};var nr=class{constructor(e){return e}},Si=class{constructor(){return dd()}};function kV(n){return n&&n.length===1?n[0]:new nr(Ei())}var Bg=new Q("angularfire2._apps"),FV={provide:nr,useFactory:kV,deps:[[new nt,Bg]]},VV={provide:Si,deps:[[new nt,Bg]]};function LV(n){return(e,t)=>{let r=t.get(Yt);Ve("angularfire",$r.full,"core"),Ve("angularfire",$r.full,"app"),Ve("angular",k0.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new nr(i)}}function cC(n,...e){return _n([FV,VV,{provide:Bg,useFactory:LV(n),multi:!0,deps:[Ee,Et,Ti,...e]}])}var uC=Ht(Ug,!0);function yC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var vC=yC,_C=new er("auth","Firebase",yC());var yd=new Ur("@firebase/auth");function jV(n,...e){yd.logLevel<=pe.WARN&&yd.warn(`Auth (${Br}): ${n}`,...e)}function md(n,...e){yd.logLevel<=pe.ERROR&&yd.error(`Auth (${Br}): ${n}`,...e)}function lC(n,...e){throw Xg(n,...e)}function Zg(n,...e){return Xg(n,...e)}function IC(n,e,t){let r=Object.assign(Object.assign({},vC()),{[e]:t});return new er("auth","Firebase",r).create(e,{appName:n.name})}function gd(n){return IC(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xg(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return _C.create(n,...e)}function be(n,e,...t){if(!n)throw Xg(e,...t)}function za(n){let e="INTERNAL ASSERTION FAILED: "+n;throw md(e),new Error(e)}function vd(n,e){n||za(e)}function BV(){return dC()==="http:"||dC()==="https:"}function dC(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function $V(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BV()||HD()||"connection"in navigator)?navigator.onLine:!0}function HV(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Ri=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,vd(t>e,"Short delay should be less than long delay!"),this.isMobile=BD()||qD()}get(){return $V()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function qV(n,e){vd(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var _d=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;za("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;za("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;za("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var zV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var GV=new Ri(3e4,6e4);function wC(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function bd(o,s,a,u){return T(this,arguments,function*(n,e,t,r,i={}){return EC(n,i,()=>T(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let p=Dg(Object.assign({key:n.config.apiKey},f)).slice(1),y=yield n._getAdditionalHeaders();y["Content-Type"]="application/json",n.languageCode&&(y["X-Firebase-Locale"]=n.languageCode);let w=Object.assign({method:e,headers:y},l);return $D()||(w.referrerPolicy="no-referrer"),_d.fetch()(bC(n,n.config.apiHost,t,p),w)}))})}function EC(n,e,t){return T(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},zV),e);try{let i=new qg(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw pd(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw pd(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw pd(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw pd(n,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw IC(n,f,l);lC(n,f)}}catch(i){if(i instanceof Mt)throw i;lC(n,"network-request-failed",{message:String(i)})}})}function bC(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?qV(n.config,i):`${n.config.apiScheme}://${i}`}var qg=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Zg(this.auth,"network-request-failed")),GV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function pd(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Zg(n,e,r);return i.customData._tokenResponse=t,i}function WV(n,e){return T(this,null,function*(){return bd(n,"POST","/v1/accounts:delete",e)})}function DC(n,e){return T(this,null,function*(){return bd(n,"POST","/v1/accounts:lookup",e)})}function Ga(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ey(n,e=!1){return T(this,null,function*(){let t=Nt(n),r=yield t.getIdToken(e),i=CC(r);be(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Ga($g(i.auth_time)),issuedAtTime:Ga($g(i.iat)),expirationTime:Ga($g(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function $g(n){return Number(n)*1e3}function CC(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return md("JWT malformed, contained fewer than 3 sections"),null;try{let i=wg(t);return i?JSON.parse(i):(md("Failed to decode base64 JWT payload"),null)}catch(i){return md("Caught error parsing JWT payload as JSON",i?.toString()),null}}function hC(n){let e=CC(n);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function zg(n,e,t=!1){return T(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Mt&&KV(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function KV({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Gg=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>T(this,null,function*(){yield this.iteration()}),t)}iteration(){return T(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ka=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ga(this.lastLoginAt),this.creationTime=Ga(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Id(n){return T(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield zg(n,DC(t,{idToken:r}));be(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?TC(o.providerUserInfo):[],a=QV(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,f=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Ka(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(n,p)})}function ty(n){return T(this,null,function*(){let e=Nt(n);yield Id(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function QV(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function TC(n){return n.map(e=>{var{providerId:t}=e,r=ef(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function YV(n,e){return T(this,null,function*(){let t=yield EC(n,{},()=>T(this,null,function*(){let r=Dg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=bC(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",_d.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function JV(n,e){return T(this,null,function*(){return bd(n,"POST","/v2/accounts:revokeToken",wC(n,e))})}var Wa=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){be(e.length!==0,"internal-error");let t=hC(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return T(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return T(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield YV(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(be(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(be(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(be(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return za("not implemented")}};function Hr(n,e){be(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Qa=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=ef(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ka(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return T(this,null,function*(){let t=yield zg(this,this.stsTokenManager.getToken(this.auth,e));return be(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return ey(this,e)}reload(){return ty(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return T(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Id(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return T(this,null,function*(){if(Go(this.auth.app))return Promise.reject(gd(this.auth));let e=yield this.getIdToken();return yield zg(this,WV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,f;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,y=(i=t.email)!==null&&i!==void 0?i:void 0,w=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,A=(s=t.photoURL)!==null&&s!==void 0?s:void 0,M=(a=t.tenantId)!==null&&a!==void 0?a:void 0,x=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,U=(l=t.createdAt)!==null&&l!==void 0?l:void 0,te=(f=t.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:H,emailVerified:J,isAnonymous:Se,providerData:ne,stsTokenManager:E}=t;be(H&&E,e,"internal-error");let g=Wa.fromJSON(this.name,E);be(typeof H=="string",e,"internal-error"),Hr(p,e.name),Hr(y,e.name),be(typeof J=="boolean",e,"internal-error"),be(typeof Se=="boolean",e,"internal-error"),Hr(w,e.name),Hr(A,e.name),Hr(M,e.name),Hr(x,e.name),Hr(U,e.name),Hr(te,e.name);let v=new n({uid:H,auth:e,email:y,emailVerified:J,displayName:p,isAnonymous:Se,photoURL:A,phoneNumber:w,tenantId:M,stsTokenManager:g,createdAt:U,lastLoginAt:te});return ne&&Array.isArray(ne)&&(v.providerData=ne.map(I=>Object.assign({},I))),x&&(v._redirectEventId=x),v}static _fromIdTokenResponse(e,t,r=!1){return T(this,null,function*(){let i=new Wa;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Id(o),o})}static _fromGetAccountInfoResponse(e,t,r){return T(this,null,function*(){let i=t.users[0];be(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?TC(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Wa;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ka(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var fC=new Map;function Ai(n){vd(n instanceof Function,"Expected a class definition");let e=fC.get(n);return e?(vd(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,fC.set(n,e),e)}var ZV=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return T(this,null,function*(){return!0})}_set(t,r){return T(this,null,function*(){this.storage[t]=r})}_get(t){return T(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return T(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Wg=ZV;function Hg(n,e,t){return`firebase:${n}:${e}:${t}`}var wd=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Hg(this.userKey,i.apiKey,o),this.fullPersistenceKey=Hg("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return T(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Qa._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return T(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return T(this,null,function*(){if(!t.length)return new n(Ai(Wg),e,r);let i=(yield Promise.all(t.map(l=>T(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Ai(Wg),s=Hg(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let f=yield l._get(s);if(f){let p=Qa._fromJSON(e,f);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>T(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function pC(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iL(e))return"Blackberry";if(oL(e))return"Webos";if(eL(e))return"Safari";if((e.includes("chrome/")||tL(e))&&!e.includes("edge/"))return"Chrome";if(rL(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function XV(n=$t()){return/firefox\//i.test(n)}function eL(n=$t()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tL(n=$t()){return/crios\//i.test(n)}function nL(n=$t()){return/iemobile/i.test(n)}function rL(n=$t()){return/android/i.test(n)}function iL(n=$t()){return/blackberry/i.test(n)}function oL(n=$t()){return/webos/i.test(n)}function SC(n,e=[]){let t;switch(n){case"Browser":t=pC($t());break;case"Worker":t=`${pC($t())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Br}/${r}`}var Kg=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return T(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function sL(t){return T(this,arguments,function*(n,e={}){return bd(n,"GET","/v2/passwordPolicy",wC(n,e))})}var aL=6,Qg=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:aL,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Yg=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ed(this),this.idTokenSubscription=new Ed(this),this.beforeStateQueue=new Kg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_C,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ai(t)),this._initializationPromise=this.queue(()=>T(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield wd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return T(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return T(this,null,function*(){try{let t=yield DC(this,{idToken:e}),r=yield Qa._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return T(this,null,function*(){var t;if(Go(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return T(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return T(this,null,function*(){try{yield Id(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=HV()}_delete(){return T(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return T(this,null,function*(){if(Go(this.app))return Promise.reject(gd(this));let t=e?Nt(e):null;return t&&be(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return T(this,null,function*(){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>T(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return T(this,null,function*(){return Go(this.app)?Promise.reject(gd(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Go(this.app)?Promise.reject(gd(this)):this.queue(()=>T(this,null,function*(){yield this.assertedPersistence.setPersistence(Ai(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return T(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return T(this,null,function*(){let e=yield sL(this),t=new Qg(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new er("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return T(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield JV(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return T(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return T(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Ai(e)||this._popupRedirectResolver;be(t,this,"argument-error"),this.redirectPersistenceManager=yield wd.create(this,[Ai(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return T(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>T(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return T(this,null,function*(){if(e===this.currentUser)return this.queue(()=>T(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return T(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return T(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return T(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&jV(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function cL(n){return Nt(n)}var Ed=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=WD(t=>this.observer=t)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var uL={loadJS(){return T(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lL(n){uL=n}function dL(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function hL(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ai);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}var Z9=dL("rcb"),X9=new Ri(3e4,6e4);var e6=new Ri(2e3,1e4);var t6=10*60*1e3;var n6=new Ri(3e4,6e4);var r6=new Ri(5e3,15e3);var i6=encodeURIComponent("fac");var mC="@firebase/auth",gC="1.7.9";var Jg=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return T(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function fL(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pL(n){Tn(new Pt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;be(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SC(n)},l=new Yg(r,i,o,u);return hL(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Tn(new Pt("auth-internal",e=>{let t=cL(e.getProvider("auth").getImmediate());return(r=>new Jg(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ve(mC,gC,fL(n)),Ve(mC,gC,"esm2017")}var mL=5*60,o6=jD("authIdTokenMaxAge")||mL;function gL(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}lL({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Zg("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",gL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pL("Browser");var m2="auth";var Ko=class{constructor(){return Ci(m2)}};var AC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},RC={};var qr,ny;(function(){var n;function e(E,g){function v(){}v.prototype=g.prototype,E.D=g.prototype,E.prototype=new v,E.prototype.constructor=E,E.C=function(I,b,C){for(var _=Array(arguments.length-2),kn=2;kn<arguments.length;kn++)_[kn-2]=arguments[kn];return g.prototype[b].apply(I,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,g,v){v||(v=0);var I=Array(16);if(typeof g=="string")for(var b=0;16>b;++b)I[b]=g.charCodeAt(v++)|g.charCodeAt(v++)<<8|g.charCodeAt(v++)<<16|g.charCodeAt(v++)<<24;else for(b=0;16>b;++b)I[b]=g[v++]|g[v++]<<8|g[v++]<<16|g[v++]<<24;g=E.g[0],v=E.g[1],b=E.g[2];var C=E.g[3],_=g+(C^v&(b^C))+I[0]+3614090360&4294967295;g=v+(_<<7&4294967295|_>>>25),_=C+(b^g&(v^b))+I[1]+3905402710&4294967295,C=g+(_<<12&4294967295|_>>>20),_=b+(v^C&(g^v))+I[2]+606105819&4294967295,b=C+(_<<17&4294967295|_>>>15),_=v+(g^b&(C^g))+I[3]+3250441966&4294967295,v=b+(_<<22&4294967295|_>>>10),_=g+(C^v&(b^C))+I[4]+4118548399&4294967295,g=v+(_<<7&4294967295|_>>>25),_=C+(b^g&(v^b))+I[5]+1200080426&4294967295,C=g+(_<<12&4294967295|_>>>20),_=b+(v^C&(g^v))+I[6]+2821735955&4294967295,b=C+(_<<17&4294967295|_>>>15),_=v+(g^b&(C^g))+I[7]+4249261313&4294967295,v=b+(_<<22&4294967295|_>>>10),_=g+(C^v&(b^C))+I[8]+1770035416&4294967295,g=v+(_<<7&4294967295|_>>>25),_=C+(b^g&(v^b))+I[9]+2336552879&4294967295,C=g+(_<<12&4294967295|_>>>20),_=b+(v^C&(g^v))+I[10]+4294925233&4294967295,b=C+(_<<17&4294967295|_>>>15),_=v+(g^b&(C^g))+I[11]+2304563134&4294967295,v=b+(_<<22&4294967295|_>>>10),_=g+(C^v&(b^C))+I[12]+1804603682&4294967295,g=v+(_<<7&4294967295|_>>>25),_=C+(b^g&(v^b))+I[13]+4254626195&4294967295,C=g+(_<<12&4294967295|_>>>20),_=b+(v^C&(g^v))+I[14]+2792965006&4294967295,b=C+(_<<17&4294967295|_>>>15),_=v+(g^b&(C^g))+I[15]+1236535329&4294967295,v=b+(_<<22&4294967295|_>>>10),_=g+(b^C&(v^b))+I[1]+4129170786&4294967295,g=v+(_<<5&4294967295|_>>>27),_=C+(v^b&(g^v))+I[6]+3225465664&4294967295,C=g+(_<<9&4294967295|_>>>23),_=b+(g^v&(C^g))+I[11]+643717713&4294967295,b=C+(_<<14&4294967295|_>>>18),_=v+(C^g&(b^C))+I[0]+3921069994&4294967295,v=b+(_<<20&4294967295|_>>>12),_=g+(b^C&(v^b))+I[5]+3593408605&4294967295,g=v+(_<<5&4294967295|_>>>27),_=C+(v^b&(g^v))+I[10]+38016083&4294967295,C=g+(_<<9&4294967295|_>>>23),_=b+(g^v&(C^g))+I[15]+3634488961&4294967295,b=C+(_<<14&4294967295|_>>>18),_=v+(C^g&(b^C))+I[4]+3889429448&4294967295,v=b+(_<<20&4294967295|_>>>12),_=g+(b^C&(v^b))+I[9]+568446438&4294967295,g=v+(_<<5&4294967295|_>>>27),_=C+(v^b&(g^v))+I[14]+3275163606&4294967295,C=g+(_<<9&4294967295|_>>>23),_=b+(g^v&(C^g))+I[3]+4107603335&4294967295,b=C+(_<<14&4294967295|_>>>18),_=v+(C^g&(b^C))+I[8]+1163531501&4294967295,v=b+(_<<20&4294967295|_>>>12),_=g+(b^C&(v^b))+I[13]+2850285829&4294967295,g=v+(_<<5&4294967295|_>>>27),_=C+(v^b&(g^v))+I[2]+4243563512&4294967295,C=g+(_<<9&4294967295|_>>>23),_=b+(g^v&(C^g))+I[7]+1735328473&4294967295,b=C+(_<<14&4294967295|_>>>18),_=v+(C^g&(b^C))+I[12]+2368359562&4294967295,v=b+(_<<20&4294967295|_>>>12),_=g+(v^b^C)+I[5]+4294588738&4294967295,g=v+(_<<4&4294967295|_>>>28),_=C+(g^v^b)+I[8]+2272392833&4294967295,C=g+(_<<11&4294967295|_>>>21),_=b+(C^g^v)+I[11]+1839030562&4294967295,b=C+(_<<16&4294967295|_>>>16),_=v+(b^C^g)+I[14]+4259657740&4294967295,v=b+(_<<23&4294967295|_>>>9),_=g+(v^b^C)+I[1]+2763975236&4294967295,g=v+(_<<4&4294967295|_>>>28),_=C+(g^v^b)+I[4]+1272893353&4294967295,C=g+(_<<11&4294967295|_>>>21),_=b+(C^g^v)+I[7]+4139469664&4294967295,b=C+(_<<16&4294967295|_>>>16),_=v+(b^C^g)+I[10]+3200236656&4294967295,v=b+(_<<23&4294967295|_>>>9),_=g+(v^b^C)+I[13]+681279174&4294967295,g=v+(_<<4&4294967295|_>>>28),_=C+(g^v^b)+I[0]+3936430074&4294967295,C=g+(_<<11&4294967295|_>>>21),_=b+(C^g^v)+I[3]+3572445317&4294967295,b=C+(_<<16&4294967295|_>>>16),_=v+(b^C^g)+I[6]+76029189&4294967295,v=b+(_<<23&4294967295|_>>>9),_=g+(v^b^C)+I[9]+3654602809&4294967295,g=v+(_<<4&4294967295|_>>>28),_=C+(g^v^b)+I[12]+3873151461&4294967295,C=g+(_<<11&4294967295|_>>>21),_=b+(C^g^v)+I[15]+530742520&4294967295,b=C+(_<<16&4294967295|_>>>16),_=v+(b^C^g)+I[2]+3299628645&4294967295,v=b+(_<<23&4294967295|_>>>9),_=g+(b^(v|~C))+I[0]+4096336452&4294967295,g=v+(_<<6&4294967295|_>>>26),_=C+(v^(g|~b))+I[7]+1126891415&4294967295,C=g+(_<<10&4294967295|_>>>22),_=b+(g^(C|~v))+I[14]+2878612391&4294967295,b=C+(_<<15&4294967295|_>>>17),_=v+(C^(b|~g))+I[5]+4237533241&4294967295,v=b+(_<<21&4294967295|_>>>11),_=g+(b^(v|~C))+I[12]+1700485571&4294967295,g=v+(_<<6&4294967295|_>>>26),_=C+(v^(g|~b))+I[3]+2399980690&4294967295,C=g+(_<<10&4294967295|_>>>22),_=b+(g^(C|~v))+I[10]+4293915773&4294967295,b=C+(_<<15&4294967295|_>>>17),_=v+(C^(b|~g))+I[1]+2240044497&4294967295,v=b+(_<<21&4294967295|_>>>11),_=g+(b^(v|~C))+I[8]+1873313359&4294967295,g=v+(_<<6&4294967295|_>>>26),_=C+(v^(g|~b))+I[15]+4264355552&4294967295,C=g+(_<<10&4294967295|_>>>22),_=b+(g^(C|~v))+I[6]+2734768916&4294967295,b=C+(_<<15&4294967295|_>>>17),_=v+(C^(b|~g))+I[13]+1309151649&4294967295,v=b+(_<<21&4294967295|_>>>11),_=g+(b^(v|~C))+I[4]+4149444226&4294967295,g=v+(_<<6&4294967295|_>>>26),_=C+(v^(g|~b))+I[11]+3174756917&4294967295,C=g+(_<<10&4294967295|_>>>22),_=b+(g^(C|~v))+I[2]+718787259&4294967295,b=C+(_<<15&4294967295|_>>>17),_=v+(C^(b|~g))+I[9]+3951481745&4294967295,E.g[0]=E.g[0]+g&4294967295,E.g[1]=E.g[1]+(b+(_<<21&4294967295|_>>>11))&4294967295,E.g[2]=E.g[2]+b&4294967295,E.g[3]=E.g[3]+C&4294967295}r.prototype.u=function(E,g){g===void 0&&(g=E.length);for(var v=g-this.blockSize,I=this.B,b=this.h,C=0;C<g;){if(b==0)for(;C<=v;)i(this,E,C),C+=this.blockSize;if(typeof E=="string"){for(;C<g;)if(I[b++]=E.charCodeAt(C++),b==this.blockSize){i(this,I),b=0;break}}else for(;C<g;)if(I[b++]=E[C++],b==this.blockSize){i(this,I),b=0;break}}this.h=b,this.o+=g},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var g=1;g<E.length-8;++g)E[g]=0;var v=8*this.o;for(g=E.length-8;g<E.length;++g)E[g]=v&255,v/=256;for(this.u(E),E=Array(16),g=v=0;4>g;++g)for(var I=0;32>I;I+=8)E[v++]=this.g[g]>>>I&255;return E};function o(E,g){var v=a;return Object.prototype.hasOwnProperty.call(v,E)?v[E]:v[E]=g(E)}function s(E,g){this.h=g;for(var v=[],I=!0,b=E.length-1;0<=b;b--){var C=E[b]|0;I&&C==g||(v[b]=C,I=!1)}this.g=v}var a={};function u(E){return-128<=E&&128>E?o(E,function(g){return new s([g|0],0>g?-1:0)}):new s([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return x(l(-E));for(var g=[],v=1,I=0;E>=v;I++)g[I]=E/v|0,v*=4294967296;return new s(g,0)}function f(E,g){if(E.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(E.charAt(0)=="-")return x(f(E.substring(1),g));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=l(Math.pow(g,8)),I=p,b=0;b<E.length;b+=8){var C=Math.min(8,E.length-b),_=parseInt(E.substring(b,b+C),g);8>C?(C=l(Math.pow(g,C)),I=I.j(C).add(l(_))):(I=I.j(v),I=I.add(l(_)))}return I}var p=u(0),y=u(1),w=u(16777216);n=s.prototype,n.m=function(){if(M(this))return-x(this).m();for(var E=0,g=1,v=0;v<this.g.length;v++){var I=this.i(v);E+=(0<=I?I:4294967296+I)*g,g*=4294967296}return E},n.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(A(this))return"0";if(M(this))return"-"+x(this).toString(E);for(var g=l(Math.pow(E,6)),v=this,I="";;){var b=J(v,g).g;v=U(v,b.j(g));var C=((0<v.g.length?v.g[0]:v.h)>>>0).toString(E);if(v=b,A(v))return C+I;for(;6>C.length;)C="0"+C;I=C+I}},n.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function A(E){if(E.h!=0)return!1;for(var g=0;g<E.g.length;g++)if(E.g[g]!=0)return!1;return!0}function M(E){return E.h==-1}n.l=function(E){return E=U(this,E),M(E)?-1:A(E)?0:1};function x(E){for(var g=E.g.length,v=[],I=0;I<g;I++)v[I]=~E.g[I];return new s(v,~E.h).add(y)}n.abs=function(){return M(this)?x(this):this},n.add=function(E){for(var g=Math.max(this.g.length,E.g.length),v=[],I=0,b=0;b<=g;b++){var C=I+(this.i(b)&65535)+(E.i(b)&65535),_=(C>>>16)+(this.i(b)>>>16)+(E.i(b)>>>16);I=_>>>16,C&=65535,_&=65535,v[b]=_<<16|C}return new s(v,v[v.length-1]&-2147483648?-1:0)};function U(E,g){return E.add(x(g))}n.j=function(E){if(A(this)||A(E))return p;if(M(this))return M(E)?x(this).j(x(E)):x(x(this).j(E));if(M(E))return x(this.j(x(E)));if(0>this.l(w)&&0>E.l(w))return l(this.m()*E.m());for(var g=this.g.length+E.g.length,v=[],I=0;I<2*g;I++)v[I]=0;for(I=0;I<this.g.length;I++)for(var b=0;b<E.g.length;b++){var C=this.i(I)>>>16,_=this.i(I)&65535,kn=E.i(b)>>>16,_s=E.i(b)&65535;v[2*I+2*b]+=_*_s,te(v,2*I+2*b),v[2*I+2*b+1]+=C*_s,te(v,2*I+2*b+1),v[2*I+2*b+1]+=_*kn,te(v,2*I+2*b+1),v[2*I+2*b+2]+=C*kn,te(v,2*I+2*b+2)}for(I=0;I<g;I++)v[I]=v[2*I+1]<<16|v[2*I];for(I=g;I<2*g;I++)v[I]=0;return new s(v,0)};function te(E,g){for(;(E[g]&65535)!=E[g];)E[g+1]+=E[g]>>>16,E[g]&=65535,g++}function H(E,g){this.g=E,this.h=g}function J(E,g){if(A(g))throw Error("division by zero");if(A(E))return new H(p,p);if(M(E))return g=J(x(E),g),new H(x(g.g),x(g.h));if(M(g))return g=J(E,x(g)),new H(x(g.g),g.h);if(30<E.g.length){if(M(E)||M(g))throw Error("slowDivide_ only works with positive integers.");for(var v=y,I=g;0>=I.l(E);)v=Se(v),I=Se(I);var b=ne(v,1),C=ne(I,1);for(I=ne(I,2),v=ne(v,2);!A(I);){var _=C.add(I);0>=_.l(E)&&(b=b.add(v),C=_),I=ne(I,1),v=ne(v,1)}return g=U(E,b.j(g)),new H(b,g)}for(b=p;0<=E.l(g);){for(v=Math.max(1,Math.floor(E.m()/g.m())),I=Math.ceil(Math.log(v)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),C=l(v),_=C.j(g);M(_)||0<_.l(E);)v-=I,C=l(v),_=C.j(g);A(C)&&(C=y),b=b.add(C),E=U(E,_)}return new H(b,E)}n.A=function(E){return J(this,E).h},n.and=function(E){for(var g=Math.max(this.g.length,E.g.length),v=[],I=0;I<g;I++)v[I]=this.i(I)&E.i(I);return new s(v,this.h&E.h)},n.or=function(E){for(var g=Math.max(this.g.length,E.g.length),v=[],I=0;I<g;I++)v[I]=this.i(I)|E.i(I);return new s(v,this.h|E.h)},n.xor=function(E){for(var g=Math.max(this.g.length,E.g.length),v=[],I=0;I<g;I++)v[I]=this.i(I)^E.i(I);return new s(v,this.h^E.h)};function Se(E){for(var g=E.g.length+1,v=[],I=0;I<g;I++)v[I]=E.i(I)<<1|E.i(I-1)>>>31;return new s(v,E.h)}function ne(E,g){var v=g>>5;g%=32;for(var I=E.g.length-v,b=[],C=0;C<I;C++)b[C]=0<g?E.i(C+v)>>>g|E.i(C+v+1)<<32-g:E.i(C+v);return new s(b,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ny=RC.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=f,qr=RC.Integer=s}).apply(typeof AC<"u"?AC:typeof self<"u"?self:typeof window<"u"?window:{});var Dd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},rr={};var ry,g2,Qo,iy,Ya,Cd,oy,sy,ay;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,h){return c==Array.prototype||c==Object.prototype||(c[d]=h.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dd=="object"&&Dd];for(var d=0;d<c.length;++d){var h=c[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var h=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var D=c[m];if(!(D in h))break e;h=h[D]}c=c[c.length-1],m=h[c],d=d(m),d!=m&&d!=null&&e(h,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var h=0,m=!1,D={next:function(){if(!m&&h<c.length){var S=h++;return{value:d(S,c[S]),done:!1}}return m=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,h){return h})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function f(c,d,h){return c.call.apply(c.bind,arguments)}function p(c,d,h){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,m),c.apply(d,D)}}return function(){return c.apply(d,arguments)}}function y(c,d,h){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,y.apply(null,arguments)}function w(c,d){var h=Array.prototype.slice.call(arguments,1);return function(){var m=h.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function A(c,d){function h(){}h.prototype=d.prototype,c.aa=d.prototype,c.prototype=new h,c.prototype.constructor=c,c.Qb=function(m,D,S){for(var V=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)V[Ae-2]=arguments[Ae];return d.prototype[D].apply(m,V)}}function M(c){let d=c.length;if(0<d){let h=Array(d);for(let m=0;m<d;m++)h[m]=c[m];return h}return[]}function x(c,d){for(let h=1;h<arguments.length;h++){let m=arguments[h];if(u(m)){let D=c.length||0,S=m.length||0;c.length=D+S;for(let V=0;V<S;V++)c[D+V]=m[V]}else c.push(m)}}class U{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function te(c){return/^[\s\xa0]*$/.test(c)}function H(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function J(c){return J[" "](c),c}J[" "]=function(){};var Se=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function ne(c,d,h){for(let m in c)d.call(h,c[m],m,c)}function E(c,d){for(let h in c)d.call(void 0,c[h],h,c)}function g(c){let d={};for(let h in c)d[h]=c[h];return d}let v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,d){let h,m;for(let D=1;D<arguments.length;D++){m=arguments[D];for(h in m)c[h]=m[h];for(let S=0;S<v.length;S++)h=v[S],Object.prototype.hasOwnProperty.call(m,h)&&(c[h]=m[h])}}function b(c){var d=1;c=c.split(":");let h=[];for(;0<d&&c.length;)h.push(c.shift()),d--;return c.length&&h.push(c.join(":")),h}function C(c){a.setTimeout(()=>{throw c},0)}function _(){var c=fh;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class kn{constructor(){this.h=this.g=null}add(d,h){let m=_s.get();m.set(d,h),this.h?this.h.next=m:this.g=m,this.h=m}}var _s=new U(()=>new YS,c=>c.reset());class YS{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Is,ws=!1,fh=new kn,b_=()=>{let c=a.Promise.resolve(void 0);Is=()=>{c.then(JS)}};var JS=()=>{for(var c;c=_();){try{c.h.call(c.g)}catch(h){C(h)}var d=_s;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}ws=!1};function dr(){this.s=this.s,this.C=this.C}dr.prototype.s=!1,dr.prototype.ma=function(){this.s||(this.s=!0,this.N())},dr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ut(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}ut.prototype.h=function(){this.defaultPrevented=!0};var ZS=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let h=()=>{};a.addEventListener("test",h,d),a.removeEventListener("test",h,d)}catch{}return c}();function Es(c,d){if(ut.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var h=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Se){e:{try{J(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else h=="mouseover"?d=c.fromElement:h=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:XS[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Es.aa.h.call(this)}}A(Es,ut);var XS={2:"touch",3:"pen",4:"mouse"};Es.prototype.h=function(){Es.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var bs="closure_listenable_"+(1e6*Math.random()|0),eA=0;function tA(c,d,h,m,D){this.listener=c,this.proxy=null,this.src=d,this.type=h,this.capture=!!m,this.ha=D,this.key=++eA,this.da=this.fa=!1}function bc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Dc(c){this.src=c,this.g={},this.h=0}Dc.prototype.add=function(c,d,h,m,D){var S=c.toString();c=this.g[S],c||(c=this.g[S]=[],this.h++);var V=mh(c,d,m,D);return-1<V?(d=c[V],h||(d.fa=!1)):(d=new tA(d,this.src,S,!!m,D),d.fa=h,c.push(d)),d};function ph(c,d){var h=d.type;if(h in c.g){var m=c.g[h],D=Array.prototype.indexOf.call(m,d,void 0),S;(S=0<=D)&&Array.prototype.splice.call(m,D,1),S&&(bc(d),c.g[h].length==0&&(delete c.g[h],c.h--))}}function mh(c,d,h,m){for(var D=0;D<c.length;++D){var S=c[D];if(!S.da&&S.listener==d&&S.capture==!!h&&S.ha==m)return D}return-1}var gh="closure_lm_"+(1e6*Math.random()|0),yh={};function D_(c,d,h,m,D){if(m&&m.once)return T_(c,d,h,m,D);if(Array.isArray(d)){for(var S=0;S<d.length;S++)D_(c,d[S],h,m,D);return null}return h=wh(h),c&&c[bs]?c.K(d,h,l(m)?!!m.capture:!!m,D):C_(c,d,h,!1,m,D)}function C_(c,d,h,m,D,S){if(!d)throw Error("Invalid event type");var V=l(D)?!!D.capture:!!D,Ae=_h(c);if(Ae||(c[gh]=Ae=new Dc(c)),h=Ae.add(d,h,m,V,S),h.proxy)return h;if(m=nA(),h.proxy=m,m.src=c,m.listener=h,c.addEventListener)ZS||(D=V),D===void 0&&(D=!1),c.addEventListener(d.toString(),m,D);else if(c.attachEvent)c.attachEvent(A_(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return h}function nA(){function c(h){return d.call(c.src,c.listener,h)}let d=rA;return c}function T_(c,d,h,m,D){if(Array.isArray(d)){for(var S=0;S<d.length;S++)T_(c,d[S],h,m,D);return null}return h=wh(h),c&&c[bs]?c.L(d,h,l(m)?!!m.capture:!!m,D):C_(c,d,h,!0,m,D)}function S_(c,d,h,m,D){if(Array.isArray(d))for(var S=0;S<d.length;S++)S_(c,d[S],h,m,D);else m=l(m)?!!m.capture:!!m,h=wh(h),c&&c[bs]?(c=c.i,d=String(d).toString(),d in c.g&&(S=c.g[d],h=mh(S,h,m,D),-1<h&&(bc(S[h]),Array.prototype.splice.call(S,h,1),S.length==0&&(delete c.g[d],c.h--)))):c&&(c=_h(c))&&(d=c.g[d.toString()],c=-1,d&&(c=mh(d,h,m,D)),(h=-1<c?d[c]:null)&&vh(h))}function vh(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[bs])ph(d.i,c);else{var h=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(h,m,c.capture):d.detachEvent?d.detachEvent(A_(h),m):d.addListener&&d.removeListener&&d.removeListener(m),(h=_h(d))?(ph(h,c),h.h==0&&(h.src=null,d[gh]=null)):bc(c)}}}function A_(c){return c in yh?yh[c]:yh[c]="on"+c}function rA(c,d){if(c.da)c=!0;else{d=new Es(d,this);var h=c.listener,m=c.ha||c.src;c.fa&&vh(c),c=h.call(m,d)}return c}function _h(c){return c=c[gh],c instanceof Dc?c:null}var Ih="__closure_events_fn_"+(1e9*Math.random()>>>0);function wh(c){return typeof c=="function"?c:(c[Ih]||(c[Ih]=function(d){return c.handleEvent(d)}),c[Ih])}function lt(){dr.call(this),this.i=new Dc(this),this.M=this,this.F=null}A(lt,dr),lt.prototype[bs]=!0,lt.prototype.removeEventListener=function(c,d,h,m){S_(this,c,d,h,m)};function yt(c,d){var h,m=c.F;if(m)for(h=[];m;m=m.F)h.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new ut(d,c);else if(d instanceof ut)d.target=d.target||c;else{var D=d;d=new ut(m,c),I(d,D)}if(D=!0,h)for(var S=h.length-1;0<=S;S--){var V=d.g=h[S];D=Cc(V,m,!0,d)&&D}if(V=d.g=c,D=Cc(V,m,!0,d)&&D,D=Cc(V,m,!1,d)&&D,h)for(S=0;S<h.length;S++)V=d.g=h[S],D=Cc(V,m,!1,d)&&D}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var h=c.g[d],m=0;m<h.length;m++)bc(h[m]);delete c.g[d],c.h--}}this.F=null},lt.prototype.K=function(c,d,h,m){return this.i.add(String(c),d,!1,h,m)},lt.prototype.L=function(c,d,h,m){return this.i.add(String(c),d,!0,h,m)};function Cc(c,d,h,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,S=0;S<d.length;++S){var V=d[S];if(V&&!V.da&&V.capture==h){var Ae=V.listener,ot=V.ha||V.src;V.fa&&ph(c.i,V),D=Ae.call(ot,m)!==!1&&D}}return D&&!m.defaultPrevented}function R_(c,d,h){if(typeof c=="function")h&&(c=y(c,h));else if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function x_(c){c.g=R_(()=>{c.g=null,c.i&&(c.i=!1,x_(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class iA extends dr{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:x_(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ds(c){dr.call(this),this.h=c,this.g={}}A(Ds,dr);var M_=[];function N_(c){ne(c.g,function(d,h){this.g.hasOwnProperty(h)&&vh(d)},c),c.g={}}Ds.prototype.N=function(){Ds.aa.N.call(this),N_(this)},Ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Eh=a.JSON.stringify,oA=a.JSON.parse,sA=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function bh(){}bh.prototype.h=null;function P_(c){return c.h||(c.h=c.i())}function O_(){}var Cs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dh(){ut.call(this,"d")}A(Dh,ut);function Ch(){ut.call(this,"c")}A(Ch,ut);var Qr={},k_=null;function Tc(){return k_=k_||new lt}Qr.La="serverreachability";function F_(c){ut.call(this,Qr.La,c)}A(F_,ut);function Ts(c){let d=Tc();yt(d,new F_(d))}Qr.STAT_EVENT="statevent";function V_(c,d){ut.call(this,Qr.STAT_EVENT,c),this.stat=d}A(V_,ut);function vt(c){let d=Tc();yt(d,new V_(d,c))}Qr.Ma="timingevent";function L_(c,d){ut.call(this,Qr.Ma,c),this.size=d}A(L_,ut);function Ss(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function As(){this.g=!0}As.prototype.xa=function(){this.g=!1};function aA(c,d,h,m,D,S){c.info(function(){if(c.g)if(S)for(var V="",Ae=S.split("&"),ot=0;ot<Ae.length;ot++){var _e=Ae[ot].split("=");if(1<_e.length){var dt=_e[0];_e=_e[1];var ht=dt.split("_");V=2<=ht.length&&ht[1]=="type"?V+(dt+"="+_e+"&"):V+(dt+"=redacted&")}}else V=null;else V=S;return"XMLHTTP REQ ("+m+") [attempt "+D+"]: "+d+`
`+h+`
`+V})}function cA(c,d,h,m,D,S,V){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+D+"]: "+d+`
`+h+`
`+S+" "+V})}function Hi(c,d,h,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+lA(c,h)+(m?" "+m:"")})}function uA(c,d){c.info(function(){return"TIMEOUT: "+d})}As.prototype.info=function(){};function lA(c,d){if(!c.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(c=0;c<h.length;c++)if(Array.isArray(h[c])){var m=h[c];if(!(2>m.length)){var D=m[1];if(Array.isArray(D)&&!(1>D.length)){var S=D[0];if(S!="noop"&&S!="stop"&&S!="close")for(var V=1;V<D.length;V++)D[V]=""}}}}return Eh(h)}catch{return d}}var Sc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},U_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Th;function Ac(){}A(Ac,bh),Ac.prototype.g=function(){return new XMLHttpRequest},Ac.prototype.i=function(){return{}},Th=new Ac;function hr(c,d,h,m){this.j=c,this.i=d,this.l=h,this.R=m||1,this.U=new Ds(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new j_}function j_(){this.i=null,this.g="",this.h=!1}var B_={},Sh={};function Ah(c,d,h){c.L=1,c.v=Nc(Fn(d)),c.m=h,c.P=!0,$_(c,null)}function $_(c,d){c.F=Date.now(),Rc(c),c.A=Fn(c.v);var h=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),nI(h.i,"t",m),c.C=0,h=c.j.J,c.h=new j_,c.g=II(c.j,h?d:null,!c.m),0<c.O&&(c.M=new iA(y(c.Y,c,c.g),c.O)),d=c.U,h=c.g,m=c.ca;var D="readystatechange";Array.isArray(D)||(D&&(M_[0]=D.toString()),D=M_);for(var S=0;S<D.length;S++){var V=D_(h,D[S],m||d.handleEvent,!1,d.h||d);if(!V)break;d.g[V.key]=V}d=c.H?g(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Ts(),aA(c.i,c.u,c.A,c.l,c.R,c.m)}hr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Vn(c)==3?d.j():this.Y(c)},hr.prototype.Y=function(c){try{if(c==this.g)e:{let ht=Vn(this.g);var d=this.g.Ba();let Gi=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||uI(this.g)))){this.J||ht!=4||d==7||(d==8||0>=Gi?Ts(3):Ts(2)),Rh(this);var h=this.g.Z();this.X=h;t:if(H_(this)){var m=uI(this.g);c="";var D=m.length,S=Vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yr(this),Rs(this);var V="";break t}this.h.i=new a.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(S&&d==D-1)});m.length=0,this.h.g+=c,this.C=0,V=this.h.g}else V=this.g.oa();if(this.o=h==200,cA(this.i,this.u,this.A,this.l,this.R,ht,h),this.o){if(this.T&&!this.K){t:{if(this.g){var Ae,ot=this.g;if((Ae=ot.g?ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(Ae)){var _e=Ae;break t}}_e=null}if(h=_e)Hi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xh(this,h);else{this.o=!1,this.s=3,vt(12),Yr(this),Rs(this);break e}}if(this.P){h=!0;let tn;for(;!this.J&&this.C<V.length;)if(tn=dA(this,V),tn==Sh){ht==4&&(this.s=4,vt(14),h=!1),Hi(this.i,this.l,null,"[Incomplete Response]");break}else if(tn==B_){this.s=4,vt(15),Hi(this.i,this.l,V,"[Invalid Chunk]"),h=!1;break}else Hi(this.i,this.l,tn,null),xh(this,tn);if(H_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||V.length!=0||this.h.h||(this.s=1,vt(16),h=!1),this.o=this.o&&h,!h)Hi(this.i,this.l,V,"[Invalid Chunked Response]"),Yr(this),Rs(this);else if(0<V.length&&!this.W){this.W=!0;var dt=this.j;dt.g==this&&dt.ba&&!dt.M&&(dt.j.info("Great, no buffering proxy detected. Bytes received: "+V.length),Fh(dt),dt.M=!0,vt(11))}}else Hi(this.i,this.l,V,null),xh(this,V);ht==4&&Yr(this),this.o&&!this.J&&(ht==4?gI(this.j,this):(this.o=!1,Rc(this)))}else AA(this.g),h==400&&0<V.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),Yr(this),Rs(this)}}}catch{}finally{}};function H_(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function dA(c,d){var h=c.C,m=d.indexOf(`
`,h);return m==-1?Sh:(h=Number(d.substring(h,m)),isNaN(h)?B_:(m+=1,m+h>d.length?Sh:(d=d.slice(m,m+h),c.C=m+h,d)))}hr.prototype.cancel=function(){this.J=!0,Yr(this)};function Rc(c){c.S=Date.now()+c.I,q_(c,c.I)}function q_(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ss(y(c.ba,c),d)}function Rh(c){c.B&&(a.clearTimeout(c.B),c.B=null)}hr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(uA(this.i,this.A),this.L!=2&&(Ts(),vt(17)),Yr(this),this.s=2,Rs(this)):q_(this,this.S-c)};function Rs(c){c.j.G==0||c.J||gI(c.j,c)}function Yr(c){Rh(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,N_(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function xh(c,d){try{var h=c.j;if(h.G!=0&&(h.g==c||Mh(h.h,c))){if(!c.K&&Mh(h.h,c)&&h.G==3){try{var m=h.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var D=m;if(D[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<c.F)Vc(h),kc(h);else break e;kh(h),vt(18)}}else h.za=D[1],0<h.za-h.T&&37500>D[2]&&h.F&&h.v==0&&!h.C&&(h.C=Ss(y(h.Za,h),6e3));if(1>=W_(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Zr(h,11)}else if((c.K||h.g==c)&&Vc(h),!te(d))for(D=h.Da.g.parse(d),d=0;d<D.length;d++){let _e=D[d];if(h.T=_e[0],_e=_e[1],h.G==2)if(_e[0]=="c"){h.K=_e[1],h.ia=_e[2];let dt=_e[3];dt!=null&&(h.la=dt,h.j.info("VER="+h.la));let ht=_e[4];ht!=null&&(h.Aa=ht,h.j.info("SVER="+h.Aa));let Gi=_e[5];Gi!=null&&typeof Gi=="number"&&0<Gi&&(m=1.5*Gi,h.L=m,h.j.info("backChannelRequestTimeoutMs_="+m)),m=h;let tn=c.g;if(tn){let Uc=tn.g?tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Uc){var S=m.h;S.g||Uc.indexOf("spdy")==-1&&Uc.indexOf("quic")==-1&&Uc.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(Nh(S,S.h),S.h=null))}if(m.D){let Vh=tn.g?tn.g.getResponseHeader("X-HTTP-Session-Id"):null;Vh&&(m.ya=Vh,xe(m.I,m.D,Vh))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-c.F,h.j.info("Handshake RTT: "+h.R+"ms")),m=h;var V=c;if(m.qa=_I(m,m.J?m.ia:null,m.W),V.K){K_(m.h,V);var Ae=V,ot=m.L;ot&&(Ae.I=ot),Ae.B&&(Rh(Ae),Rc(Ae)),m.g=V}else pI(m);0<h.i.length&&Fc(h)}else _e[0]!="stop"&&_e[0]!="close"||Zr(h,7);else h.G==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?Zr(h,7):Oh(h):_e[0]!="noop"&&h.l&&h.l.ta(_e),h.v=0)}}Ts(4)}catch{}}var hA=class{constructor(c,d){this.g=c,this.map=d}};function z_(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function G_(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function W_(c){return c.h?1:c.g?c.g.size:0}function Mh(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Nh(c,d){c.g?c.g.add(d):c.h=d}function K_(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}z_.prototype.cancel=function(){if(this.i=Q_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Q_(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let h of c.g.values())d=d.concat(h.D);return d}return M(c.i)}function fA(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],h=c.length,m=0;m<h;m++)d.push(c[m]);return d}d=[],h=0;for(m in c)d[h++]=c[m];return d}function pA(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var h=0;h<c;h++)d.push(h);return d}d=[],h=0;for(let m in c)d[h++]=m;return d}}}function Y_(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var h=pA(c),m=fA(c),D=m.length,S=0;S<D;S++)d.call(void 0,m[S],h&&h[S],c)}var J_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mA(c,d){if(c){c=c.split("&");for(var h=0;h<c.length;h++){var m=c[h].indexOf("="),D=null;if(0<=m){var S=c[h].substring(0,m);D=c[h].substring(m+1)}else S=c[h];d(S,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function Jr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Jr){this.h=c.h,xc(this,c.j),this.o=c.o,this.g=c.g,Mc(this,c.s),this.l=c.l;var d=c.i,h=new Ns;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),Z_(this,h),this.m=c.m}else c&&(d=String(c).match(J_))?(this.h=!1,xc(this,d[1]||"",!0),this.o=xs(d[2]||""),this.g=xs(d[3]||"",!0),Mc(this,d[4]),this.l=xs(d[5]||"",!0),Z_(this,d[6]||"",!0),this.m=xs(d[7]||"")):(this.h=!1,this.i=new Ns(null,this.h))}Jr.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Ms(d,X_,!0),":");var h=this.g;return(h||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Ms(d,X_,!0),"@"),c.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&c.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&c.push("/"),c.push(Ms(h,h.charAt(0)=="/"?vA:yA,!0))),(h=this.i.toString())&&c.push("?",h),(h=this.m)&&c.push("#",Ms(h,IA)),c.join("")};function Fn(c){return new Jr(c)}function xc(c,d,h){c.j=h?xs(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Mc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function Z_(c,d,h){d instanceof Ns?(c.i=d,wA(c.i,c.h)):(h||(d=Ms(d,_A)),c.i=new Ns(d,c.h))}function xe(c,d,h){c.i.set(d,h)}function Nc(c){return xe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function xs(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ms(c,d,h){return typeof c=="string"?(c=encodeURI(c).replace(d,gA),h&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function gA(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var X_=/[#\/\?@]/g,yA=/[#\?:]/g,vA=/[#\?]/g,_A=/[#\?@]/g,IA=/#/g;function Ns(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function fr(c){c.g||(c.g=new Map,c.h=0,c.i&&mA(c.i,function(d,h){c.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}n=Ns.prototype,n.add=function(c,d){fr(this),this.i=null,c=qi(this,c);var h=this.g.get(c);return h||this.g.set(c,h=[]),h.push(d),this.h+=1,this};function eI(c,d){fr(c),d=qi(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function tI(c,d){return fr(c),d=qi(c,d),c.g.has(d)}n.forEach=function(c,d){fr(this),this.g.forEach(function(h,m){h.forEach(function(D){c.call(d,D,m,this)},this)},this)},n.na=function(){fr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let m=0;m<d.length;m++){let D=c[m];for(let S=0;S<D.length;S++)h.push(d[m])}return h},n.V=function(c){fr(this);let d=[];if(typeof c=="string")tI(this,c)&&(d=d.concat(this.g.get(qi(this,c))));else{c=Array.from(this.g.values());for(let h=0;h<c.length;h++)d=d.concat(c[h])}return d},n.set=function(c,d){return fr(this),this.i=null,c=qi(this,c),tI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function nI(c,d,h){eI(c,d),0<h.length&&(c.i=null,c.g.set(qi(c,d),M(h)),c.h+=h.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var m=d[h];let S=encodeURIComponent(String(m)),V=this.V(m);for(m=0;m<V.length;m++){var D=S;V[m]!==""&&(D+="="+encodeURIComponent(String(V[m]))),c.push(D)}}return this.i=c.join("&")};function qi(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function wA(c,d){d&&!c.j&&(fr(c),c.i=null,c.g.forEach(function(h,m){var D=m.toLowerCase();m!=D&&(eI(this,m),nI(this,D,h))},c)),c.j=d}function EA(c,d){let h=new As;if(a.Image){let m=new Image;m.onload=w(pr,h,"TestLoadImage: loaded",!0,d,m),m.onerror=w(pr,h,"TestLoadImage: error",!1,d,m),m.onabort=w(pr,h,"TestLoadImage: abort",!1,d,m),m.ontimeout=w(pr,h,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function bA(c,d){let h=new As,m=new AbortController,D=setTimeout(()=>{m.abort(),pr(h,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(S=>{clearTimeout(D),S.ok?pr(h,"TestPingServer: ok",!0,d):pr(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),pr(h,"TestPingServer: error",!1,d)})}function pr(c,d,h,m,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),m(h)}catch{}}function DA(){this.g=new sA}function CA(c,d,h){let m=h||"";try{Y_(c,function(D,S){let V=D;l(D)&&(V=Eh(D)),d.push(m+S+"="+encodeURIComponent(V))})}catch(D){throw d.push(m+"type="+encodeURIComponent("_badmap")),D}}function Ps(c){this.l=c.Ub||null,this.j=c.eb||!1}A(Ps,bh),Ps.prototype.g=function(){return new Pc(this.l,this.j)},Ps.prototype.i=function(c){return function(){return c}}({});function Pc(c,d){lt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Pc,lt),n=Pc.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,ks(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Os(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ks(this)),this.g&&(this.readyState=3,ks(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;rI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function rI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Os(this):ks(this),this.readyState==3&&rI(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Os(this))},n.Qa=function(c){this.g&&(this.response=c,Os(this))},n.ga=function(){this.g&&Os(this)};function Os(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ks(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,c.push(h[0]+": "+h[1]),h=d.next();return c.join(`\r
`)};function ks(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Pc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function iI(c){let d="";return ne(c,function(h,m){d+=m,d+=":",d+=h,d+=`\r
`}),d}function Ph(c,d,h){e:{for(m in h){var m=!1;break e}m=!0}m||(h=iI(h),typeof c=="string"?h!=null&&encodeURIComponent(String(h)):xe(c,d,h))}function Le(c){lt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Le,lt);var TA=/^https?$/i,SA=["POST","PUT"];n=Le.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,h,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Th.g(),this.v=this.o?P_(this.o):P_(Th),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(S){oI(this,S);return}if(c=h||"",h=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var D in m)h.set(D,m[D]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let S of m.keys())h.set(S,m.get(S));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),D=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(SA,d,void 0))||m||D||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,V]of h)this.g.setRequestHeader(S,V);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{cI(this),this.u=!0,this.g.send(c),this.u=!1}catch(S){oI(this,S)}};function oI(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,sI(c),Oc(c)}function sI(c){c.A||(c.A=!0,yt(c,"complete"),yt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,yt(this,"complete"),yt(this,"abort"),Oc(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oc(this,!0)),Le.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?aI(this):this.bb())},n.bb=function(){aI(this)};function aI(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Vn(c)!=4||c.Z()!=2)){if(c.u&&Vn(c)==4)R_(c.Ea,0,c);else if(yt(c,"readystatechange"),Vn(c)==4){c.h=!1;try{let V=c.Z();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var m;if(m=V===0){var D=String(c.D).match(J_)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),m=!TA.test(D?D.toLowerCase():"")}h=m}if(h)yt(c,"complete"),yt(c,"success");else{c.m=6;try{var S=2<Vn(c)?c.g.statusText:""}catch{S=""}c.l=S+" ["+c.Z()+"]",sI(c)}}finally{Oc(c)}}}}function Oc(c,d){if(c.g){cI(c);let h=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||yt(c,"ready");try{h.onreadystatechange=m}catch{}}}function cI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Vn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Vn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),oA(d)}};function uI(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function AA(c){let d={};c=(c.g&&2<=Vn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(te(c[m]))continue;var h=b(c[m]);let D=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=d[D]||[];d[D]=S,S.push(h)}E(d,function(m){return m.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fs(c,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[c]||d}function lI(c){this.Aa=0,this.i=[],this.j=new As,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fs("baseRetryDelayMs",5e3,c),this.cb=Fs("retryDelaySeedMs",1e4,c),this.Wa=Fs("forwardChannelMaxRetries",2,c),this.wa=Fs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new z_(c&&c.concurrentRequestLimit),this.Da=new DA,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=lI.prototype,n.la=8,n.G=1,n.connect=function(c,d,h,m){vt(0),this.W=c,this.H=d||{},h&&m!==void 0&&(this.H.OSID=h,this.H.OAID=m),this.F=this.X,this.I=_I(this,null,this.W),Fc(this)};function Oh(c){if(dI(c),c.G==3){var d=c.U++,h=Fn(c.I);if(xe(h,"SID",c.K),xe(h,"RID",d),xe(h,"TYPE","terminate"),Vs(c,h),d=new hr(c,c.j,d),d.L=2,d.v=Nc(Fn(h)),h=!1,a.navigator&&a.navigator.sendBeacon)try{h=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&a.Image&&(new Image().src=d.v,h=!0),h||(d.g=II(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Rc(d)}vI(c)}function kc(c){c.g&&(Fh(c),c.g.cancel(),c.g=null)}function dI(c){kc(c),c.u&&(a.clearTimeout(c.u),c.u=null),Vc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Fc(c){if(!G_(c.h)&&!c.s){c.s=!0;var d=c.Ga;Is||b_(),ws||(Is(),ws=!0),fh.add(d,c),c.B=0}}function RA(c,d){return W_(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ss(y(c.Ga,c,d),yI(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let D=new hr(this,this.j,c),S=this.o;if(this.S&&(S?(S=g(S),I(S,this.S)):S=this.S),this.m!==null||this.O||(D.H=S,S=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var m=this.i[h];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=fI(this,D,d),h=Fn(this.I),xe(h,"RID",c),xe(h,"CVER",22),this.D&&xe(h,"X-HTTP-Session-Id",this.D),Vs(this,h),S&&(this.O?d="headers="+encodeURIComponent(String(iI(S)))+"&"+d:this.m&&Ph(h,this.m,S)),Nh(this.h,D),this.Ua&&xe(h,"TYPE","init"),this.P?(xe(h,"$req",d),xe(h,"SID","null"),D.T=!0,Ah(D,h,null)):Ah(D,h,d),this.G=2}}else this.G==3&&(c?hI(this,c):this.i.length==0||G_(this.h)||hI(this))};function hI(c,d){var h;d?h=d.l:h=c.U++;let m=Fn(c.I);xe(m,"SID",c.K),xe(m,"RID",h),xe(m,"AID",c.T),Vs(c,m),c.m&&c.o&&Ph(m,c.m,c.o),h=new hr(c,c.j,h,c.B+1),c.m===null&&(h.H=c.o),d&&(c.i=d.D.concat(c.i)),d=fI(c,h,1e3),h.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Nh(c.h,h),Ah(h,m,d)}function Vs(c,d){c.H&&ne(c.H,function(h,m){xe(d,m,h)}),c.l&&Y_({},function(h,m){xe(d,m,h)})}function fI(c,d,h){h=Math.min(c.i.length,h);var m=c.l?y(c.l.Na,c.l,c):null;e:{var D=c.i;let S=-1;for(;;){let V=["count="+h];S==-1?0<h?(S=D[0].g,V.push("ofs="+S)):S=0:V.push("ofs="+S);let Ae=!0;for(let ot=0;ot<h;ot++){let _e=D[ot].g,dt=D[ot].map;if(_e-=S,0>_e)S=Math.max(0,D[ot].g-100),Ae=!1;else try{CA(dt,V,"req"+_e+"_")}catch{m&&m(dt)}}if(Ae){m=V.join("&");break e}}}return c=c.i.splice(0,h),d.D=c,m}function pI(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Is||b_(),ws||(Is(),ws=!0),fh.add(d,c),c.v=0}}function kh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ss(y(c.Fa,c),yI(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,mI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ss(y(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),kc(this),mI(this))};function Fh(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function mI(c){c.g=new hr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Fn(c.qa);xe(d,"RID","rpc"),xe(d,"SID",c.K),xe(d,"AID",c.T),xe(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&xe(d,"TO",c.ja),xe(d,"TYPE","xmlhttp"),Vs(c,d),c.m&&c.o&&Ph(d,c.m,c.o),c.L&&(c.g.I=c.L);var h=c.g;c=c.ia,h.L=1,h.v=Nc(Fn(d)),h.m=null,h.P=!0,$_(h,c)}n.Za=function(){this.C!=null&&(this.C=null,kc(this),kh(this),vt(19))};function Vc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function gI(c,d){var h=null;if(c.g==d){Vc(c),Fh(c),c.g=null;var m=2}else if(Mh(c.h,d))h=d.D,K_(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var D=c.B;m=Tc(),yt(m,new L_(m,h)),Fc(c)}else pI(c);else if(D=d.s,D==3||D==0&&0<d.X||!(m==1&&RA(c,d)||m==2&&kh(c)))switch(h&&0<h.length&&(d=c.h,d.i=d.i.concat(h)),D){case 1:Zr(c,5);break;case 4:Zr(c,10);break;case 3:Zr(c,6);break;default:Zr(c,2)}}}function yI(c,d){let h=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(h*=2),h*d}function Zr(c,d){if(c.j.info("Error code "+d),d==2){var h=y(c.fb,c),m=c.Xa;let D=!m;m=new Jr(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||xc(m,"https"),Nc(m),D?EA(m.toString(),h):bA(m.toString(),h)}else vt(2);c.G=0,c.l&&c.l.sa(d),vI(c),dI(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function vI(c){if(c.G=0,c.ka=[],c.l){let d=Q_(c.h);(d.length!=0||c.i.length!=0)&&(x(c.ka,d),x(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function _I(c,d,h){var m=h instanceof Jr?Fn(h):new Jr(h);if(m.g!="")d&&(m.g=d+"."+m.g),Mc(m,m.s);else{var D=a.location;m=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var S=new Jr(null);m&&xc(S,m),d&&(S.g=d),D&&Mc(S,D),h&&(S.l=h),m=S}return h=c.D,d=c.ya,h&&d&&xe(m,h,d),xe(m,"VER",c.la),Vs(c,m),m}function II(c,d,h){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Le(new Ps({eb:h})):new Le(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function wI(){}n=wI.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Lc(){}Lc.prototype.g=function(c,d){return new Ot(c,d)};function Ot(c,d){lt.call(this),this.g=new lI(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!te(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!te(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new zi(this)}A(Ot,lt),Ot.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ot.prototype.close=function(){Oh(this.g)},Ot.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var h={};h.__data__=c,c=h}else this.u&&(h={},h.__data__=Eh(c),c=h);d.i.push(new hA(d.Ya++,c)),d.G==3&&Fc(d)},Ot.prototype.N=function(){this.g.l=null,delete this.j,Oh(this.g),delete this.g,Ot.aa.N.call(this)};function EI(c){Dh.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let h in d){c=h;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}A(EI,Dh);function bI(){Ch.call(this),this.status=1}A(bI,Ch);function zi(c){this.g=c}A(zi,wI),zi.prototype.ua=function(){yt(this.g,"a")},zi.prototype.ta=function(c){yt(this.g,new EI(c))},zi.prototype.sa=function(c){yt(this.g,new bI)},zi.prototype.ra=function(){yt(this.g,"b")},Lc.prototype.createWebChannel=Lc.prototype.g,Ot.prototype.send=Ot.prototype.o,Ot.prototype.open=Ot.prototype.m,Ot.prototype.close=Ot.prototype.close,ay=rr.createWebChannelTransport=function(){return new Lc},sy=rr.getStatEventTarget=function(){return Tc()},oy=rr.Event=Qr,Cd=rr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Sc.NO_ERROR=0,Sc.TIMEOUT=8,Sc.HTTP_ERROR=6,Ya=rr.ErrorCode=Sc,U_.COMPLETE="complete",iy=rr.EventType=U_,O_.EventType=Cs,Cs.OPEN="a",Cs.CLOSE="b",Cs.ERROR="c",Cs.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Qo=rr.WebChannel=O_,g2=rr.FetchXmlHttpFactory=Ps,Le.prototype.listenOnce=Le.prototype.L,Le.prototype.getLastError=Le.prototype.Ka,Le.prototype.getLastErrorCode=Le.prototype.Ba,Le.prototype.getStatus=Le.prototype.Z,Le.prototype.getResponseJson=Le.prototype.Oa,Le.prototype.getResponseText=Le.prototype.oa,Le.prototype.send=Le.prototype.ea,Le.prototype.setWithCredentials=Le.prototype.Ha,ry=rr.XhrIo=Le}).apply(typeof Dd<"u"?Dd:typeof self<"u"?self:typeof window<"u"?window:{});var xC="@firebase/firestore";var it=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};it.UNAUTHENTICATED=new it(null),it.GOOGLE_CREDENTIALS=new it("google-credentials-uid"),it.FIRST_PARTY=new it("first-party-uid"),it.MOCK_USER=new it("mock-user");var ms="10.14.0";var Oi=new Ur("@firebase/firestore");function Ja(){return Oi.logLevel}function $(n,...e){if(Oi.logLevel<=pe.DEBUG){let t=e.map(qv);Oi.debug(`Firestore (${ms}): ${n}`,...t)}}function or(n,...e){if(Oi.logLevel<=pe.ERROR){let t=e.map(qv);Oi.error(`Firestore (${ms}): ${n}`,...t)}}function ns(n,...e){if(Oi.logLevel<=pe.WARN){let t=e.map(qv);Oi.warn(`Firestore (${ms}): ${n}`,...t)}}function qv(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function Z(n="Unexpected state"){let e=`FIRESTORE (${ms}) INTERNAL ASSERTION FAILED: `+n;throw or(e),new Error(e)}function Te(n,e){n||Z()}function ie(n,e){return n}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},W=class extends Mt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ir=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var xd=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},hy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(it.UNAUTHENTICATED))}shutdown(){}},fy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},py=class{constructor(e){this.t=e,this.currentUser=it.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Te(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new ir;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ir,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>T(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ir)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string"),new xd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string"),new it(e)}},my=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=it.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},gy=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new my(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(it.FIRST_PARTY))}shutdown(){}invalidateToken(){}},yy=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},vy=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Te(this.o===void 0);let r=o=>{o.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,$("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Te(typeof t.token=="string"),this.R=t.token,new yy(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function y2(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Md=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=y2(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}};function we(n,e){return n<e?-1:n>e?1:0}function rs(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var ct=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new W(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new W(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new W(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var se=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new ct(0,0))}static max(){return new n(new ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Nd=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&Z(),r===void 0?r=e.length-t:r>e.length-t&&Z(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Ue=class n extends Nd{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new W(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},v2=/^[_a-zA-Z][_a-zA-Z0-9]*$/,qt=class n extends Nd{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return v2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new W(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new W(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new W(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new W(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var Y=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ue.fromString(e))}static fromName(e){return new n(Ue.fromString(e).popFirst(5))}static empty(){return new n(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ue.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ue(e.slice()))}};var _y=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};_y.UNKNOWN_ID=-1;function _2(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=se.fromTimestamp(r===1e9?new ct(t+1,0):new ct(t,r));return new ki(i,Y.empty(),e)}function I2(n){return new ki(n.readTime,n.key,-1)}var ki=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(se.min(),Y.empty(),-1)}static max(){return new n(se.max(),Y.empty(),-1)}};function w2(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Y.comparator(n.documentKey,e.documentKey),t!==0?t:we(n.largestBatchId,e.largestBatchId))}var E2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Iy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function gc(n){return T(this,null,function*(){if(n.code!==P.FAILED_PRECONDITION||n.message!==E2)throw n;$("LocalStore","Unexpectedly lost primary lease")})}var k=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(f=>{s[l]=f,++a,a===o&&r(s)},f=>i(f))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function b2(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function yc(n){return n.name==="IndexedDbTransactionError"}var uT=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function sh(n){return n==null}function ic(n){return n===0&&1/n==-1/0}function D2(n){return typeof n=="number"&&Number.isInteger(n)&&!ic(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var C2=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],s5=[...C2,"documentOverlays"],T2=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],S2=T2,A2=[...S2,"indexConfiguration","indexState","indexEntries"];var a5=[...A2,"globals"];function MC(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function gs(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function lT(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var je=class n{constructor(e,t){this.comparator=e,this.root=t||Rn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Rn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xo(this.root,e,this.comparator,!0)}},Xo=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Rn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();let e=this.left.check();if(e!==this.right.check())throw Z();return e+(this.isRed()?0:1)}};Rn.EMPTY=null,Rn.RED=!0,Rn.BLACK=!1;Rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Rn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var mt=class n{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Pd(this.data.getIterator())}getIteratorFrom(e){return new Pd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Pd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var An=class n{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new n([])}unionWith(e){let t=new mt(qt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return rs(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Od=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var gt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Od("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};gt.EMPTY_BYTE_STRING=new gt("");var R2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sr(n){if(Te(!!n),typeof n=="string"){let e=0,t=R2.exec(n);if(Te(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ne(n.seconds),nanos:Ne(n.nanos)}}function Ne(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Gr(n){return typeof n=="string"?gt.fromBase64String(n):gt.fromUint8Array(n)}function zv(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Gv(n){let e=n.mapValue.fields.__previous_value__;return zv(e)?Gv(e):e}function oc(n){let e=sr(n.mapValue.fields.__local_write_time__.timestampValue);return new ct(e.seconds,e.nanos)}var wy=class{constructor(e,t,r,i,o,s,a,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},kd=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Td={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Fi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?zv(n)?4:hT(n)?9007199254740991:dT(n)?10:11:Z()}function Nn(n,e){if(n===e)return!0;let t=Fi(n);if(t!==Fi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return oc(n).isEqual(oc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=sr(i.timestampValue),a=sr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Gr(i.bytesValue).isEqual(Gr(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Ne(i.geoPointValue.latitude)===Ne(o.geoPointValue.latitude)&&Ne(i.geoPointValue.longitude)===Ne(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ne(i.integerValue)===Ne(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ne(i.doubleValue),a=Ne(o.doubleValue);return s===a?ic(s)===ic(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return rs(n.arrayValue.values||[],e.arrayValue.values||[],Nn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(MC(s)!==MC(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Nn(s[u],a[u])))return!1;return!0}(n,e);default:return Z()}}function sc(n,e){return(n.values||[]).find(t=>Nn(t,e))!==void 0}function is(n,e){if(n===e)return 0;let t=Fi(n),r=Fi(e);if(t!==r)return we(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return we(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ne(o.integerValue||o.doubleValue),u=Ne(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return NC(n.timestampValue,e.timestampValue);case 4:return NC(oc(n),oc(e));case 5:return we(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Gr(o),u=Gr(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let f=we(a[l],u[l]);if(f!==0)return f}return we(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=we(Ne(o.latitude),Ne(s.latitude));return a!==0?a:we(Ne(o.longitude),Ne(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return PC(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,f;let p=o.fields||{},y=s.fields||{},w=(a=p.value)===null||a===void 0?void 0:a.arrayValue,A=(u=y.value)===null||u===void 0?void 0:u.arrayValue,M=we(((l=w?.values)===null||l===void 0?void 0:l.length)||0,((f=A?.values)===null||f===void 0?void 0:f.length)||0);return M!==0?M:PC(w,A)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Td.mapValue&&s===Td.mapValue)return 0;if(o===Td.mapValue)return 1;if(s===Td.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let y=we(u[p],f[p]);if(y!==0)return y;let w=is(a[u[p]],l[f[p]]);if(w!==0)return w}return we(u.length,f.length)}(n.mapValue,e.mapValue);default:throw Z()}}function NC(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return we(n,e);let t=sr(n),r=sr(e),i=we(t.seconds,r.seconds);return i!==0?i:we(t.nanos,r.nanos)}function PC(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=is(t[i],r[i]);if(o)return o}return we(t.length,r.length)}function os(n){return Ey(n)}function Ey(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=sr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Gr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Y.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=Ey(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Ey(t.fields[s])}`;return i+"}"}(n.mapValue):Z()}function by(n){return!!n&&"integerValue"in n}function Wv(n){return!!n&&"arrayValue"in n}function OC(n){return!!n&&"nullValue"in n}function kC(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ad(n){return!!n&&"mapValue"in n}function dT(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Xa(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return gs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Xa(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Xa(n.arrayValue.values[t]);return e}return Object.assign({},n)}function hT(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var ln=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Ad(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xa(t)}setAll(e){let t=qt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Xa(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Ad(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Nn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Ad(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){gs(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Xa(this.value))}};function fT(n){let e=[];return gs(n.fields,(t,r)=>{let i=new qt([t]);if(Ad(r)){let o=fT(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new An(e)}var dn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,se.min(),se.min(),se.min(),ln.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,se.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,se.min(),se.min(),ln.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,se.min(),se.min(),ln.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ss=class{constructor(e,t){this.position=e,this.inclusive=t}};function FC(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=Y.comparator(Y.fromName(s.referenceValue),t.key):r=is(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function VC(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Nn(n.position[t],e.position[t]))return!1;return!0}var as=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function x2(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Fd=class{},Xe=class n extends Fd{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Cy(e,t,r):t==="array-contains"?new Ay(e,r):t==="in"?new Ry(e,r):t==="not-in"?new xy(e,r):t==="array-contains-any"?new My(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Ty(e,r):new Sy(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(is(t,this.value)):t!==null&&Fi(this.value)===Fi(t)&&this.matchesComparison(is(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Pn=class n extends Fd{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return pT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function pT(n){return n.op==="and"}function mT(n){return M2(n)&&pT(n)}function M2(n){for(let e of n.filters)if(e instanceof Pn)return!1;return!0}function Dy(n){if(n instanceof Xe)return n.field.canonicalString()+n.op.toString()+os(n.value);if(mT(n))return n.filters.map(e=>Dy(e)).join(",");{let e=n.filters.map(t=>Dy(t)).join(",");return`${n.op}(${e})`}}function gT(n,e){return n instanceof Xe?function(r,i){return i instanceof Xe&&r.op===i.op&&r.field.isEqual(i.field)&&Nn(r.value,i.value)}(n,e):n instanceof Pn?function(r,i){return i instanceof Pn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&gT(s,i.filters[a]),!0):!1}(n,e):void Z()}function yT(n){return n instanceof Xe?function(t){return`${t.field.canonicalString()} ${t.op} ${os(t.value)}`}(n):n instanceof Pn?function(t){return t.op.toString()+" {"+t.getFilters().map(yT).join(" ,")+"}"}(n):"Filter"}var Cy=class extends Xe{constructor(e,t,r){super(e,t,r),this.key=Y.fromName(r.referenceValue)}matches(e){let t=Y.comparator(e.key,this.key);return this.matchesComparison(t)}},Ty=class extends Xe{constructor(e,t){super(e,"in",t),this.keys=vT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Sy=class extends Xe{constructor(e,t){super(e,"not-in",t),this.keys=vT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function vT(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Y.fromName(r.referenceValue))}var Ay=class extends Xe{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Wv(t)&&sc(t.arrayValue,this.value)}},Ry=class extends Xe{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&sc(this.value.arrayValue,t)}},xy=class extends Xe{constructor(e,t){super(e,"not-in",t)}matches(e){if(sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!sc(this.value.arrayValue,t)}},My=class extends Xe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Wv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>sc(this.value.arrayValue,r))}};var Ny=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function LC(n,e=null,t=[],r=[],i=null,o=null,s=null){return new Ny(n,e,t,r,i,o,s)}function Kv(n){let e=ie(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Dy(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),sh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>os(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>os(r)).join(",")),e.ue=t}return e.ue}function Qv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!x2(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!gT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!VC(n.startAt,e.startAt)&&VC(n.endAt,e.endAt)}function Py(n){return Y.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var cs=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function N2(n,e,t,r,i,o,s,a){return new cs(n,e,t,r,i,o,s,a)}function Yv(n){return new cs(n)}function UC(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function P2(n){return n.collectionGroup!==null}function ec(n){let e=ie(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new mt(qt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new as(o,r))}),t.has(qt.keyField().canonicalString())||e.ce.push(new as(qt.keyField(),r))}return e.ce}function xn(n){let e=ie(n);return e.le||(e.le=O2(e,ec(n))),e.le}function O2(n,e){if(n.limitType==="F")return LC(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new as(i.field,o)});let t=n.endAt?new ss(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ss(n.startAt.position,n.startAt.inclusive):null;return LC(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Oy(n,e,t){return new cs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ah(n,e){return Qv(xn(n),xn(e))&&n.limitType===e.limitType}function _T(n){return`${Kv(xn(n))}|lt:${n.limitType}`}function Yo(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>yT(i)).join(", ")}]`),sh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>os(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>os(i)).join(",")),`Target(${r})`}(xn(n))}; limitType=${n.limitType})`}function ch(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Y.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of ec(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=FC(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,ec(r),i)||r.endAt&&!function(s,a,u){let l=FC(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,ec(r),i))}(n,e)}function k2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function IT(n){return(e,t)=>{let r=!1;for(let i of ec(n)){let o=F2(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function F2(n,e,t){let r=n.field.isKeyField()?Y.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?is(u,l):Z()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}var Wr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){gs(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return lT(this.inner)}size(){return this.innerSize}};var V2=new je(Y.comparator);function ar(){return V2}var wT=new je(Y.comparator);function Za(...n){let e=wT;for(let t of n)e=e.insert(t.key,t);return e}function ET(n){let e=wT;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function xi(){return tc()}function bT(){return tc()}function tc(){return new Wr(n=>n.toString(),(n,e)=>n.isEqual(e))}var L2=new je(Y.comparator),U2=new mt(Y.comparator);function me(...n){let e=U2;for(let t of n)e=e.add(t);return e}var j2=new mt(we);function B2(){return j2}function Jv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ic(e)?"-0":e}}function DT(n){return{integerValue:""+n}}function $2(n,e){return D2(e)?DT(e):Jv(n,e)}var us=class{constructor(){this._=void 0}};function H2(n,e,t){return n instanceof Vi?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&zv(o)&&(o=Gv(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Li?TT(n,e):n instanceof Ui?ST(n,e):function(i,o){let s=CT(i,o),a=jC(s)+jC(i.Pe);return by(s)&&by(i.Pe)?DT(a):Jv(i.serializer,a)}(n,e)}function q2(n,e,t){return n instanceof Li?TT(n,e):n instanceof Ui?ST(n,e):t}function CT(n,e){return n instanceof ls?function(r){return by(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Vi=class extends us{},Li=class extends us{constructor(e){super(),this.elements=e}};function TT(n,e){let t=AT(e);for(let r of n.elements)t.some(i=>Nn(i,r))||t.push(r);return{arrayValue:{values:t}}}var Ui=class extends us{constructor(e){super(),this.elements=e}};function ST(n,e){let t=AT(e);for(let r of n.elements)t=t.filter(i=>!Nn(i,r));return{arrayValue:{values:t}}}var ls=class extends us{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function jC(n){return Ne(n.integerValue||n.doubleValue)}function AT(n){return Wv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var ky=class{constructor(e,t){this.field=e,this.transform=t}};function z2(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Li&&i instanceof Li||r instanceof Ui&&i instanceof Ui?rs(r.elements,i.elements,Nn):r instanceof ls&&i instanceof ls?Nn(r.Pe,i.Pe):r instanceof Vi&&i instanceof Vi}(n.transform,e.transform)}var Fy=class{constructor(e,t){this.version=e,this.transformResults=t}},Pi=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Rd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var ds=class{};function RT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Vd(n.key,Pi.none()):new ji(n.key,n.data,Pi.none());{let t=n.data,r=ln.empty(),i=new mt(qt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new cr(n.key,r,new An(i.toArray()),Pi.none())}}function G2(n,e,t){n instanceof ji?function(i,o,s){let a=i.value.clone(),u=$C(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof cr?function(i,o,s){if(!Rd(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=$C(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(xT(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function nc(n,e,t,r){return n instanceof ji?function(o,s,a,u){if(!Rd(o.precondition,s))return a;let l=o.value.clone(),f=HC(o.fieldTransforms,u,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof cr?function(o,s,a,u){if(!Rd(o.precondition,s))return a;let l=HC(o.fieldTransforms,u,s),f=s.data;return f.setAll(xT(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return Rd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function W2(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=CT(r.transform,i||null);o!=null&&(t===null&&(t=ln.empty()),t.set(r.field,o))}return t||null}function BC(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&rs(r,i,(o,s)=>z2(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var ji=class extends ds{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},cr=class extends ds{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function xT(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function $C(n,e,t){let r=new Map;Te(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,q2(s,a,t[i]))}return r}function HC(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,H2(o,s,e))}return r}var Vd=class extends ds{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Vy=class extends ds{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Ly=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&G2(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=nc(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=nc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=bT();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=RT(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),me())}isEqual(e){return this.batchId===e.batchId&&rs(this.mutations,e.mutations,(t,r)=>BC(t,r))&&rs(this.baseMutations,e.baseMutations,(t,r)=>BC(t,r))}},Uy=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Te(e.mutations.length===r.length);let i=function(){return L2}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var jy=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var By=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Ke,ye;function K2(n){switch(n){default:return Z();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function MT(n){if(n===void 0)return or("GRPC error has no .code"),P.UNKNOWN;switch(n){case Ke.OK:return P.OK;case Ke.CANCELLED:return P.CANCELLED;case Ke.UNKNOWN:return P.UNKNOWN;case Ke.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Ke.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Ke.INTERNAL:return P.INTERNAL;case Ke.UNAVAILABLE:return P.UNAVAILABLE;case Ke.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Ke.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Ke.NOT_FOUND:return P.NOT_FOUND;case Ke.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Ke.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Ke.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Ke.ABORTED:return P.ABORTED;case Ke.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Ke.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Ke.DATA_LOSS:return P.DATA_LOSS;default:return Z()}}(ye=Ke||(Ke={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";var qC=null;function Q2(){return new TextEncoder}var Y2=new qr([4294967295,4294967295],0);function zC(n){let e=Q2().encode(n),t=new ny;return t.update(e),new Uint8Array(t.digest())}function GC(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new qr([t,r],0),new qr([i,o],0)]}var $y=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Mi(`Invalid padding: ${t}`);if(r<0)throw new Mi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Mi(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Mi(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=qr.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(qr.fromNumber(r)));return i.compare(Y2)===1&&(i=new qr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=zC(e),[r,i]=GC(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let t=zC(e),[r,i]=GC(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Mi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Ld=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,ac.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(se.min(),i,new je(we),ar(),me())}},ac=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,me(),me(),me())}};var es=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},Ud=class{constructor(e,t){this.targetId=e,this.me=t}},jd=class{constructor(e,t,r=gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Bd=class{constructor(){this.fe=0,this.ge=KC(),this.pe=gt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=me(),t=me(),r=me();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Z()}}),new ac(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=KC()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Te(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Hy=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=ar(),this.qe=WC(),this.Qe=new je(we)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:Z()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let o=i.target;if(Py(o))if(r===0){let s=new Y(o.path);this.Ue(t,s,dn.newNoDocument(s,se.min()))}else Te(r===1);else{let s=this.Ye(t);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,l)}qC?.et(function(f,p,y,w,A){var M,x,U,te,H,J;let Se={localCacheCount:f,existenceFilterCount:p.count,databaseId:y.database,projectId:y.projectId},ne=p.unchangedNames;return ne&&(Se.bloomFilter={applied:A===0,hashCount:(M=ne?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(te=(U=(x=ne?.bits)===null||x===void 0?void 0:x.bitmap)===null||U===void 0?void 0:U.length)!==null&&te!==void 0?te:0,padding:(J=(H=ne?.bits)===null||H===void 0?void 0:H.padding)!==null&&J!==void 0?J:0,mightContain:E=>{var g;return(g=w?.mightContain(E))!==null&&g!==void 0&&g}}),Se}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Gr(r).toUint8Array()}catch(u){if(u instanceof Od)return ns("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new $y(s,i,o)}catch(u){return ns(u instanceof Mi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&Py(a.target)){let u=new Y(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,dn.newNoDocument(u,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=me();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new Ld(e,t,this.Qe,this.ke,r);return this.ke=ar(),this.qe=WC(),this.Qe=new je(we),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Bd,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new mt(we),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||$("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Bd),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function WC(){return new je(Y.comparator)}function KC(){return new je(Y.comparator)}var J2={asc:"ASCENDING",desc:"DESCENDING"},Z2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},X2={and:"AND",or:"OR"},qy=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function zy(n,e){return n.useProto3Json||sh(e)?e:{value:e}}function $d(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function eU(n,e){return $d(n,e.toTimestamp())}function Mn(n){return Te(!!n),se.fromTimestamp(function(t){let r=sr(t);return new ct(r.seconds,r.nanos)}(n))}function Zv(n,e){return Gy(n,e).canonicalString()}function Gy(n,e){let t=function(i){return new Ue(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function PT(n){let e=Ue.fromString(n);return Te(LT(e)),e}function Wy(n,e){return Zv(n.databaseId,e.path)}function cy(n,e){let t=PT(e);if(t.get(1)!==n.databaseId.projectId)throw new W(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new W(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Y(kT(t))}function OT(n,e){return Zv(n.databaseId,e)}function tU(n){let e=PT(n);return e.length===4?Ue.emptyPath():kT(e)}function Ky(n){return new Ue(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function kT(n){return Te(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function QC(n,e,t){return{name:Wy(n,e),fields:t.value.mapValue.fields}}function nU(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Z()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,f){return l.useProto3Json?(Te(f===void 0||typeof f=="string"),gt.fromBase64String(f||"")):(Te(f===void 0||f instanceof Buffer||f instanceof Uint8Array),gt.fromUint8Array(f||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let f=l.code===void 0?P.UNKNOWN:MT(l.code);return new W(f,l.message||"")}(s);t=new jd(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=cy(n,r.document.name),o=Mn(r.document.updateTime),s=r.document.createTime?Mn(r.document.createTime):se.min(),a=new ln({mapValue:{fields:r.document.fields}}),u=dn.newFoundDocument(i,o,s,a),l=r.targetIds||[],f=r.removedTargetIds||[];t=new es(l,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=cy(n,r.document),o=r.readTime?Mn(r.readTime):se.min(),s=dn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new es([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=cy(n,r.document),o=r.removedTargetIds||[];t=new es([],o,i,null)}else{if(!("filter"in e))return Z();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new By(i,o),a=r.targetId;t=new Ud(a,s)}}return t}function rU(n,e){let t;if(e instanceof ji)t={update:QC(n,e.key,e.value)};else if(e instanceof Vd)t={delete:Wy(n,e.key)};else if(e instanceof cr)t={update:QC(n,e.key,e.data),updateMask:hU(e.fieldMask)};else{if(!(e instanceof Vy))return Z();t={verify:Wy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Vi)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Li)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ui)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ls)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Z()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:eU(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Z()}(n,e.precondition)),t}function iU(n,e){return n&&n.length>0?(Te(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?Mn(i.updateTime):Mn(o);return s.isEqual(se.min())&&(s=Mn(o)),new Fy(s,i.transformResults||[])}(t,e))):[]}function oU(n,e){return{documents:[OT(n,e.path)]}}function sU(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=OT(n,i);let o=function(l){if(l.length!==0)return VT(Pn.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(f=>function(y){return{field:Jo(y.field),direction:uU(y.dir)}}(f))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=zy(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:t,parent:i}}function aU(n){let e=tU(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Te(r===1);let f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];t.where&&(o=function(p){let y=FT(p);return y instanceof Pn&&mT(y)?y.getFilters():[y]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(y=>function(A){return new as(Zo(A.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(y))}(t.orderBy));let a=null;t.limit&&(a=function(p){let y;return y=typeof p=="object"?p.value:p,sh(y)?null:y}(t.limit));let u=null;t.startAt&&(u=function(p){let y=!!p.before,w=p.values||[];return new ss(w,y)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let y=!p.before,w=p.values||[];return new ss(w,y)}(t.endAt)),N2(e,i,s,o,a,"F",u,l)}function cU(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function FT(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Zo(t.unaryFilter.field);return Xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Zo(t.unaryFilter.field);return Xe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Zo(t.unaryFilter.field);return Xe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Zo(t.unaryFilter.field);return Xe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}(n):n.fieldFilter!==void 0?function(t){return Xe.create(Zo(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Pn.create(t.compositeFilter.filters.map(r=>FT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z()}}(t.compositeFilter.op))}(n):Z()}function uU(n){return J2[n]}function lU(n){return Z2[n]}function dU(n){return X2[n]}function Jo(n){return{fieldPath:n.canonicalString()}}function Zo(n){return qt.fromServerFormat(n.fieldPath)}function VT(n){return n instanceof Xe?function(t){if(t.op==="=="){if(kC(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NAN"}};if(OC(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(kC(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NOT_NAN"}};if(OC(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jo(t.field),op:lU(t.op),value:t.value}}}(n):n instanceof Pn?function(t){let r=t.getFilters().map(i=>VT(i));return r.length===1?r[0]:{compositeFilter:{op:dU(t.op),filters:r}}}(n):Z()}function hU(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function LT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var cc=class n{constructor(e,t,r,i,o=se.min(),s=se.min(),a=gt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Qy=class{constructor(e){this.ct=e}};function fU(n){let e=aU({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Oy(e,e.limit,"L"):e}var Hd=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Ne(e.integerValue));else if("doubleValue"in e){let r=Ne(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),ic(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=sr(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Gr(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?hT(e)?this.dt(t,Number.MAX_SAFE_INTEGER):dT(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):Z()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let o=e.fields||{};this.dt(t,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(Ne(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),Y.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};Hd.vt=new Hd;var Yy=class{constructor(){this.un=new Jy}addToCollectionParentIndex(e,t){return this.un.add(t),k.resolve()}getCollectionParents(e,t){return k.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return k.resolve()}deleteFieldIndex(e,t){return k.resolve()}deleteAllFieldIndexes(e){return k.resolve()}createTargetIndexes(e,t){return k.resolve()}getDocumentsMatchingTarget(e,t){return k.resolve(null)}getIndexType(e,t){return k.resolve(0)}getFieldIndexes(e,t){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,t){return k.resolve(ki.min())}getMinOffsetFromCollectionGroup(e,t){return k.resolve(ki.min())}updateCollectionGroup(e,t,r){return k.resolve()}updateIndexEntries(e,t){return k.resolve()}},Jy=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new mt(Ue.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new mt(Ue.comparator)).toArray()}};var u5=new Uint8Array(0);var Sn=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(41943040,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);var uc=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var Zy=class{constructor(){this.changes=new Wr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?k.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Xy=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var ev=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&nc(r.mutation,i,An.empty(),ct.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,t,r=me()){let i=xi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Za();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=xi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,me()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=ar(),s=tc(),a=function(){return tc()}();return t.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof cr)?o=o.insert(l.key,l):f!==void 0?(s.set(l.key,f.mutation.getFieldMask()),nc(f.mutation,l,f.mutation.getFieldMask(),ct.now())):s.set(l.key,An.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,f)=>s.set(l,f)),t.forEach((l,f)=>{var p;return a.set(l,new Xy(f,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=tc(),i=new je((s,a)=>s-a),o=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let f=r.get(u)||An.empty();f=a.applyToLocalView(l,f),r.set(u,f);let p=(i.get(a.batchId)||me()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,f=u.value,p=bT();f.forEach(y=>{if(!o.has(y)){let w=RT(t.get(y),r.get(y));w!==null&&p.set(y,w),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return k.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return Y.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):P2(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):k.resolve(xi()),a=-1,u=o;return s.next(l=>k.forEach(l,(f,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(f)?k.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{u=u.insert(f,y)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,me())).next(f=>({batchId:a,changes:ET(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Y(t)).next(r=>{let i=Za();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Za();return this.indexManager.getCollectionParents(e,o).next(a=>k.forEach(a,u=>{let l=function(p,y){return new cs(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,y)=>{s=s.insert(p,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let f=l.getKey();s.get(f)===null&&(s=s.insert(f,dn.newInvalidDocument(f)))});let a=Za();return s.forEach((u,l)=>{let f=o.get(u);f!==void 0&&nc(f.mutation,l,An.empty(),ct.now()),ch(t,l)&&(a=a.insert(u,l))}),a})}};var tv=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return k.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Mn(i.createTime)}}(t)),k.resolve()}getNamedQuery(e,t){return k.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:fU(i.bundledQuery),readTime:Mn(i.readTime)}}(t)),k.resolve()}};var nv=class{constructor(){this.overlays=new je(Y.comparator),this.Ir=new Map}getOverlay(e,t){return k.resolve(this.overlays.get(t))}getOverlays(e,t){let r=xi();return k.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),k.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),k.resolve()}getOverlaysForCollection(e,t,r){let i=xi(),o=t.length+1,s=new Y(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return k.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new je((l,f)=>l-f),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=xi(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let a=xi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>a.set(l,f)),!(a.size()>=i)););return k.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new jy(t,r));let o=this.Ir.get(t);o===void 0&&(o=me(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}};var rv=class{constructor(){this.sessionToken=gt.EMPTY_BYTE_STRING}getSessionToken(e){return k.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,k.resolve()}};var lc=class{constructor(){this.Tr=new mt(Qe.Er),this.dr=new mt(Qe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new Qe(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new Qe(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new Y(new Ue([])),r=new Qe(t,e),i=new Qe(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new Y(new Ue([])),r=new Qe(t,e),i=new Qe(t,e+1),o=me();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Qe(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Qe=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Y.comparator(e.key,t.key)||we(e.wr,t.wr)}static Ar(e,t){return we(e.wr,t.wr)||Y.comparator(e.key,t.key)}};var iv=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new mt(Qe.Er)}checkEmpty(e){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Ly(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new Qe(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return k.resolve(s)}lookupMutationBatch(e,t){return k.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),o=i<0?0:i;return k.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Qe(t,0),i=new Qe(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),k.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new mt(we);return t.forEach(i=>{let o=new Qe(i,0),s=new Qe(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),k.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;Y.isDocumentKey(o)||(o=o.child(""));let s=new Qe(new Y(o),0),a=new mt(we);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),k.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Te(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return k.forEach(t.mutations,i=>{let o=new Qe(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new Qe(t,0),i=this.br.firstAfterOrEqual(r);return k.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,k.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var ov=class{constructor(e){this.Mr=e,this.docs=function(){return new je(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return k.resolve(r?r.document.mutableCopy():dn.newInvalidDocument(t))}getEntries(e,t){let r=ar();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():dn.newInvalidDocument(i))}),k.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=ar(),s=t.path,a=new Y(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||w2(I2(f),r)<=0||(i.has(f.key)||ch(t,f))&&(o=o.insert(f.key,f.mutableCopy()))}return k.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Z()}Or(e,t){return k.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new sv(this)}getSize(e){return k.resolve(this.size)}},sv=class extends Zy{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),k.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var av=class{constructor(e){this.persistence=e,this.Nr=new Wr(t=>Kv(t),Qv),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.Lr=0,this.Br=new lc,this.targetCount=0,this.kr=uc.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),k.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new uc(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,k.resolve()}updateTargetData(e,t){return this.Kn(t),k.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),k.waitFor(o).next(()=>i)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return k.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),k.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),k.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),k.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return k.resolve(r)}containsKey(e,t){return k.resolve(this.Br.containsKey(t))}};var cv=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new uT(0),this.Kr=!1,this.Kr=!0,this.$r=new rv,this.referenceDelegate=e(this),this.Ur=new av(this),this.indexManager=new Yy,this.remoteDocumentCache=function(i){return new ov(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Qy(t),this.Gr=new tv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new nv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new iv(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){$("MemoryPersistence","Starting transaction:",e);let i=new uv(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return k.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},uv=class extends Iy{constructor(e){super(),this.currentSequenceNumber=e}},lv=class n{constructor(e){this.persistence=e,this.Jr=new lc,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw Z()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),k.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),k.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),k.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.Xr,r=>{let i=Y.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,se.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return k.or([()=>k.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var dv=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=me(),i=me();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var hv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var fv=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return zD()?8:b2($t())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new hv;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(Ja()<=pe.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",Yo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),k.resolve()):(Ja()<=pe.DEBUG&&$("QueryEngine","Query:",Yo(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ja()<=pe.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",Yo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xn(t))):k.resolve())}Yi(e,t){if(UC(t))return k.resolve(null);let r=xn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Oy(t,null,"F"),r=xn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=me(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(t,a);return this.ns(t,l,s,u.readTime)?this.Yi(e,Oy(t,null,"F")):this.rs(e,l,t,u)}))})))}Zi(e,t,r,i){return UC(t)||i.isEqual(se.min())?k.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(t,o);return this.ns(t,s,r,i)?k.resolve(null):(Ja()<=pe.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Yo(t)),this.rs(e,s,t,_2(i,-1)).next(a=>a))})}ts(e,t){let r=new mt(IT(e));return t.forEach((i,o)=>{ch(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return Ja()<=pe.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",Yo(t)),this.Ji.getDocumentsMatchingQuery(e,t,ki.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var pv=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new je(we),this._s=new Wr(o=>Kv(o),Qv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ev(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function pU(n,e,t,r){return new pv(n,e,t,r)}function UT(n,e){return T(this,null,function*(){let t=ie(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=me();for(let l of i){s.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of o){a.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return t.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function mU(n,e){let t=ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,f){let p=l.batch,y=p.keys(),w=k.resolve();return y.forEach(A=>{w=w.next(()=>f.getEntry(u,A)).next(M=>{let x=l.docVersions.get(A);Te(x!==null),M.version.compareTo(x)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),f.addEntry(M)))})}),w.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=me();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function jT(n){let e=ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function gU(n,e){let t=ie(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((f,p)=>{let y=i.get(p);if(!y)return;a.push(t.Ur.removeMatchingKeys(o,f.removedDocuments,p).next(()=>t.Ur.addMatchingKeys(o,f.addedDocuments,p)));let w=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?w=w.withResumeToken(gt.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):f.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(f.resumeToken,r)),i=i.insert(p,w),function(M,x,U){return M.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(y,w,f)&&a.push(t.Ur.updateTargetData(o,w))});let u=ar(),l=me();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,f))}),a.push(yU(o,s,e.documentUpdates).next(f=>{u=f.Ps,l=f.Is})),!r.isEqual(se.min())){let f=t.Ur.getLastRemoteSnapshotVersion(o).next(p=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(f)}return k.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.os=i,o))}function yU(n,e,t){let r=me(),i=me();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=ar();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(se.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):$("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function vU(n,e){let t=ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _U(n,e){let t=ie(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,k.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new cc(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function mv(n,e,t){return T(this,null,function*(){let r=ie(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!yc(s))throw s;$("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function YC(n,e,t){let r=ie(n),i=se.min(),o=me();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,f){let p=ie(u),y=p._s.get(f);return y!==void 0?k.resolve(p.os.get(y)):p.Ur.getTargetData(l,f)}(r,s,xn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:se.min(),t?o:me())).next(a=>(IU(r,k2(e),a),{documents:a,Ts:o})))}function IU(n,e,t){let r=n.us.get(e)||se.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}var qd=class{constructor(){this.activeTargetIds=B2()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var gv=class{constructor(){this.so=new qd,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new qd,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var yv=class{_o(e){}shutdown(){}};var zd=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){$("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){$("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Sd=null;function uy(){return Sd===null?Sd=function(){return 268435456+Math.round(2147483648*Math.random())}():Sd++,"0x"+Sd.toString(16)}var wU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var vv=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var pt="WebChannelConnection",_v=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){let a=uy(),u=this.xo(t,r.toUriEncodedString());$("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(t,u,l,i).then(f=>($("RestConnection",`Received RPC '${t}' ${a}: `,f),f),f=>{throw ns("RestConnection",`RPC '${t}' ${a} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(t,r,i,o,s,a){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ms}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){let i=wU[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let o=uy();return new Promise((s,a)=>{let u=new ry;u.setWithCredentials(!0),u.listenOnce(iy.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ya.NO_ERROR:let f=u.getResponseJson();$(pt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case Ya.TIMEOUT:$(pt,`RPC '${e}' ${o} timed out`),a(new W(P.DEADLINE_EXCEEDED,"Request time out"));break;case Ya.HTTP_ERROR:let p=u.getStatus();if($(pt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);let w=y?.error;if(w&&w.status&&w.message){let A=function(x){let U=x.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(U)>=0?U:P.UNKNOWN}(w.status);a(new W(A,w.message))}else a(new W(P.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new W(P.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{$(pt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);$(pt,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",l,r,15)})}Bo(e,t,r){let i=uy(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=ay(),a=sy(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let f=o.join("");$(pt,`Creating RPC '${e}' stream ${i}: ${f}`,u);let p=s.createWebChannel(f,u),y=!1,w=!1,A=new vv({Io:x=>{w?$(pt,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(y||($(pt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),$(pt,`RPC '${e}' stream ${i} sending:`,x),p.send(x))},To:()=>p.close()}),M=(x,U,te)=>{x.listen(U,H=>{try{te(H)}catch(J){setTimeout(()=>{throw J},0)}})};return M(p,Qo.EventType.OPEN,()=>{w||($(pt,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),M(p,Qo.EventType.CLOSE,()=>{w||(w=!0,$(pt,`RPC '${e}' stream ${i} transport closed`),A.So())}),M(p,Qo.EventType.ERROR,x=>{w||(w=!0,ns(pt,`RPC '${e}' stream ${i} transport errored:`,x),A.So(new W(P.UNAVAILABLE,"The operation could not be completed")))}),M(p,Qo.EventType.MESSAGE,x=>{var U;if(!w){let te=x.data[0];Te(!!te);let H=te,J=H.error||((U=H[0])===null||U===void 0?void 0:U.error);if(J){$(pt,`RPC '${e}' stream ${i} received error:`,J);let Se=J.status,ne=function(v){let I=Ke[v];if(I!==void 0)return MT(I)}(Se),E=J.message;ne===void 0&&(ne=P.INTERNAL,E="Unknown error status: "+Se+" with message "+J.message),w=!0,A.So(new W(ne,E)),p.close()}else $(pt,`RPC '${e}' stream ${i} received:`,te),A.bo(te)}}),M(a,oy.STAT_EVENT,x=>{x.stat===Cd.PROXY?$(pt,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Cd.NOPROXY&&$(pt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function ly(){return typeof document<"u"?document:null}function uh(n){return new qy(n,!0)}var Gd=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&$("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Wd=class{constructor(e,t,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Gd(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return T(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return T(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return T(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===P.RESOURCE_EXHAUSTED?(or(t.toString()),or("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new W(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>T(this,null,function*(){this.state=0,this.start()}))}I_(e){return $("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():($("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Iv=class extends Wd{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=nU(this.serializer,e),r=function(o){if(!("targetChange"in o))return se.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?se.min():s.readTime?Mn(s.readTime):se.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=Ky(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=Py(u)?{documents:oU(o,u)}:{query:sU(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=NT(o,s.resumeToken);let l=zy(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(se.min())>0){a.readTime=$d(o,s.snapshotVersion.toTimestamp());let l=zy(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=cU(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=Ky(this.serializer),t.removeTarget=e,this.a_(t)}},wv=class extends Wd{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Te(!!e.streamToken),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=iU(e.writeResults,e.commitTime),r=Mn(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=Ky(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>rU(this.serializer,r))};this.a_(t)}};var Ev=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new W(P.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Gy(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W(P.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,Gy(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new W(P.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},bv=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(or(t),this.D_=!1):$("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Dv=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>T(this,null,function*(){Bi(this)&&($("RemoteStore","Restarting streams for network reachability change."),yield function(u){return T(this,null,function*(){let l=ie(u);l.L_.add(4),yield vc(l),l.q_.set("Unknown"),l.L_.delete(4),yield lh(l)})}(this))}))}),this.q_=new bv(r,i)}};function lh(n){return T(this,null,function*(){if(Bi(n))for(let e of n.B_)yield e(!0)})}function vc(n){return T(this,null,function*(){for(let e of n.B_)yield e(!1)})}function BT(n,e){let t=ie(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),n_(t)?t_(t):ys(t).r_()&&e_(t,e))}function Xv(n,e){let t=ie(n),r=ys(t);t.N_.delete(e),r.r_()&&$T(t,e),t.N_.size===0&&(r.r_()?r.o_():Bi(t)&&t.q_.set("Unknown"))}function e_(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ys(n).A_(e)}function $T(n,e){n.Q_.xe(e),ys(n).R_(e)}function t_(n){n.Q_=new Hy({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),ys(n).start(),n.q_.v_()}function n_(n){return Bi(n)&&!ys(n).n_()&&n.N_.size>0}function Bi(n){return ie(n).L_.size===0}function HT(n){n.Q_=void 0}function EU(n){return T(this,null,function*(){n.q_.set("Online")})}function bU(n){return T(this,null,function*(){n.N_.forEach((e,t)=>{e_(n,e)})})}function DU(n,e){return T(this,null,function*(){HT(n),n_(n)?(n.q_.M_(e),t_(n)):n.q_.set("Unknown")})}function CU(n,e,t){return T(this,null,function*(){if(n.q_.set("Online"),e instanceof jd&&e.state===2&&e.cause)try{yield function(i,o){return T(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){$("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Kd(n,r)}else if(e instanceof es?n.Q_.Ke(e):e instanceof Ud?n.Q_.He(e):n.Q_.We(e),!t.isEqual(se.min()))try{let r=yield jT(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let f=o.N_.get(l);f&&o.N_.set(l,f.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let f=o.N_.get(u);if(!f)return;o.N_.set(u,f.withResumeToken(gt.EMPTY_BYTE_STRING,f.snapshotVersion)),$T(o,u);let p=new cc(f.target,u,l,f.sequenceNumber);e_(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){$("RemoteStore","Failed to raise snapshot:",r),yield Kd(n,r)}})}function Kd(n,e,t){return T(this,null,function*(){if(!yc(e))throw e;n.L_.add(1),yield vc(n),n.q_.set("Offline"),t||(t=()=>jT(n.localStore)),n.asyncQueue.enqueueRetryable(()=>T(this,null,function*(){$("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield lh(n)}))})}function qT(n,e){return e().catch(t=>Kd(n,t,e))}function dh(n){return T(this,null,function*(){let e=ie(n),t=Kr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;TU(e);)try{let i=yield vU(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,SU(e,i)}catch(i){yield Kd(e,i)}zT(e)&&GT(e)})}function TU(n){return Bi(n)&&n.O_.length<10}function SU(n,e){n.O_.push(e);let t=Kr(n);t.r_()&&t.V_&&t.m_(e.mutations)}function zT(n){return Bi(n)&&!Kr(n).n_()&&n.O_.length>0}function GT(n){Kr(n).start()}function AU(n){return T(this,null,function*(){Kr(n).p_()})}function RU(n){return T(this,null,function*(){let e=Kr(n);for(let t of n.O_)e.m_(t.mutations)})}function xU(n,e,t){return T(this,null,function*(){let r=n.O_.shift(),i=Uy.from(r,e,t);yield qT(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield dh(n)})}function MU(n,e){return T(this,null,function*(){e&&Kr(n).V_&&(yield function(r,i){return T(this,null,function*(){if(function(s){return K2(s)&&s!==P.ABORTED}(i.code)){let o=r.O_.shift();Kr(r).s_(),yield qT(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield dh(r)}})}(n,e)),zT(n)&&GT(n)})}function JC(n,e){return T(this,null,function*(){let t=ie(n);t.asyncQueue.verifyOperationInProgress(),$("RemoteStore","RemoteStore received new credentials");let r=Bi(t);t.L_.add(3),yield vc(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield lh(t)})}function NU(n,e){return T(this,null,function*(){let t=ie(n);e?(t.L_.delete(2),yield lh(t)):e||(t.L_.add(2),yield vc(t),t.q_.set("Unknown"))})}function ys(n){return n.K_||(n.K_=function(t,r,i){let o=ie(t);return o.w_(),new Iv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:EU.bind(null,n),Ro:bU.bind(null,n),mo:DU.bind(null,n),d_:CU.bind(null,n)}),n.B_.push(e=>T(this,null,function*(){e?(n.K_.s_(),n_(n)?t_(n):n.q_.set("Unknown")):(yield n.K_.stop(),HT(n))}))),n.K_}function Kr(n){return n.U_||(n.U_=function(t,r,i){let o=ie(t);return o.w_(),new wv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:AU.bind(null,n),mo:MU.bind(null,n),f_:RU.bind(null,n),g_:xU.bind(null,n)}),n.B_.push(e=>T(this,null,function*(){e?(n.U_.s_(),yield dh(n)):(yield n.U_.stop(),n.O_.length>0&&($("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var Cv=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function r_(n,e){if(or("AsyncQueue",`${e}: ${n}`),yc(n))return new W(P.UNAVAILABLE,`${e}: ${n}`);throw n}var Qd=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Y.comparator(t.key,r.key):(t,r)=>Y.comparator(t.key,r.key),this.keyedMap=Za(),this.sortedSet=new je(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Yd=class{constructor(){this.W_=new je(Y.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Z():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},hs=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Qd.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ah(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var Tv=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},Sv=class{constructor(){this.queries=ZC(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=ie(t),o=i.queries;i.queries=ZC(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new W(P.ABORTED,"Firestore shutting down"))}};function ZC(){return new Wr(n=>_T(n),ah)}function PU(n,e){return T(this,null,function*(){let t=ie(n),r=3,i=e.query,o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new Tv,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=r_(s,`Initialization of query '${Yo(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&i_(t)})}function OU(n,e){return T(this,null,function*(){let t=ie(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function kU(n,e){let t=ie(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&i_(t)}function FU(n,e,t){let r=ie(n),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(t);r.queries.delete(e)}function i_(n){n.Y_.forEach(e=>{e.next()})}var Av,XC;(XC=Av||(Av={})).ea="default",XC.Cache="cache";var Rv=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new hs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=hs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Av.Cache}};var Jd=class{constructor(e){this.key=e}},Zd=class{constructor(e){this.key=e}},xv=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=me(),this.mutatedKeys=me(),this.Aa=IT(e),this.Ra=new Qd(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new Yd,i=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{let y=i.get(f),w=ch(this.query,p)?p:null,A=!!y&&this.mutatedKeys.has(y.key),M=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations),x=!1;y&&w?y.data.isEqual(w.data)?A!==M&&(r.track({type:3,doc:w}),x=!0):this.ga(y,w)||(r.track({type:2,doc:w}),x=!0,(u&&this.Aa(w,u)>0||l&&this.Aa(w,l)<0)&&(a=!0)):!y&&w?(r.track({type:0,doc:w}),x=!0):y&&!w&&(r.track({type:1,doc:y}),x=!0,(u||l)&&(a=!0)),x&&(w?(s=s.add(w),o=M?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((f,p)=>function(w,A){let M=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z()}};return M(w)-M(A)}(f.type,p.type)||this.Aa(f.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new hs(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Yd,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=me(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new Zd(r))}),this.da.forEach(r=>{e.has(r)||t.push(new Jd(r))}),t}ba(e){this.Ta=e.Ts,this.da=me();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return hs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},Mv=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},Nv=class{constructor(e){this.key=e,this.va=!1}},Pv=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Wr(a=>_T(a),ah),this.Ma=new Map,this.xa=new Set,this.Oa=new je(Y.comparator),this.Na=new Map,this.La=new lc,this.Ba={},this.ka=new Map,this.qa=uc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function VU(n,e,t=!0){return T(this,null,function*(){let r=ZT(n),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield WT(r,e,t,!0),i})}function LU(n,e){return T(this,null,function*(){let t=ZT(n);yield WT(t,e,!0,!1)})}function WT(n,e,t,r){return T(this,null,function*(){let i=yield _U(n.localStore,xn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield UU(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&BT(n.remoteStore,i),a})}function UU(n,e,t,r,i){return T(this,null,function*(){n.Ka=(p,y,w)=>function(M,x,U,te){return T(this,null,function*(){let H=x.view.ma(U);H.ns&&(H=yield YC(M.localStore,x.query,!1).then(({documents:E})=>x.view.ma(E,H)));let J=te&&te.targetChanges.get(x.targetId),Se=te&&te.targetMismatches.get(x.targetId)!=null,ne=x.view.applyChanges(H,M.isPrimaryClient,J,Se);return tT(M,x.targetId,ne.wa),ne.snapshot})}(n,p,y,w);let o=yield YC(n.localStore,e,!0),s=new xv(e,o.Ts),a=s.ma(o.documents),u=ac.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);tT(n,t,l.wa);let f=new Mv(e,t,s);return n.Fa.set(e,f),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),l.snapshot})}function jU(n,e,t){return T(this,null,function*(){let r=ie(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!ah(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield mv(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Xv(r.remoteStore,i.targetId),Ov(r,i.targetId)}).catch(gc))):(Ov(r,i.targetId),yield mv(r.localStore,i.targetId,!0))})}function BU(n,e){return T(this,null,function*(){let t=ie(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Xv(t.remoteStore,r.targetId))})}function $U(n,e,t){return T(this,null,function*(){let r=QU(n);try{let i=yield function(s,a){let u=ie(s),l=ct.now(),f=a.reduce((w,A)=>w.add(A.key),me()),p,y;return u.persistence.runTransaction("Locally write mutations","readwrite",w=>{let A=ar(),M=me();return u.cs.getEntries(w,f).next(x=>{A=x,A.forEach((U,te)=>{te.isValidDocument()||(M=M.add(U))})}).next(()=>u.localDocuments.getOverlayedDocuments(w,A)).next(x=>{p=x;let U=[];for(let te of a){let H=W2(te,p.get(te.key).overlayedDocument);H!=null&&U.push(new cr(te.key,H,fT(H.value.mapValue),Pi.exists(!0)))}return u.mutationQueue.addMutationBatch(w,l,U,a)}).next(x=>{y=x;let U=x.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(w,x.batchId,U)})}).then(()=>({batchId:y.batchId,changes:ET(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new je(we)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,t),yield _c(r,i.changes),yield dh(r.remoteStore)}catch(i){let o=r_(i,"Failed to persist write");t.reject(o)}})}function KT(n,e){return T(this,null,function*(){let t=ie(n);try{let r=yield gU(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Na.get(o);s&&(Te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Te(s.va):i.removedDocuments.size>0&&(Te(s.va),s.va=!1))}),yield _c(t,r,e)}catch(r){yield gc(r)}})}function eT(n,e,t){let r=ie(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ie(s);u.onlineState=a;let l=!1;u.queries.forEach((f,p)=>{for(let y of p.j_)y.Z_(a)&&(l=!0)}),l&&i_(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function HU(n,e,t){return T(this,null,function*(){let r=ie(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new je(Y.comparator);s=s.insert(o,dn.newNoDocument(o,se.min()));let a=me().add(o),u=new Ld(se.min(),new Map,new je(we),s,a);yield KT(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),o_(r)}else yield mv(r.localStore,e,!1).then(()=>Ov(r,e,t)).catch(gc)})}function qU(n,e){return T(this,null,function*(){let t=ie(n),r=e.batch.batchId;try{let i=yield mU(t.localStore,e);YT(t,r,null),QT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield _c(t,i)}catch(i){yield gc(i)}})}function zU(n,e,t){return T(this,null,function*(){let r=ie(n);try{let i=yield function(s,a){let u=ie(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Te(p!==null),f=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})}(r.localStore,e);YT(r,e,t),QT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield _c(r,i)}catch(i){yield gc(i)}})}function QT(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function YT(n,e,t){let r=ie(n),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Ov(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||JT(n,r)})}function JT(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(Xv(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),o_(n))}function tT(n,e,t){for(let r of t)r instanceof Jd?(n.La.addReference(r.key,e),GU(n,r)):r instanceof Zd?($("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||JT(n,r.key)):Z()}function GU(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||($("SyncEngine","New document in limbo: "+t),n.xa.add(r),o_(n))}function o_(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new Y(Ue.fromString(e)),r=n.qa.next();n.Na.set(r,new Nv(t)),n.Oa=n.Oa.insert(t,r),BT(n.remoteStore,new cc(xn(Yv(t.path)),r,"TargetPurposeLimboResolution",uT.oe))}}function _c(n,e,t){return T(this,null,function*(){let r=ie(n),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,t).then(l=>{var f;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(f=t?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=dv.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return T(this,null,function*(){let f=ie(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>k.forEach(l,y=>k.forEach(y.$i,w=>f.persistence.referenceDelegate.addReference(p,y.targetId,w)).next(()=>k.forEach(y.Ui,w=>f.persistence.referenceDelegate.removeReference(p,y.targetId,w)))))}catch(p){if(!yc(p))throw p;$("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let y=p.targetId;if(!p.fromCache){let w=f.os.get(y),A=w.snapshotVersion,M=w.withLastLimboFreeSnapshotVersion(A);f.os=f.os.insert(y,M)}}})}(r.localStore,o))})}function WU(n,e){return T(this,null,function*(){let t=ie(n);if(!t.currentUser.isEqual(e)){$("SyncEngine","User change. New user:",e.toKey());let r=yield UT(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new W(P.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield _c(t,r.hs)}})}function KU(n,e){let t=ie(n),r=t.Na.get(e);if(r&&r.va)return me().add(r.key);{let i=me(),o=t.Ma.get(e);if(!o)return i;for(let s of o){let a=t.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function ZT(n){let e=ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=KT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HU.bind(null,e),e.Ca.d_=kU.bind(null,e.eventManager),e.Ca.$a=FU.bind(null,e.eventManager),e}function QU(n){let e=ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zU.bind(null,e),e}var nT=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return T(this,null,function*(){this.serializer=uh(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return pU(this.persistence,new fv,t.initialUser,this.serializer)}Ga(t){return new cv(lv.Zr,this.serializer)}Wa(t){return new gv}terminate(){return T(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var YU=(()=>{class n{initialize(t,r){return T(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>eT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=WU.bind(null,this.syncEngine),yield NU(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new Sv}()}createDatastore(t){let r=uh(t.databaseInfo.databaseId),i=function(s){return new _v(s)}(t.databaseInfo);return function(s,a,u,l){return new Ev(s,a,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new Dv(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>eT(this.syncEngine,r,0),function(){return zd.D()?new zd:new yv}())}createSyncEngine(t,r){return function(o,s,a,u,l,f,p){let y=new Pv(o,s,a,u,l,f);return p&&(y.Qa=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return T(this,null,function*(){var t,r;yield function(o){return T(this,null,function*(){let s=ie(o);$("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield vc(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var kv=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):or("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Fv=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=it.UNAUTHENTICATED,this.clientId=Md.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>T(this,null,function*(){$("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>($("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>T(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=r_(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function dy(n,e){return T(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),$("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>T(this,null,function*(){r.isEqual(i)||(yield UT(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function rT(n,e){return T(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield JU(n);$("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>JC(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>JC(e.remoteStore,i)),n._onlineComponents=e})}function JU(n){return T(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){$("FirestoreClient","Using user provided OfflineComponentProvider");try{yield dy(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===P.FAILED_PRECONDITION||i.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;ns("Error using user provided cache. Falling back to memory cache: "+t),yield dy(n,new nT)}}else $("FirestoreClient","Using default OfflineComponentProvider"),yield dy(n,new nT);return n._offlineComponents})}function XT(n){return T(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?($("FirestoreClient","Using user provided OnlineComponentProvider"),yield rT(n,n._uninitializedComponentsProvider._online)):($("FirestoreClient","Using default OnlineComponentProvider"),yield rT(n,new YU))),n._onlineComponents})}function ZU(n){return XT(n).then(e=>e.syncEngine)}function iT(n){return T(this,null,function*(){let e=yield XT(n),t=e.eventManager;return t.onListen=VU.bind(null,e.syncEngine),t.onUnlisten=jU.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=LU.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=BU.bind(null,e.syncEngine),t})}function eS(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var oT=new Map;function tS(n,e,t){if(!t)throw new W(P.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function XU(n,e,t,r){if(e===!0&&r===!0)throw new W(P.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function sT(n){if(!Y.isDocumentKey(n))throw new W(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function aT(n){if(Y.isDocumentKey(n))throw new W(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function s_(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Z()}function rc(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new W(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=s_(n);throw new W(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Xd=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new W(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new W(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new W(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new W(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new W(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},fs=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xd({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new W(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new hy;switch(r.type){case"firstParty":return new gy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new W(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return T(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=oT.get(t);r&&($("ComponentProvider","Removing Datastore"),oT.delete(t),r.terminate())}(this),Promise.resolve()}};function nS(n,e,t,r={}){var i;let o=(n=rc(n,fs))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ns("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=it.MOCK_USER;else{a=cd(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new W(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new it(l)}n._authCredentials=new fy(new xd(a,u))}}var eh=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Xt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},zr=class n extends eh{constructor(e,t,r){super(e,t,Yv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new Y(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function rS(n,e,...t){if(n=Nt(n),tS("collection","path",e),n instanceof fs){let r=Ue.fromString(e,...t);return aT(r),new zr(n,null,r)}{if(!(n instanceof Xt||n instanceof zr))throw new W(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ue.fromString(e,...t));return aT(r),new zr(n.firestore,null,r)}}function a_(n,e,...t){if(n=Nt(n),arguments.length===1&&(e=Md.newId()),tS("doc","path",e),n instanceof fs){let r=Ue.fromString(e,...t);return sT(r),new Xt(n,null,new Y(r))}{if(!(n instanceof Xt||n instanceof zr))throw new W(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ue.fromString(e,...t));return sT(r),new Xt(n.firestore,n instanceof zr?n.converter:null,new Y(r))}}var th=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Gd(this,"async_queue_retry"),this.Vu=()=>{let r=ly();r&&$("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=ly();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=ly();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new ir;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return T(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!yc(e))throw e;$("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw or("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=Cv.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&Z()}verifyOperationInProgress(){}wu(){return T(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function cT(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var ps=class extends fs{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new th,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return T(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new th(e),this._firestoreClient=void 0,yield e}})}};function iS(n,e){let t=typeof n=="object"?n:Ei(),r=typeof n=="string"?n:e||"(default)",i=Ha(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=ad("firestore");o&&nS(i,...o)}return i}function oS(n){if(n._terminated)throw new W(P.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||ej(n),n._firestoreClient}function ej(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,l,f){return new wy(a,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,eS(f.experimentalLongPollingOptions),f.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Fv(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var dc=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(gt.fromBase64String(e))}catch(t){throw new W(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var hc=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new W(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var fc=class{constructor(e){this._methodName=e}};var pc=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new W(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new W(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}};var mc=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var tj=/^__.*__$/,Vv=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new cr(e,this.data,this.fieldMask,t,this.fieldTransforms):new ji(e,this.data,t,this.fieldTransforms)}};function sS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}var Lv=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return nh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(sS(this.Cu)&&tj.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},Uv=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||uh(e)}Qu(e,t,r,i=!1){return new Lv({Cu:e,methodName:t,qu:r,path:qt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function nj(n){let e=n._freezeSettings(),t=uh(n._databaseId);return new Uv(n._databaseId,!!e.ignoreUndefinedProperties,t)}function rj(n,e,t,r,i,o={}){let s=n.Qu(o.merge||o.mergeFields?2:0,e,t,i);lS("Data must be an object, but it was:",s,r);let a=cS(r,s),u,l;if(o.merge)u=new An(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let p of o.mergeFields){let y=ij(e,p,t);if(!s.contains(y))throw new W(P.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);sj(f,y)||f.push(y)}u=new An(f),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new Vv(new ln(a),u,l)}var jv=class n extends fc{_toFieldTransform(e){return new ky(e.path,new Vi)}isEqual(e){return e instanceof n}};function aS(n,e){if(uS(n=Nt(n)))return lS("Unsupported field value:",e,n),cS(n,e);if(n instanceof fc)return function(r,i){if(!sS(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=aS(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ct.fromDate(r);return{timestampValue:$d(i.serializer,o)}}if(r instanceof ct){let o=new ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$d(i.serializer,o)}}if(r instanceof pc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof dc)return{bytesValue:NT(i.serializer,r._byteString)};if(r instanceof Xt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Zv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof mc)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return Jv(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${s_(r)}`)}(n,e)}function cS(n,e){let t={};return lT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gs(n,(r,i)=>{let o=aS(i,e.Mu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function uS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ct||n instanceof pc||n instanceof dc||n instanceof Xt||n instanceof fc||n instanceof mc)}function lS(n,e,t){if(!uS(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=s_(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function ij(n,e,t){if((e=Nt(e))instanceof hc)return e._internalPath;if(typeof e=="string")return dS(n,e);throw nh("Field path arguments must be of type string or ",n,!1,void 0,t)}var oj=new RegExp("[~\\*/\\[\\]]");function dS(n,e,t){if(e.search(oj)>=0)throw nh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new hc(...e.split("."))._internalPath}catch{throw nh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function nh(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new W(P.INVALID_ARGUMENT,a+n+u)}function sj(n,e){return n.some(t=>t.isEqual(e))}var rh=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Bv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(hS("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Bv=class extends rh{data(){return super.data()}};function hS(n,e){return typeof e=="string"?dS(n,e):e instanceof hc?e._internalPath:e._delegate._internalPath}function aj(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new W(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var $v=class{convertValue(e,t="none"){switch(Fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ne(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Z()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return gs(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ne(s.doubleValue));return new mc(o)}convertGeoPoint(e){return new pc(Ne(e.latitude),Ne(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Gv(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(oc(e));default:return null}}convertTimestamp(e){let t=sr(e);return new ct(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Ue.fromString(e);Te(LT(r));let i=new kd(r.get(1),r.get(3)),o=new Y(r.popFirst(5));return i.isEqual(t)||or(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function cj(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Ni=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ih=class extends rh{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ts(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(hS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},ts=class extends ih{data(e={}){return super.data(e)}},Hv=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ni(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ts(this._firestore,this._userDataWriter,r.key,r,new Ni(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new W(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new ts(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ni(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new ts(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ni(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,f=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),f=s.indexOf(a.doc.key)),{type:uj(a.type),doc:u,oldIndex:l,newIndex:f}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function uj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z()}}var oh=class extends $v{constructor(e){super(),this.firestore=e}convertBytes(e){return new dc(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,t)}};function fS(n,e){let t=rc(n.firestore,ps),r=a_(n),i=cj(n.converter,e);return lj(t,[rj(nj(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Pi.exists(!1))]).then(()=>r)}function c_(n,...e){var t,r,i;n=Nt(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||cT(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(cT(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,f;if(n instanceof Xt)l=rc(n.firestore,ps),f=Yv(n._key.path),u={next:p=>{e[s]&&e[s](dj(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=rc(n,eh);l=rc(p.firestore,ps),f=p._query;let y=new oh(l);u={next:w=>{e[s]&&e[s](new Hv(l,y,p,w))},error:e[s+1],complete:e[s+2]},aj(n._query)}return function(y,w,A,M){let x=new kv(M),U=new Rv(w,x,A);return y.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return PU(yield iT(y),U)})),()=>{x.Za(),y.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return OU(yield iT(y),U)}))}}(oS(l),f,a,u)}function lj(n,e){return function(r,i){let o=new ir;return r.asyncQueue.enqueueAndForget(()=>T(this,null,function*(){return $U(yield ZU(r),i,o)})),o.promise}(oS(n),e)}function dj(n,e,t){let r=t.docs.get(e._key),i=new oh(n);return new ih(n,i,e._key,r,new Ni(t.hasPendingWrites,t.fromCache),e.converter)}function pS(){return new jv("serverTimestamp")}(function(e,t=!0){(function(i){ms=i})(Br),Tn(new Pt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new ps(new py(r.getProvider("auth-internal")),new vy(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new W(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kd(l.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ve(xC,"4.7.3",e),Ve(xC,"4.7.3","esm2017")})();var hh=function(){return hh=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},hh.apply(this,arguments)};var pj={includeMetadataChanges:!1};function u_(n,e){return e===void 0&&(e=pj),new de(function(t){var r=c_(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function mS(n){return u_(n,{includeMetadataChanges:!0})}function gS(n,e){return e===void 0&&(e={}),mS(n).pipe(X(function(t){return l_(t,e)}))}function l_(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:hh(hh({},r),(t={},t[e.idField]=n.id,t))}function yS(n){return u_(n,{includeMetadataChanges:!0}).pipe(X(function(e){return e.docs}))}function vS(n,e){return e===void 0&&(e={}),yS(n).pipe(X(function(t){return t.map(function(r){return l_(r,e)})}))}var $i=class{constructor(e){return e}},_S="firestore",d_=class{constructor(){return Ci(_S)}};var h_=new Q("angularfire2.firestore-instances");function mj(n,e){let t=qa(_S,n,e);return t&&new $i(t)}function gj(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new $i(r)}}var yj={provide:d_,deps:[[new nt,h_]]},vj={provide:$i,useFactory:mj,deps:[[new nt,h_],nr]};function IS(n,...e){return Ve("angularfire",$r.full,"fst"),_n([vj,yj,{provide:h_,useFactory:gj(n),multi:!0,deps:[Ee,Et,Ti,Si,[new nt,Ko],[new nt,Di],...e]}])}var wS=Ht(vS,!0);var Ic=Ht(gS,!0);var ES=Ht(fS,!0);var f_=Ht(rS,!0);var wc=Ht(a_,!0);var bS=Ht(iS,!0);var DS=Ht(pS,!0);var en=(()=>{class n{constructor(){this.firestore=O($i),this.platformId=O(Yt)}getInformacionPersonal(){if(Nr(this.platformId)){let t=wc(this.firestore,"informacion_personal/main");return console.log("[SERVICE] Usando docData para informacion_personal/main"),Ic(t).pipe(X(r=>(console.log("[SERVICE] Datos recibidos de docData:",r),r)),Lt(r=>(console.error("[SERVICE] ERROR en docData para InformacionPersonal:",r),q(void 0))))}else return console.log("[SERVICE] getInformacionPersonal (SSR): Devolviendo undefined"),q(void 0)}getProyectos(){if(Nr(this.platformId)){let t=f_(this.firestore,"proyectos");return wS(t,{idField:"id"}).pipe(X(r=>r.map(i=>Ie(j({},i),{tecnologias:Array.isArray(i.tecnologias)?i.tecnologias:typeof i.tecnologias=="string"?i.tecnologias.split(",").map(o=>o.trim()):[]}))))}else return q([])}getHabilidadesTecnicas(){if(Nr(this.platformId)){let t=wc(this.firestore,"habilidades_tecnicas/hab_tec");return Ic(t).pipe(X(r=>r),Lt(r=>(console.error("[SERVICE] ERROR en docData para HabilidadesTecnicas:",r),q(void 0))))}else return q(void 0)}getHabilidadesBlandas(){if(Nr(this.platformId)){let t=wc(this.firestore,"habilidades_blandas/hab_blandas");return Ic(t).pipe(X(r=>r),Lt(r=>(console.error("[SERVICE] ERROR en docData para HabilidadesBlandas:",r),q(void 0))))}else return q(void 0)}getHobbies(){if(Nr(this.platformId)){let t=wc(this.firestore,"hobbies/hobbie");return Ic(t).pipe(X(r=>r),Lt(r=>(console.error("[SERVICE] ERROR en docData para Hobbies:",r),q(void 0))))}else return q(void 0)}enviarMensajeContacto(t){if(Nr(this.platformId)){let r=f_(this.firestore,"mensajes_contacto");return ES(r,Ie(j({},t),{fechaEnvio:DS()}))}else return console.warn("[SERVICE] enviarMensajeContacto no se ejecuta en el servidor"),Promise.resolve(void 0)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=K({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function _j(n,e){if(n&1&&(N(0,"div"),Rt(1,"img",31),R()),n&2){let t=Pe().ngIf;F(),Kp("alt","Foto de ",t.nombreCompleto,""),B("src",t.fotoUrl,Sr)}}function Ij(n,e){if(n&1&&(N(0,"a",32),L(1," GitHub "),R()),n&2){let t=Pe().ngIf;B("href",t.githubUrl,Sr)}}function wj(n,e){if(n&1&&(N(0,"a",33),L(1," Correo Electr\xF3nico "),R()),n&2){let t=Pe().ngIf;B("href","mailto:"+t.correoElectronico,Sr)}}function Ej(n,e){if(n&1&&(N(0,"section",25),G(1,_j,2,3,"div",26),N(2,"h1"),L(3),R(),N(4,"p",27),L(5),R(),N(6,"div",28),G(7,Ij,2,1,"a",29)(8,wj,2,1,"a",30),R()()),n&2){let t=e.ngIf;F(),B("ngIf",t.fotoUrl),F(2),Ut(t.nombreCompleto),F(2),Ut(t.profesion),F(2),B("ngIf",t.githubUrl),F(),B("ngIf",t.correoElectronico)}}function bj(n,e){n&1&&(N(0,"p",34),L(1,"Cargando informaci\xF3n..."),R())}function Dj(n,e){if(n&1&&(N(0,"div",37)(1,"div",38)(2,"div",39)(3,"h5",40),L(4),R(),N(5,"p",41),L(6),R(),N(7,"p")(8,"strong"),L(9,"Tecnolog\xEDas:"),R(),L(10),R(),N(11,"p")(12,"strong"),L(13,"Tipo:"),R(),L(14),R()(),N(15,"div",42)(16,"a",43),L(17," Ver proyecto "),R()()()()),n&2){let t=e.$implicit;F(4),Ut(t.titulo),F(2),Ut(t.descripcion),F(4),Oe(" ",t.tecnologias==null?null:t.tecnologias.join(", "),""),F(4),Oe(" ",t.tipo,""),F(2),B("href",t.url,Sr)}}function Cj(n,e){if(n&1&&(N(0,"div")(1,"div",35),G(2,Dj,18,5,"div",36),R()()),n&2){let t=Pe().ngIf;F(2),B("ngForOf",t)}}function Tj(n,e){n&1&&(N(0,"p",34),L(1,"No hay proyectos disponibles."),R())}function Sj(n,e){if(n&1&&(Ao(0),G(1,Cj,3,1,"div",10)(2,Tj,2,0,"ng-template",null,6,Ze),Ro()),n&2){let t=e.ngIf,r=Ge(3);F(),B("ngIf",t.length>0)("ngIfElse",r)}}function Aj(n,e){n&1&&(N(0,"p",34),L(1,"Cargando proyectos..."),R())}function Rj(n,e){if(n&1&&(N(0,"li",46)(1,"strong"),L(2),R(),L(3),R()),n&2){let t=e.$implicit;F(2),Oe("",t.key,":"),F(),Oe(" ",t.value," ")}}function xj(n,e){if(n&1&&(Ao(0),N(1,"ul",44),G(2,Rj,4,2,"li",45),ke(3,"keyvalue"),R(),Ro()),n&2){let t=e.ngIf;F(2),B("ngForOf",Fe(3,1,t))}}function Mj(n,e){n&1&&(N(0,"p",34),L(1,"Cargando habilidades t\xE9cnicas..."),R())}function Nj(n,e){if(n&1&&(N(0,"li",46)(1,"strong"),L(2),R(),L(3),R()),n&2){let t=e.$implicit;F(2),Oe("",t.key,":"),F(),Oe(" ",t.value," ")}}function Pj(n,e){if(n&1&&(Ao(0),N(1,"ul",44),G(2,Nj,4,2,"li",45),ke(3,"keyvalue"),R(),Ro()),n&2){let t=e.ngIf;F(2),B("ngForOf",Fe(3,1,t))}}function Oj(n,e){n&1&&(N(0,"p",34),L(1,"Cargando habilidades blandas..."),R())}function kj(n,e){if(n&1&&(N(0,"li",46)(1,"strong"),L(2),R(),L(3),R()),n&2){let t=e.$implicit;F(2),Oe("",t.key,":"),F(),Oe(" ",t.value," ")}}function Fj(n,e){if(n&1&&(Ao(0),N(1,"ul",44),G(2,kj,4,2,"li",45),ke(3,"keyvalue"),R(),Ro()),n&2){let t=e.ngIf;F(2),B("ngForOf",Fe(3,1,t))}}function Vj(n,e){n&1&&(N(0,"p",34),L(1,"Cargando hobbies..."),R())}function Lj(n,e){n&1&&(N(0,"div",47),L(1," \xA1Mensaje enviado correctamente! "),R())}function Uj(n,e){n&1&&(N(0,"div",48),L(1," Ocurri\xF3 un error al enviar el mensaje. Intenta nuevamente. "),R())}var CS=(()=>{class n{constructor(){this.portfolioService=O(en),this.contacto={nombre:"",correo:"",mensaje:""},this.cargando=!1,this.mensajeEnviado=!1,this.errorEnvio=!1}ngOnInit(){this.informacionPersonal$=this.portfolioService.getInformacionPersonal(),this.proyectos$=this.portfolioService.getProyectos(),this.habilidadesTec$=this.portfolioService.getHabilidadesTecnicas(),this.habilidadesBlandas$=this.portfolioService.getHabilidadesBlandas(),this.hobbies$=this.portfolioService.getHobbies()}enviarMensaje(){this.cargando=!0,this.mensajeEnviado=!1,this.errorEnvio=!1,this.portfolioService.enviarMensajeContacto(this.contacto).then(()=>{this.mensajeEnviado=!0,this.contacto={nombre:"",correo:"",mensaje:""}}).catch(()=>{this.errorEnvio=!0}).finally(()=>{this.cargando=!1})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ze({type:n,selectors:[["app-home"]],standalone:!0,features:[We],decls:56,vars:27,consts:[["cargandoInfo",""],["cargandoProyectos",""],["cargandoTec",""],["cargandoBlandas",""],["cargandoHobbies",""],["formContacto","ngForm"],["sinProyectos",""],["class","text-center py-5",4,"ngIf","ngIfElse"],[1,"py-5"],[1,"mb-4","text-center"],[4,"ngIf","ngIfElse"],[1,"py-5","bg-light"],[1,"mx-auto",2,"max-width","600px",3,"ngSubmit"],[1,"form-group","mb-3"],["for","nombre"],["type","text","id","nombre","required","","name","nombre",1,"form-control",3,"ngModelChange","ngModel"],["for","correo"],["type","email","id","correo","required","","name","correo",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-group","mb-4"],["for","mensaje"],["id","mensaje","rows","5","required","","name","mensaje",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],["class","mt-3 text-success",4,"ngIf"],["class","mt-3 text-danger",4,"ngIf"],[1,"mt-5"],[1,"text-center","py-5"],[4,"ngIf"],[1,"lead"],[1,"mt-3"],["target","_blank","rel","noopener noreferrer","class","btn btn-dark m-1",3,"href",4,"ngIf"],["class","btn btn-outline-primary m-1",3,"href",4,"ngIf"],[1,"img-fluid","rounded-circle","mb-3",2,"width","150px","height","150px","object-fit","cover",3,"src","alt"],["target","_blank","rel","noopener noreferrer",1,"btn","btn-dark","m-1",3,"href"],[1,"btn","btn-outline-primary","m-1",3,"href"],[1,"text-center"],[1,"row"],["class","col-md-6 mb-4",4,"ngFor","ngForOf"],[1,"col-md-6","mb-4"],[1,"card","h-100"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"card-footer","text-right"],["target","_blank",1,"btn","btn-primary","btn-sm",3,"href"],[1,"list-group","list-group-flush"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"mt-3","text-success"],[1,"mt-3","text-danger"]],template:function(r,i){if(r&1){let o=M0();G(0,Ej,9,5,"section",7),ke(1,"async"),G(2,bj,2,0,"ng-template",null,0,Ze),N(4,"section",8)(5,"h2",9),L(6,"Proyectos"),R(),G(7,Sj,4,2,"ng-container",10),ke(8,"async"),R(),G(9,Aj,2,0,"ng-template",null,1,Ze),N(11,"section",11)(12,"h2",9),L(13,"Habilidades T\xE9cnicas"),R(),G(14,xj,4,3,"ng-container",10),ke(15,"async"),G(16,Mj,2,0,"ng-template",null,2,Ze),R(),N(18,"section",8)(19,"h2",9),L(20,"Habilidades Blandas"),R(),G(21,Pj,4,3,"ng-container",10),ke(22,"async"),G(23,Oj,2,0,"ng-template",null,3,Ze),R(),N(25,"section",11)(26,"h2",9),L(27,"Hobbies"),R(),G(28,Fj,4,3,"ng-container",10),ke(29,"async"),G(30,Vj,2,0,"ng-template",null,4,Ze),R(),N(32,"section",8)(33,"h2",9),L(34,"Contacto"),R(),N(35,"form",12,5),In("ngSubmit",function(){return na(o),ra(i.enviarMensaje())}),N(37,"div",13)(38,"label",14),L(39,"Nombre"),R(),N(40,"input",15),sa("ngModelChange",function(a){return na(o),yl(i.contacto.nombre,a)||(i.contacto.nombre=a),ra(a)}),R()(),N(41,"div",13)(42,"label",16),L(43,"Correo electr\xF3nico"),R(),N(44,"input",17),sa("ngModelChange",function(a){return na(o),yl(i.contacto.correo,a)||(i.contacto.correo=a),ra(a)}),R()(),N(45,"div",18)(46,"label",19),L(47,"Mensaje"),R(),N(48,"textarea",20),sa("ngModelChange",function(a){return na(o),yl(i.contacto.mensaje,a)||(i.contacto.mensaje=a),ra(a)}),R()(),N(49,"button",21),L(50),R(),G(51,Lj,2,0,"div",22)(52,Uj,2,0,"div",23),R()(),N(53,"footer",24)(54,"p"),L(55,"\xA9 2025 Andres Mauricio Guillen Donado. Todos los derechos reservados."),R()()}if(r&2){let o=Ge(3),s=Ge(10),a=Ge(17),u=Ge(24),l=Ge(31),f=Ge(36);B("ngIf",Fe(1,17,i.informacionPersonal$))("ngIfElse",o),F(7),B("ngIf",Fe(8,19,i.proyectos$))("ngIfElse",s),F(7),B("ngIf",Fe(15,21,i.habilidadesTec$))("ngIfElse",a),F(7),B("ngIf",Fe(22,23,i.habilidadesBlandas$))("ngIfElse",u),F(7),B("ngIf",Fe(29,25,i.hobbies$))("ngIfElse",l),F(12),oa("ngModel",i.contacto.nombre),F(4),oa("ngModel",i.contacto.correo),F(4),oa("ngModel",i.contacto.mensaje),F(),B("disabled",i.cargando||!f.valid),F(),Oe(" ",i.cargando?"Enviando...":"Enviar mensaje"," "),F(),B("ngIf",i.mensajeEnviado),F(),B("ngIf",i.errorEnvio)}},dependencies:[Dt,wn,Jt,En,Mr,PD,id,qo,ed,td,yg,pg,fg]})}}return n})();function jj(n,e){if(n&1&&(N(0,"li",20)(1,"span",21),L(2),R()()),n&2){let t=e.$implicit;F(2),Ut(t)}}function Bj(n,e){if(n&1&&(N(0,"div")(1,"strong"),L(2,"Tecnolog\xEDas:"),R(),N(3,"ul",18),G(4,jj,3,1,"li",19),R()()),n&2){let t=Pe().$implicit,r=Pe(3);F(4),B("ngForOf",r.getTecnologiasArray(t.tecnologias))}}function $j(n,e){if(n&1&&(N(0,"a",22),L(1,"Ver Demo/Proyecto"),R()),n&2){let t=Pe().$implicit;B("href",t.url,Sr)}}function Hj(n,e){if(n&1&&(N(0,"a",23),L(1,"GitHub"),R()),n&2){let t=Pe().$implicit;B("href",t.githubUrl,Sr)}}function qj(n,e){if(n&1&&(N(0,"div",8)(1,"div",9)(2,"div",10)(3,"h5",11),L(4),R(),N(5,"h6",12),L(6),R(),N(7,"p",13),L(8),R(),G(9,Bj,5,1,"div",14),N(10,"div",15),G(11,$j,2,1,"a",16)(12,Hj,2,1,"a",17),R()()()()),n&2){let t=e.$implicit,r=Pe(3);F(4),Ut(t.titulo),F(2),Ut(t.tipo),F(2),Ut(t.descripcion),F(),B("ngIf",r.getTecnologiasArray(t.tecnologias).length>0),F(2),B("ngIf",t.url),F(),B("ngIf",t.githubUrl)}}function zj(n,e){if(n&1&&(N(0,"div",6),G(1,qj,13,6,"div",7),R()),n&2){let t=Pe().ngIf;F(),B("ngForOf",t)}}function Gj(n,e){n&1&&(N(0,"p",24),L(1,"A\xFAn no hay proyectos para mostrar."),R())}function Wj(n,e){if(n&1&&(N(0,"div"),G(1,zj,2,1,"div",5)(2,Gj,2,0,"ng-template",null,1,Ze),R()),n&2){let t=e.ngIf,r=Ge(3);F(),B("ngIf",t.length>0)("ngIfElse",r)}}function Kj(n,e){n&1&&(N(0,"p",24),L(1,"Cargando proyectos..."),R())}var TS=(()=>{class n{constructor(){this.portfolioService=O(en)}ngOnInit(){this.proyectos$=this.portfolioService.getProyectos()}getTecnologiasArray(t){return Array.isArray(t)?t:typeof t=="string"&&t.trim()!==""?t.split(",").map(r=>r.trim()):[]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ze({type:n,selectors:[["app-experience"]],standalone:!0,features:[We],decls:7,vars:4,consts:[["cargandoProyectos",""],["sinProyectos",""],[1,"py-5"],[1,"text-center","mb-4"],[4,"ngIf","ngIfElse"],["class","row",4,"ngIf","ngIfElse"],[1,"row"],["class","col-md-6 col-lg-4 mb-4",4,"ngFor","ngForOf"],[1,"col-md-6","col-lg-4","mb-4"],[1,"card","h-100"],[1,"card-body","d-flex","flex-column"],[1,"card-title"],[1,"card-subtitle","mb-2","text-muted"],[1,"card-text","flex-grow-1"],[4,"ngIf"],[1,"mt-auto"],["target","_blank","rel","noopener noreferrer","class","btn btn-primary btn-sm me-2",3,"href",4,"ngIf"],["target","_blank","rel","noopener noreferrer","class","btn btn-outline-dark btn-sm",3,"href",4,"ngIf"],[1,"list-inline"],["class","list-inline-item",4,"ngFor","ngForOf"],[1,"list-inline-item"],[1,"badge","bg-secondary"],["target","_blank","rel","noopener noreferrer",1,"btn","btn-primary","btn-sm","me-2",3,"href"],["target","_blank","rel","noopener noreferrer",1,"btn","btn-outline-dark","btn-sm",3,"href"],[1,"text-center"]],template:function(r,i){if(r&1&&(N(0,"section",2)(1,"h2",3),L(2,"Experiencia y Proyectos"),R(),G(3,Wj,4,2,"div",4),ke(4,"async"),G(5,Kj,2,0,"ng-template",null,0,Ze),R()),r&2){let o=Ge(6);F(3),B("ngIf",Fe(4,2,i.proyectos$))("ngIfElse",o)}},dependencies:[Dt,wn,Jt,En]})}}return n})();function Qj(n,e){if(n&1&&(N(0,"div",8)(1,"strong"),L(2),R(),L(3),R()),n&2){let t=e.$implicit;F(2),Oe("",t.key,":"),F(),Oe(" ",t.value," ")}}function Yj(n,e){if(n&1&&(N(0,"div",6),G(1,Qj,4,2,"div",7),ke(2,"keyvalue"),R()),n&2){let t=Pe().ngIf;F(),B("ngForOf",Fe(2,1,t))}}function Jj(n,e){n&1&&(N(0,"p",9),L(1,"No hay habilidades t\xE9cnicas para mostrar."),R())}function Zj(n,e){if(n&1&&(N(0,"div"),G(1,Yj,3,3,"div",5),ke(2,"keyvalue"),G(3,Jj,2,0,"ng-template",null,1,Ze),R()),n&2){let t=e.ngIf,r=Ge(4);F(),B("ngIf",t&&Fe(2,2,t).length>0)("ngIfElse",r)}}function Xj(n,e){n&1&&(N(0,"p",9),L(1,"Cargando habilidades t\xE9cnicas..."),R())}var SS=(()=>{class n{constructor(){this.portfolioService=O(en)}ngOnInit(){this.habilidadesTecnicas$=this.portfolioService.getHabilidadesTecnicas()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ze({type:n,selectors:[["app-technical-skills"]],standalone:!0,features:[We],decls:7,vars:4,consts:[["cargandoSkills",""],["sinSkills",""],[1,"py-5"],[1,"text-center","mb-4"],[4,"ngIf","ngIfElse"],["class","list-group",4,"ngIf","ngIfElse"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"text-center"]],template:function(r,i){if(r&1&&(N(0,"section",2)(1,"h2",3),L(2,"Habilidades T\xE9cnicas"),R(),G(3,Zj,5,4,"div",4),ke(4,"async"),G(5,Xj,2,0,"ng-template",null,0,Ze),R()),r&2){let o=Ge(6);F(3),B("ngIf",Fe(4,2,i.habilidadesTecnicas$))("ngIfElse",o)}},dependencies:[Dt,wn,Jt,En,Mr]})}}return n})();function eB(n,e){if(n&1&&(N(0,"div",8)(1,"strong"),L(2),R(),N(3,"p",9),L(4),R()()),n&2){let t=e.$implicit;F(2),Oe("",t.key,":"),F(2),Ut(t.value)}}function tB(n,e){if(n&1&&(N(0,"div",6),G(1,eB,5,2,"div",7),ke(2,"keyvalue"),R()),n&2){let t=Pe().ngIf;F(),B("ngForOf",Fe(2,1,t))}}function nB(n,e){n&1&&(N(0,"p",10),L(1,"No hay habilidades blandas para mostrar."),R())}function rB(n,e){if(n&1&&(N(0,"div"),G(1,tB,3,3,"div",5),ke(2,"keyvalue"),G(3,nB,2,0,"ng-template",null,1,Ze),R()),n&2){let t=e.ngIf,r=Ge(4);F(),B("ngIf",t&&Fe(2,2,t).length>0)("ngIfElse",r)}}function iB(n,e){n&1&&(N(0,"p",10),L(1,"Cargando habilidades blandas..."),R())}var AS=(()=>{class n{constructor(){this.portfolioService=O(en)}ngOnInit(){this.habilidadesBlandas$=this.portfolioService.getHabilidadesBlandas()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ze({type:n,selectors:[["app-soft-skills"]],standalone:!0,features:[We],decls:7,vars:4,consts:[["cargandoSkills",""],["sinSkills",""],[1,"py-5"],[1,"text-center","mb-4"],[4,"ngIf","ngIfElse"],["class","list-group",4,"ngIf","ngIfElse"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[2,"white-space","pre-line"],[1,"text-center"]],template:function(r,i){if(r&1&&(N(0,"section",2)(1,"h2",3),L(2,"Habilidades Blandas"),R(),G(3,rB,5,4,"div",4),ke(4,"async"),G(5,iB,2,0,"ng-template",null,0,Ze),R()),r&2){let o=Ge(6);F(3),B("ngIf",Fe(4,2,i.habilidadesBlandas$))("ngIfElse",o)}},dependencies:[Dt,wn,Jt,En,Mr]})}}return n})();function oB(n,e){if(n&1&&(N(0,"div",8)(1,"strong"),L(2),R(),L(3),R()),n&2){let t=e.$implicit;F(2),Oe("",t.key,":"),F(),Oe(" ",t.value," ")}}function sB(n,e){if(n&1&&(N(0,"div",6),G(1,oB,4,2,"div",7),ke(2,"keyvalue"),R()),n&2){let t=Pe().ngIf;F(),B("ngForOf",Fe(2,1,t))}}function aB(n,e){n&1&&(N(0,"p",9),L(1,"No hay hobbies para mostrar."),R())}function cB(n,e){if(n&1&&(N(0,"div"),G(1,sB,3,3,"div",5),ke(2,"keyvalue"),G(3,aB,2,0,"ng-template",null,1,Ze),R()),n&2){let t=e.ngIf,r=Ge(4);F(),B("ngIf",t&&Fe(2,2,t).length>0)("ngIfElse",r)}}function uB(n,e){n&1&&(N(0,"p",9),L(1,"Cargando hobbies..."),R())}var RS=(()=>{class n{constructor(){this.portfolioService=O(en)}ngOnInit(){this.hobbies$=this.portfolioService.getHobbies()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ze({type:n,selectors:[["app-hobbies"]],standalone:!0,features:[We],decls:7,vars:4,consts:[["cargandoHobbies",""],["sinHobbies",""],[1,"py-5"],[1,"text-center","mb-4"],[4,"ngIf","ngIfElse"],["class","list-group",4,"ngIf","ngIfElse"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"text-center"]],template:function(r,i){if(r&1&&(N(0,"section",2)(1,"h2",3),L(2,"Hobbies"),R(),G(3,cB,5,4,"div",4),ke(4,"async"),G(5,uB,2,0,"ng-template",null,0,Ze),R()),r&2){let o=Ge(6);F(3),B("ngIf",Fe(4,2,i.hobbies$))("ngIfElse",o)}},dependencies:[Dt,wn,Jt,En,Mr]})}}return n})();var p_=n=>({"is-invalid":n});function lB(n,e){n&1&&(N(0,"div"),L(1,"El nombre es requerido."),R())}function dB(n,e){n&1&&(N(0,"div"),L(1,"El nombre debe tener al menos 3 caracteres."),R())}function hB(n,e){if(n&1&&(N(0,"div",17),G(1,lB,2,0,"div",18)(2,dB,2,0,"div",18),R()),n&2){let t,r,i=Pe();F(),B("ngIf",(t=i.contactForm.get("nombre"))==null||t.errors==null?null:t.errors.required),F(),B("ngIf",(r=i.contactForm.get("nombre"))==null||r.errors==null?null:r.errors.minlength)}}function fB(n,e){n&1&&(N(0,"div"),L(1,"El correo es requerido."),R())}function pB(n,e){n&1&&(N(0,"div"),L(1,"Ingresa un correo v\xE1lido."),R())}function mB(n,e){if(n&1&&(N(0,"div",17),G(1,fB,2,0,"div",18)(2,pB,2,0,"div",18),R()),n&2){let t,r,i=Pe();F(),B("ngIf",(t=i.contactForm.get("correo"))==null||t.errors==null?null:t.errors.required),F(),B("ngIf",(r=i.contactForm.get("correo"))==null||r.errors==null?null:r.errors.email)}}function gB(n,e){n&1&&(N(0,"div"),L(1,"El mensaje es requerido."),R())}function yB(n,e){n&1&&(N(0,"div"),L(1,"El mensaje debe tener al menos 10 caracteres."),R())}function vB(n,e){if(n&1&&(N(0,"div",17),G(1,gB,2,0,"div",18)(2,yB,2,0,"div",18),R()),n&2){let t,r,i=Pe();F(),B("ngIf",(t=i.contactForm.get("mensaje"))==null||t.errors==null?null:t.errors.required),F(),B("ngIf",(r=i.contactForm.get("mensaje"))==null||r.errors==null?null:r.errors.minlength)}}function _B(n,e){n&1&&(N(0,"div",19),L(1," \xA1Mensaje enviado con \xE9xito! Gracias por contactarme. "),R())}function IB(n,e){if(n&1&&(N(0,"div",20),L(1),R()),n&2){let t=Pe();F(),Oe(" ",t.errorAlEnviar," ")}}function wB(n,e){n&1&&Rt(0,"span",21)}var xS=(()=>{class n{constructor(){this.fb=O(ND),this.portfolioService=O(en),this.mensajeEnviado=!1,this.errorAlEnviar=null,this.enviando=!1,this.contactForm=this.fb.group({nombre:["",[Zn.required,Zn.minLength(3)]],correo:["",[Zn.required,Zn.email]],mensaje:["",[Zn.required,Zn.minLength(10)]]})}onSubmit(){return T(this,null,function*(){if(this.contactForm.valid){this.enviando=!0,this.mensajeEnviado=!1,this.errorAlEnviar=null;try{yield this.portfolioService.enviarMensajeContacto(this.contactForm.value),this.mensajeEnviado=!0,this.contactForm.reset()}catch(t){console.error("Error al enviar mensaje:",t),this.errorAlEnviar="Hubo un problema al enviar tu mensaje. Intenta m\xE1s tarde."}finally{this.enviando=!1}}else this.contactForm.markAllAsTouched()})}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ze({type:n,selectors:[["app-contact-form"]],standalone:!0,features:[We],decls:26,vars:18,consts:[[1,"py-5"],[1,"text-center","mb-4"],[1,"row","justify-content-center"],[1,"col-md-8","col-lg-6"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","formControlName","nombre",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","correo",1,"form-label"],["type","email","id","correo","formControlName","correo",1,"form-control",3,"ngClass"],["for","mensaje",1,"form-label"],["id","mensaje","formControlName","mensaje","rows","5",1,"form-control",3,"ngClass"],["class","alert alert-success",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"alert","alert-success"],[1,"alert","alert-danger"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(r,i){if(r&1&&(N(0,"section",0)(1,"h2",1),L(2,"Contacto"),R(),N(3,"div",2)(4,"div",3)(5,"form",4),In("ngSubmit",function(){return i.onSubmit()}),N(6,"div",5)(7,"label",6),L(8,"Nombre"),R(),Rt(9,"input",7),G(10,hB,3,2,"div",8),R(),N(11,"div",5)(12,"label",9),L(13,"Correo Electr\xF3nico"),R(),Rt(14,"input",10),G(15,mB,3,2,"div",8),R(),N(16,"div",5)(17,"label",11),L(18,"Mensaje"),R(),Rt(19,"textarea",12),G(20,vB,3,2,"div",8),R(),G(21,_B,2,0,"div",13)(22,IB,2,1,"div",14),N(23,"button",15),G(24,wB,1,0,"span",16),L(25),R()()()()()),r&2){let o,s,a,u,l,f;F(5),B("formGroup",i.contactForm),F(4),B("ngClass",vl(12,p_,((o=i.contactForm.get("nombre"))==null?null:o.invalid)&&((o=i.contactForm.get("nombre"))==null?null:o.touched))),F(),B("ngIf",((s=i.contactForm.get("nombre"))==null?null:s.invalid)&&((s=i.contactForm.get("nombre"))==null?null:s.touched)),F(4),B("ngClass",vl(14,p_,((a=i.contactForm.get("correo"))==null?null:a.invalid)&&((a=i.contactForm.get("correo"))==null?null:a.touched))),F(),B("ngIf",((u=i.contactForm.get("correo"))==null?null:u.invalid)&&((u=i.contactForm.get("correo"))==null?null:u.touched)),F(4),B("ngClass",vl(16,p_,((l=i.contactForm.get("mensaje"))==null?null:l.invalid)&&((l=i.contactForm.get("mensaje"))==null?null:l.touched))),F(),B("ngIf",((f=i.contactForm.get("mensaje"))==null?null:f.invalid)&&((f=i.contactForm.get("mensaje"))==null?null:f.touched)),F(),B("ngIf",i.mensajeEnviado),F(),B("ngIf",i.errorAlEnviar),F(),B("disabled",i.contactForm.invalid||i.enviando),F(),B("ngIf",i.enviando),F(),Oe(" ",i.enviando?"Enviando...":"Enviar Mensaje"," ")}},dependencies:[Dt,X0,Jt,OD,id,qo,ed,td,mg,gg]})}}return n})();var MS=[{path:"home",component:CS,title:"Inicio | Tu Nombre"},{path:"experiencia",component:TS,title:"Experiencia | Tu Nombre"},{path:"habilidades-tecnicas",component:SS,title:"Habilidades T\xE9cnicas | Tu Nombre"},{path:"habilidades-blandas",component:AS,title:"Habilidades Blandas | Tu Nombre"},{path:"hobbies",component:RS,title:"Hobbies | Tu Nombre"},{path:"contacto",component:xS,title:"Contacto | Tu Nombre"},{path:"",redirectTo:"/home",pathMatch:"full"}];var NS={production:!1,firebase:{apiKey:"AIzaSyDL0jIDVLORlQnkYBRdry3z7sx5I-zD-C8",authDomain:"clase-hermes.firebaseapp.com",projectId:"clase-hermes",storageBucket:"clase-hermes.appspot.com",messagingSenderId:"142897730170",appId:"1:142897730170:web:74d50a9eb6d3c0ac3ba1c3",measurementId:"G-HTGTBJL342"}};var LS="firebasestorage.googleapis.com",EB="storageBucket",bB=2*60*1e3,DB=10*60*1e3;var On=class n extends Mt{constructor(e,t,r=0){super(m_(e),`Firebase Storage: ${t} (${m_(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,n.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return m_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},lr=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(lr||{});function m_(n){return"storage/"+n}function CB(){let n="An unknown error occurred, please check the error payload for server response.";return new On(lr.UNKNOWN,n)}function TB(){return new On(lr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function SB(){return new On(lr.CANCELED,"User canceled the upload/download.")}function AB(n){return new On(lr.INVALID_URL,"Invalid URL '"+n+"'.")}function RB(n){return new On(lr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function PS(n){return new On(lr.INVALID_ARGUMENT,n)}function US(){return new On(lr.APP_DELETED,"The Firebase app was deleted.")}function xB(n){return new On(lr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var ur=class n{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=n.makeFromUrl(e,t)}catch{return new n(e,"")}if(r.path==="")return r;throw RB(e)}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(J){J.path.charAt(J.path.length-1)==="/"&&(J.path_=J.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),u={bucket:1,path:3};function l(J){J.path_=decodeURIComponent(J.path)}let f="v[A-Za-z0-9_]+",p=t.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",w=new RegExp(`^https?://${p}/${f}/b/${i}/o${y}`,"i"),A={bucket:1,path:3},M=t===LS?"(?:storage.googleapis.com|storage.cloud.google.com)":t,x="([^?#]*)",U=new RegExp(`^https?://${M}/${i}/${x}`,"i"),H=[{regex:a,indices:u,postModify:o},{regex:w,indices:A,postModify:l},{regex:U,indices:{bucket:1,path:2},postModify:l}];for(let J=0;J<H.length;J++){let Se=H[J],ne=Se.regex.exec(e);if(ne){let E=ne[Se.indices.bucket],g=ne[Se.indices.path];g||(g=""),r=new n(E,g),Se.postModify(r);break}}if(r==null)throw AB(e);return r}},g_=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function MB(n,e,t){let r=1,i=null,o=null,s=!1,a=0;function u(){return a===2}let l=!1;function f(...x){l||(l=!0,e.apply(null,x))}function p(x){i=setTimeout(()=>{i=null,n(w,u())},x)}function y(){o&&clearTimeout(o)}function w(x,...U){if(l){y();return}if(x){y(),f.call(null,x,...U);return}if(u()||s){y(),f.call(null,x,...U);return}r<64&&(r*=2);let H;a===1?(a=2,H=0):H=(r+Math.random())*1e3,p(H)}let A=!1;function M(x){A||(A=!0,y(),!l&&(i!==null?(x||(a=2),clearTimeout(i),p(0)):x||(a=1)))}return p(0),o=setTimeout(()=>{s=!0,M(!0)},t),M}function NB(n){n(!1)}function PB(n){return n!==void 0}function OS(n,e,t,r){if(r<e)throw PS(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw PS(`Invalid value for '${n}'. Expected ${t} or less.`)}function OB(n){let e=encodeURIComponent,t="?";for(let r in n)if(n.hasOwnProperty(r)){let i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var y_=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(y_||{});function kB(n,e){let t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||i||o}var v_=class{constructor(e,t,r,i,o,s,a,u,l,f,p,y=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=f,this.connectionFactory_=p,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,A)=>{this.resolve_=w,this.reject_=A,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new vs(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let u=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===y_.NO_ERROR,u=o.getStatus();if(!a||kB(u,this.additionalRetryCodes_)&&this.retry){let f=o.getErrorCode()===y_.ABORT;r(!1,new vs(!1,null,f));return}let l=this.successCodes_.indexOf(u)!==-1;r(!0,new vs(l,o))})},t=(r,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let u=this.callback_(a,a.getResponse());PB(u)?o(u):o()}catch(u){s(u)}else if(a!==null){let u=CB();u.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,u)):s(u)}else if(i.canceled){let u=this.appDelete_?US():SB();s(u)}else{let u=TB();s(u)}};this.canceled_?t(!1,new vs(!1,null,!0)):this.backoffId_=MB(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&NB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},vs=class{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}};function FB(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function VB(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function LB(n,e){e&&(n["X-Firebase-GMPID"]=e)}function UB(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function jB(n,e,t,r,i,o,s=!0){let a=OB(n.urlParams),u=n.url+a,l=Object.assign({},n.headers);return LB(l,e),FB(l,t),VB(l,o),UB(l,r),new v_(u,n.method,l,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,s)}function BB(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function $B(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}var HK=256*1024;var __=class n{constructor(e,t){this._service=e,t instanceof ur?this._location=t:this._location=ur.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new n(e,t)}get root(){let e=new ur(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return $B(this._location.path)}get storage(){return this._service}get parent(){let e=BB(this._location.path);if(e===null)return null;let t=new ur(this._location.bucket,e);return new n(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw xB(e)}};function kS(n,e){let t=e?.[EB];return t==null?null:ur.makeFromBucketSpec(t,n)}function HB(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";let{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:cd(i,n.app.options.projectId))}var I_=class{constructor(e,t,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=LS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=bB,this._maxUploadRetryTime=DB,this._requests=new Set,i!=null?this._bucket=ur.makeFromBucketSpec(i,this._host):this._bucket=kS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ur.makeFromBucketSpec(this._url,e):this._bucket=kS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){OS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){OS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return T(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=yield e.getToken();if(t!==null)return t.accessToken}return null})}_getAppCheckToken(){return T(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new __(this,e)}_makeRequest(e,t,r,i,o=!0){if(this._deleted)return new g_(US());{let s=jB(e,this._appId,r,i,t,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){return T(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()})}},FS="@firebase/storage",VS="0.13.2";var jS="storage";function BS(n=Ei(),e){n=Nt(n);let r=Ha(n,jS).getImmediate({identifier:e}),i=ad("storage");return i&&$S(r,...i),r}function $S(n,e,t,r={}){HB(n,e,t,r)}function qB(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new I_(t,r,i,e,Br)}function zB(){Tn(new Pt(jS,qB,"PUBLIC").setMultipleInstances(!0)),Ve(FS,VS,""),Ve(FS,VS,"esm2017")}zB();var Ec=class{constructor(e){return e}},HS="storage",w_=class{constructor(){return Ci(HS)}};var E_=new Q("angularfire2.storage-instances");function GB(n,e){let t=qa(HS,n,e);return t&&new Ec(t)}function WB(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Ec(r)}}var KB={provide:w_,deps:[[new nt,E_]]},QB={provide:Ec,useFactory:GB,deps:[[new nt,E_],nr]};function qS(n,...e){return Ve("angularfire",$r.full,"gcs"),_n([QB,KB,{provide:E_,useFactory:WB(n),multi:!0,deps:[Ee,Et,Ti,Si,[new nt,Ko],[new nt,Di],...e]}])}var zS=Ht(BS,!0);var GS={providers:[Yb(MS),cC(()=>uC(NS.firebase)),IS(()=>bS()),qS(()=>zS())]};var WS=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ze({type:n,selectors:[["app-navbar"]],standalone:!0,features:[We],decls:0,vars:0,template:function(r,i){}})}}return n})();var KS=(()=>{class n{constructor(){this.currentYear=new Date().getFullYear()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ze({type:n,selectors:[["app-footer"]],standalone:!0,features:[We],decls:0,vars:0,template:function(r,i){},dependencies:[Dt]})}}return n})();var QS=(()=>{class n{constructor(){this.title="mi-portafolio-angular"}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=ze({type:n,selectors:[["app-root"]],standalone:!0,features:[We],decls:4,vars:0,consts:[[1,"container","mt-4","mb-4"]],template:function(r,i){r&1&&(Rt(0,"app-navbar"),N(1,"main",0),Rt(2,"router-outlet"),R(),Rt(3,"app-footer"))},dependencies:[tD,Jm,WS,KS]})}}return n})();cb(QS,GS).catch(n=>console.error(n));
